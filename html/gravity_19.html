<div class="container">

<table style="width: 100%;"><tr>
<td>tetrads</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tetrads</h2>

<h3>Description</h3>

<p><code>tetrads</code> estimates gravity models
by taking the ratio of the ratio of flows.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tetrads(
  dependent_variable,
  distance,
  additional_regressors,
  code_origin,
  code_destination,
  filter_origin = NULL,
  filter_destination = NULL,
  multiway = FALSE,
  data,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dependent_variable</code></td>
<td>
<p>(Type: character) name of the dependent variable. This variable is logged and then used as
the dependent variable in the estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>
<p>(Type: character) name of the distance variable that should be taken as the key independent variable
in the estimation. The distance is logged automatically when the function is executed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>additional_regressors</code></td>
<td>
<p>(Type: character) names of the additional regressors to include in the model (e.g. a dummy
variable to indicate contiguity). Unilateral metric variables such as GDP should be inserted via the arguments
<code>income_origin</code> and <code>income_destination</code>.
</p>
<p>Write this argument as <code>c(contiguity, common currency, ...)</code>. By default this is set to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code_origin</code></td>
<td>
<p>(Type: character) country of origin variable (e.g. ISO-3 country codes). The variables are grouped
using this parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code_destination</code></td>
<td>
<p>(Type: character) country of destination variable (e.g. country ISO-3 codes). The variables are
grouped using this parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter_origin</code></td>
<td>
<p>(Type: character) Reference exporting country.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter_destination</code></td>
<td>
<p>(Type: character) Reference importing country.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiway</code></td>
<td>
<p>(Type: logical) in case <code>multiway = TRUE</code>, the
<code>cluster.vcov</code> function is used for estimation following
Cameron et al. (2011) multi-way clustering of
variance-covariance matrices. The default value is set to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(Type: data.frame) the dataset to be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to be passed to the function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>tetrads</code> is an estimation method for gravity models
developed by Head et al. (2010).
</p>
<p>The function <code>tetrads</code> utilizes the multiplicative form of the
gravity equation. After choosing a reference exporter <code>A</code> and
importer <code>B</code> one can eliminate importer and exporter fixed effects
by taking the ratio of ratios.
</p>
<p>Only those exporters trading with the
reference importer and importers trading with the reference exporter will
remain for the estimation. Therefore, reference countries should
preferably be countries which trade with every other country in the dataset.
</p>
<p>After restricting the data in this way, <code>tetrads</code> estimates the gravity
equation in its additive form by OLS.
</p>
<p>By taking the ratio of ratios, all monadic effects diminish, hence no
unilateral variables such as GDP can be included as independent variables.
</p>
<p><code>tetrads</code> estimation can be used for both, cross-sectional as well as
panel data. Nonetheless, the function is designed to be consistent with the
Stata code for cross-sectional data provided on the website
<a href="https://sites.google.com/site/hiegravity/">Gravity Equations: Workhorse, Toolkit, and Cookbook</a>
when choosing robust estimation.
</p>
<p>The function <code>tetrads</code> was therefore tested for cross-sectional data.
</p>
<p>If tetrads is used for panel data, the user may have to drop distance as an
independent variable as time-invariant effects drop.
</p>
<p>For applying <code>tetrads</code> to panel data see Head et al. (2010).
</p>


<h3>Value</h3>

<p>The function returns the summary of the estimated gravity model as an
<code>lm</code>-object.
</p>


<h3>References</h3>

<p>For more information on gravity models, theoretical foundations and
estimation methods in general see
</p>
<p>Anderson JE (1979).
“A Theoretical Foundation for the Gravity Equation.”
<em>The American Economic Review</em>, <b>69</b>(1), 106–116.
ISSN 00028282.
</p>
<p>Anderson JE, van Wincoop E (2001).
“Gravity with Gravitas: A Solution to the Border Puzzle.”
Working Paper 8079, National Bureau of Economic Research.
<a href="https://doi.org/10.3386/w8079">doi:10.3386/w8079</a>.
</p>
<p>Anderson JE (2010).
“The Gravity Model.”
Working Paper 16576, National Bureau of Economic Research.
<a href="https://doi.org/10.3386/w16576">doi:10.3386/w16576</a>.
</p>
<p>Baier SL, Bergstrand JH (2009).
“Bonus vetus OLS: A simple method for approximating international trade-cost effects using the gravity equation.”
<em>Journal of International Economics</em>, <b>77</b>(1), 77 - 85.
ISSN 0022-1996, <a href="https://doi.org/10.1016/j.jinteco.2008.10.004">doi:10.1016/j.jinteco.2008.10.004</a>.
</p>
<p>Baier SL, Bergstrand JH (2010).
“The Gravity Model in International Trade: Advances and Applications.”
In van Bergeijk PAG, Brakman S (eds.), chapter 4.
Cambridge University Press.
<a href="https://doi.org/10.1017/CBO9780511762109">doi:10.1017/CBO9780511762109</a>.
</p>
<p>Feenstra RC (2002).
“Border effects and the gravity equation: consistent methods for estimation.”
<em>Scottish Journal of Political Economy</em>, <b>49</b>(5), 491–506.
</p>
<p>Head K, Mayer T, Ries J (2010).
“The erosion of colonial trade linkages after independence.”
<em>Journal of International Economics</em>, <b>81</b>(1), 1 - 14.
ISSN 0022-1996, <a href="https://doi.org/10.1016/j.jinteco.2010.01.002">doi:10.1016/j.jinteco.2010.01.002</a>.
</p>
<p>Head K, Mayer T (2014).
“Chapter 3 - Gravity Equations: Workhorse,Toolkit, and Cookbook.”
In Gopinath G, Helpman E, Rogoff K (eds.), <em>Handbook of International Economics</em>, volume 4 of <em>Handbook of International Economics</em>, 131 - 195.
Elsevier.
<a href="https://doi.org/10.1016/B978-0-444-54314-1.00003-3">doi:10.1016/B978-0-444-54314-1.00003-3</a>.
</p>
<p>Silva JMCS, Tenreyro S (2006).
“The Log of Gravity.”
<em>The Review of Economics and Statistics</em>, <b>88</b>(4), 641-658.
<a href="https://doi.org/10.1162/rest.88.4.641">doi:10.1162/rest.88.4.641</a>.
</p>
<p>and the citations therein.
</p>
<p>See <a href="https://sites.google.com/site/hiegravity/">Gravity Equations: Workhorse, Toolkit, and Cookbook</a> for gravity datasets and Stata code for estimating gravity models.
</p>
<p>For estimating gravity equations using panel data see
</p>
<p>Egger P, Pfaffermayr M (2003).
“The proper panel econometric specification of the gravity equation: A three-way model with bilateral interaction effects.”
<em>Empirical Economics</em>, <b>28</b>(3), 571–580.
ISSN 1435-8921, <a href="https://doi.org/10.1007/s001810200146">doi:10.1007/s001810200146</a>.
</p>
<p>Gómez-Herrera E (2013).
“Comparing alternative methods to estimate gravity models of bilateral trade.”
<em>Empirical Economics</em>, <b>44</b>(3), 1087–1111.
ISSN 1435-8921, <a href="https://doi.org/10.1007/s00181-012-0576-2">doi:10.1007/s00181-012-0576-2</a>.
</p>
<p>and the references therein.
</p>


<h3>See Also</h3>

<p><code>lm</code>, <code>coeftest</code>,
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example for CRAN checks:
# Executable in &lt; 5 sec
library(dplyr)
data("gravity_no_zeros")

# Choose 5 countries for testing
countries_chosen &lt;- c("AUS", "CHN", "GBR", "BRA", "CAN")
grav_small &lt;- filter(gravity_no_zeros, iso_o %in% countries_chosen)

fit &lt;- tetrads(
  dependent_variable = "flow",
  distance = "distw",
  additional_regressors = "rta",
  code_origin = "iso_o",
  code_destination = "iso_d",
  filter_origin = countries_chosen[1],
  filter_destination = countries_chosen[2],
  data = grav_small
)
</code></pre>


</div>