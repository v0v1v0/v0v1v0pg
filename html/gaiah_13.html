<div class="container">

<table style="width: 100%;"><tr>
<td>group_birds_by_location</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Group bird isotope data by locations</h2>

<h3>Description</h3>

<p>This takes as input a data frame of feather isotope data that also has the
isoscape predictions attached to it, just like the data frame returned by
<code>extract_isopredictions</code>.  The data frame must have a column
that gives the general location by which you will group birds for the
rescaling function.  The isoscape predictions by default should be in columns named
<code>iso_pred</code> for the actual prediction, and <code>iso_sd</code> for the standard deviation,
as produced by <code>extract_isopredictions</code>, but those are user configurable,
as well.
</p>


<h3>Usage</h3>

<pre><code class="language-R">group_birds_by_location(
  D,
  feather_isotope_col,
  location_col,
  iso_pred_col = "iso_pred",
  iso_sd_col = "iso_sd"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>the data frame of feather isotope data with the isoscape predictions
extracted for each location, as well, and a column giving general grouping
locations for the birds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feather_isotope_col</code></td>
<td>
<p>the string name of the column holding the feather isotope
data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>location_col</code></td>
<td>
<p>the string name of the column holding the locations to be
used for grouping.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iso_pred_col</code></td>
<td>
<p>name of the column holding the predicted values from the isoscape. Default
is <code>iso_pred</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iso_sd_col</code></td>
<td>
<p>name of the column holding the standard deviations of the predicted values
from the isoscape. Default is <code>iso_sd_col</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function returns a data frame with columns for the mean and SD of feather/bird values,
(<code>meanH</code> and <code>sdH</code>) and the mean predicted isotope value and the mean sd of the predicted
isotope values (<code>meaniso</code> and <code>sdiso</code>) for all the samples within each location.  It
also returns the Location column itself and a column <code>cnt</code> that gives the number of bird/tissue
samples from each location.
</p>
<p>This function
throws an error if any of the locations has only 1 sample.  If that is the case, you may consider
merging that sample with another location (or dropping it?).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># first run the example for extract_isopredictions to get the variable "x"
example("extract_isopredictions")

# If this were run it gives an error because there is only 1 bird at the
# location "Charlevoix"
## Not run: 
group_birds_by_location(x, feather_isotope_col = "Isotope.Value", location_col = "Location")

## End(Not run)


# remove that one bird at Charlevoix and re-run
y &lt;- x %&gt;%
  dplyr::filter(Location != "Charlevoix")

# then group birds by location
gbl &lt;- group_birds_by_location(D = y,
                               feather_isotope_col = "Isotope.Value",
                               location_col = "Location")
</code></pre>


</div>