<div class="container">

<table style="width: 100%;"><tr>
<td>design_nb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Clinical trials with negative binomial outcomes</h2>

<h3>Description</h3>

<p>Design a clinical trial with negative binomial outcomes
</p>


<h3>Usage</h3>

<pre><code class="language-R">design_nb(
  rate1,
  rate2,
  dispersion,
  power,
  ratio_H0 = 1,
  sig_level,
  random_ratio = 1,
  t_recruit1 = NULL,
  t_recruit2 = NULL,
  study_period = NULL,
  accrual_period = NULL,
  followup_max = NULL,
  accrual_speed = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rate1</code></td>
<td>
<p>numeric; assumed rate of treatment group 1 in the alternative</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate2</code></td>
<td>
<p>numeric; assumed rate of treatment group 2 in the alternative</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dispersion</code></td>
<td>
<p>numeric; dispersion (shape) parameter of negative binomial distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>numeric; target power</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio_H0</code></td>
<td>
<p>numeric; positive number denoting the rate ratio rate_1/rate_2
under the null hypothesis, i.e. the non-inferiority or superiority margin</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig_level</code></td>
<td>
<p>numeric; Type I error / significance level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random_ratio</code></td>
<td>
<p>numeric; randomization ratio n1/n2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_recruit1</code></td>
<td>
<p>numeric vector; recruit (i.e. study entry) times in group 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_recruit2</code></td>
<td>
<p>numeric vector; recruit (i.e. study entry) times in group 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>study_period</code></td>
<td>
<p>numeric; study duration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accrual_period</code></td>
<td>
<p>numeric; accrual period</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>followup_max</code></td>
<td>
<p>numeric; maximum exposure time of a patient</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accrual_speed</code></td>
<td>
<p>numeric; determines accrual speed; values larger than 1
result in accrual slower than linear; values between 0 and 1 result in accrual 
faster than linear.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>rate1</code></td>
<td>
<p>as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate2</code></td>
<td>
<p>as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dispersion</code></td>
<td>
<p>as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio_H0</code></td>
<td>
<p>as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio_H1</code></td>
<td>
<p>ratio <code>rate1</code>/<code>rate2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig_level</code></td>
<td>
<p>as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random_ratio</code></td>
<td>
<p>as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_recruit1</code></td>
<td>
<p>as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_recruit2</code></td>
<td>
<p>as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>study_period</code></td>
<td>
<p>as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>followup_max</code></td>
<td>
<p>as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_info</code></td>
<td>
<p>maximum information</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># Calculate sample size for given accrual period and study duration assuming uniformal accrual
out &lt;- design_nb(rate1 = 0.0875, rate2 = 0.125, dispersion = 5, power = 0.8,
                 ratio_H0 = 1, sig_level = 0.025,
                 study_period = 4, accrual_period = 1, random_ratio = 2)
out

# Calculate sample size for a fixed exposure time of 0.5 years
out &lt;- design_nb(rate1 = 4.2, rate2 = 8.4, dispersion = 3, power = 0.8,
                 ratio_H0 = 1, sig_level = 0.025,
                 followup_max = 0.5, random_ratio = 2)
out

# Calculate study period for given recruitment time
t_recruit1 &lt;- seq(0, 1.25, length.out = 1200)
t_recruit2 &lt;- seq(0, 1.25, length.out = 800)
out &lt;- design_nb(rate1 = 0.0875, rate2 = 0.125, dispersion = 5, power = 0.8,
                 ratio_H0 = 1, sig_level = 0.025,
                 t_recruit1 = t_recruit1, t_recruit2 = t_recruit2)
</code></pre>


</div>