<div class="container">

<table style="width: 100%;"><tr>
<td>comb_BG</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bates/Granger (1969) Forecast Combination Approach</h2>

<h3>Description</h3>

<p>Computes forecast combination weights according to the approach by Bates and Granger (1969) and produces forecasts for the test set, if provided.
</p>


<h3>Usage</h3>

<pre><code class="language-R">comb_BG(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>foreccomb</code>. Contains training set (actual values + matrix of model forecasts) and optionally a test set.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>In their seminal paper, Bates and Granger (1969) introduce the idea of combining forecasts. Their approach builds on portfolio diversification theory and uses the diagonal
elements of the estimated mean squared prediction error matrix in order to compute combination weights:
</p>
<p style="text-align: center;"><code class="reqn">w_i^{BG} = \frac{\hat{\sigma}^{-2} (i)}{\Sigma_{j=1}^N  \hat{\sigma}^{-2} (j)}</code>
</p>

<p>where <code class="reqn">\hat{\sigma}^{-2} (i)</code> is the estimated mean squared prediction error of the i-th model.
</p>
<p>The combined forecast is then obtained by:
</p>
<p style="text-align: center;"><code class="reqn">\hat{y}_t = {\mathbf{f}_{t}}'\mathbf{w}^{BG}</code>
</p>

<p>Their approach ignores correlation between forecast models due to difficulties in precisely estimating the covariance matrix.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>foreccomb_res</code> with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Method</code></td>
<td>
<p>Returns the used forecast combination method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Models</code></td>
<td>
<p>Returns the individual input models that were used for the forecast combinations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Weights</code></td>
<td>
<p>Returns the combination weights obtained by applying the combination method to the training set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Fitted</code></td>
<td>
<p>Returns the fitted values of the combination method for the training set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Accuracy_Train</code></td>
<td>
<p>Returns range of summary measures of the forecast accuracy for the training set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Forecasts_Test</code></td>
<td>
<p>Returns forecasts produced by the combination method for the test set. Only returned if input included a forecast matrix for the test set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Accuracy_Test</code></td>
<td>
<p>Returns range of summary measures of the forecast accuracy for the test set. Only returned if input included a forecast matrix and a vector of actual values for the test set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Input_Data</code></td>
<td>
<p>Returns the data forwarded to the method.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Christoph E. Weiss and Gernot R. Roetzer
</p>


<h3>References</h3>

<p>Bates, J. M., and Granger, C. W. (1969). The Combination of Forecasts. <em>Journal of the Operational Research Society</em>, <b>20(4)</b>, 451–468.
</p>
<p>Timmermann, A. (2006). Forecast Combinations. In: Elliott, G., Granger, C. W. J., and Timmermann, A. (Eds.), <em>Handbook of Economic Forecasting</em>,
<b>1</b>, 135–196.
</p>


<h3>See Also</h3>

<p><code>foreccomb</code>,
<code>plot.foreccomb_res</code>,
<code>summary.foreccomb_res</code>,
<code>accuracy</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">obs &lt;- rnorm(100)
preds &lt;- matrix(rnorm(1000, 1), 100, 10)
train_o&lt;-obs[1:80]
train_p&lt;-preds[1:80,]
test_o&lt;-obs[81:100]
test_p&lt;-preds[81:100,]

data&lt;-foreccomb(train_o, train_p, test_o, test_p)
comb_BG(data)

</code></pre>


</div>