<div class="container">

<table style="width: 100%;"><tr>
<td>cr_buildstep_bash</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run a bash script in a Cloud Build step</h2>

<h3>Description</h3>

<p>Helper to run a supplied bash script, that will be copied in-line
</p>


<h3>Usage</h3>

<pre><code class="language-R">cr_buildstep_bash(
  bash_script,
  name = "ubuntu",
  bash_source = c("local", "runtime"),
  escape_dollar = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bash_script</code></td>
<td>
<p>bash code to run or a filepath to a file containing bash code that ends with .bash or .sh</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>The image that will run the R code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bash_source</code></td>
<td>
<p>Whether the code will be from a runtime file within the source or at build time copying over from a local file in your session</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>escape_dollar</code></td>
<td>
<p>Default TRUE.  This will turn <code>$</code> into <code>$$</code> within the script to avoid them being recognised as Cloud Build variables.  Turn this off if you want that behaviour (e.g. <code>my_project="$PROJECT_ID"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to cr_buildstep</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If you need to escape build parameters in bash scripts, you need to escape CloudBuild's substitution via <code>$$</code> and bash's substitution via <code>\$</code> e.g. <code>\$$PARAM</code>
</p>


<h3>See Also</h3>

<p>Other Cloud Buildsteps: 
<code>cr_buildstep_decrypt()</code>,
<code>cr_buildstep_df()</code>,
<code>cr_buildstep_docker()</code>,
<code>cr_buildstep_edit()</code>,
<code>cr_buildstep_extract()</code>,
<code>cr_buildstep_gcloud()</code>,
<code>cr_buildstep_gitsetup()</code>,
<code>cr_buildstep_mailgun()</code>,
<code>cr_buildstep_nginx_setup()</code>,
<code>cr_buildstep_packagetests()</code>,
<code>cr_buildstep_pkgdown()</code>,
<code>cr_buildstep_run()</code>,
<code>cr_buildstep_r()</code>,
<code>cr_buildstep_secret()</code>,
<code>cr_buildstep_slack()</code>,
<code>cr_buildstep_targets()</code>,
<code>cr_buildstep()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">cr_project_set("my-project")
bs &lt;- cr_build_yaml(
  steps = cr_buildstep_bash("echo 'Hello'")
)
## Not run: 
cr_build(bs)

## End(Not run)
</code></pre>


</div>