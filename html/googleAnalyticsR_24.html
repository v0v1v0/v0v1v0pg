<div class="container">

<table style="width: 100%;"><tr>
<td>ga_clientid_activity_unnest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Unnest user activity columns</h2>

<h3>Description</h3>

<p>This helper function works with the output of user activity and parses out inner nested structure you may require.
</p>
<p>Thanks to @jimmyg3g on GitHub for help with the ecommerce parsing.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ga_clientid_activity_unnest(
  hits,
  column = c("customDimension", "ecommerce", "goals")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>hits</code></td>
<td>
<p>The hits data.frame with the columns to expand</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column</code></td>
<td>
<p>Which column to expand - one of <code style="white-space: pre;">⁠"customDimension","ecommerce","goals"⁠</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A function to help expand data out of nested columns returned by ga_clientid_activity
</p>


<h3>Value</h3>

<p>An unnested data.frame tibble for all hits that matches the column
</p>


<h3>See Also</h3>

<p>Other clientid functions: 
<code>ga_clientid_activity()</code>,
<code>ga_clientid_deletion()</code>,
<code>ga_clientid_hash()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
# access clientIds for users who have transacted
viewId &lt;- 106249469
date_range &lt;- c("2019-01-01","2019-02-01")
cids &lt;- google_analytics(viewId, 
                         date_range = date_range, 
                         metrics = "sessions", 
                         dimensions = "clientId", 
                         met_filters = filter_clause_ga4(
                           list(met_filter("transactions", 
                                           "GREATER_THAN", 
                                           0)
                                )))
                                
transactors &lt;- ga_clientid_activity(cids$clientId,
                                    viewId = viewId, 
                                    date_range = date_range)

# unnest ecommerce activity hits from users
ga_clientid_activity_unnest(transactors$hits, "ecommerce")   

# unnest goal activity hits from users
ga_clientid_activity_unnest(transactors$hits, "goals") 

# unnest custom dimension activity hits from users
ga_clientid_activity_unnest(transactors$hits, "customDimension") 


## End(Not run)
</code></pre>


</div>