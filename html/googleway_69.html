<div class="container">

<table style="width: 100%;"><tr>
<td>google_map_update</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Google map update</h2>

<h3>Description</h3>

<p>Update a Google map in a shiny app. Use this function whenever the map needs
to respond to reactive content.
</p>


<h3>Usage</h3>

<pre><code class="language-R">google_map_update(
  map_id,
  session = shiny::getDefaultReactiveDomain(),
  data = NULL,
  deferUntilFlush = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map_id</code></td>
<td>
<p>string containing the output ID of the map in a shiny application.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>the Shiny session object to which the map belongs; usually the
default value will suffice.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data to be used in the map. See the details section for <code>google_map</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deferUntilFlush</code></td>
<td>
<p>indicates whether actions performed against this
instance should be carried out right away, or whether they should be held until
after the next time all of the outputs are updated; defaults to TRUE.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

library(shiny)
library(googleway)

ui &lt;- pageWithSidebar(
  headerPanel("Toggle markers"),
  sidebarPanel(
    actionButton(inputId = "markers", label = "toggle markers")
  ),
  mainPanel(
    google_mapOutput("map")
  )
)

server &lt;- function(input, output, session){

  # api_key &lt;- "your_api_key"

  df &lt;- structure(list(lat = c(-37.8201904296875, -37.8197288513184,
  -37.8191299438477, -37.8187675476074, -37.8186187744141, -37.8181076049805
  ), lon = c(144.968612670898, 144.968414306641, 144.968139648438,
 144.967971801758, 144.967864990234, 144.967636108398), weight = c(31.5698964400217,
 97.1629025738221, 58.9051092562731, 76.3215389118996, 37.8982300488278,
 77.1501972114202), opacity = c(0.2, 0.2, 0.2, 0.2, 0.2, 0.2)), .Names = c("lat",
 "lon", "weight", "opacity"), row.names = 379:384, class = "data.frame")


  output$map &lt;- renderGoogle_map({
    google_map(key = api_key)
  })

  observeEvent(input$markers,{

    if(input$markers %% 2 == 1){
      google_map_update(map_id = "map") %&gt;%
        add_markers(data = df)
    }else{
      google_map_update(map_id = "map") %&gt;%
        clear_markers()
    }
  })
 }
shinyApp(ui, server)

## End(Not run)
</code></pre>


</div>