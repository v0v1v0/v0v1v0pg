<div class="container">

<table style="width: 100%;"><tr>
<td>galah_select</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Specify fields for occurrence download</h2>

<h3>Description</h3>

<p>GBIF nodes store content in hundreds of
different fields, and users often require thousands or millions of records at
a time. To reduce time taken to download data, and limit complexity of the
resulting <code>tibble</code>, it is sensible to restrict the fields returned by
<code>atlas_occurrences()</code>. This function allows easy selection of fields, or
commonly-requested groups of columns, following syntax shared with
<code>dplyr::select()</code>.
</p>
<p>The full list of available fields can be viewed with <code>show_all(fields)</code>. Note
that <code>select()</code> and <code>galah_select()</code> are supported for all atlases that allow
downloads, with the exception of GBIF, for which all columns are returned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">galah_select(..., group)

## S3 method for class 'data_request'
select(.data, ..., group)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>zero or more individual column names to include</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p><code>string</code>: (optional) name of one or more column groups to
include. Valid options are <code>"basic"</code>, <code>"event"</code> <code>"taxonomy"</code>, <code>"media"</code> and
<code>"assertions"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>An object of class <code>data_request</code>, created using <code>galah_call()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Calling the argument <code>group = "basic"</code> returns the following columns:
</p>

<ul>
<li> <p><code>decimalLatitude</code>
</p>
</li>
<li> <p><code>decimalLongitude</code>
</p>
</li>
<li> <p><code>eventDate</code>
</p>
</li>
<li> <p><code>scientificName</code>
</p>
</li>
<li> <p><code>taxonConceptID</code>
</p>
</li>
<li> <p><code>recordID</code>
</p>
</li>
<li> <p><code>dataResourceName</code>
</p>
</li>
<li> <p><code>occurrenceStatus</code>
</p>
</li>
</ul>
<p>Using <code>group = "event"</code> returns the following columns:
</p>

<ul>
<li> <p><code>eventRemarks</code>
</p>
</li>
<li> <p><code>eventTime</code>
</p>
</li>
<li> <p><code>eventID</code>
</p>
</li>
<li> <p><code>eventDate</code>
</p>
</li>
<li> <p><code>samplingEffort</code>
</p>
</li>
<li> <p><code>samplingProtocol</code>
</p>
</li>
</ul>
<p>Using <code>group = "media"</code> returns the following columns:
</p>

<ul>
<li> <p><code>multimedia</code>
</p>
</li>
<li> <p><code>multimediaLicence</code>
</p>
</li>
<li> <p><code>images</code>
</p>
</li>
<li> <p><code>videos</code>
</p>
</li>
<li> <p><code>sounds</code>
</p>
</li>
</ul>
<p>Using <code>group = "taxonomy"</code> returns higher taxonomic information for a given
query. It is the only <code>group</code> that is accepted by <code>atlas_species()</code> as well
as <code>atlas_occurrences()</code>.
</p>
<p>Using <code>group = "assertions"</code> returns all quality assertion-related
columns. The list of assertions is shown by <code>show_all_assertions()</code>.
</p>
<p>For <code>atlas_occurrences()</code>, arguments passed to <code>...</code> should be valid field
names, which you can check using <code>show_all(fields)</code>. For <code>atlas_species()</code>,
it should be one or more of:
</p>

<ul>
<li> <p><code>counts</code> to include counts of occurrences per species.
</p>
</li>
<li> <p><code>synonyms</code> to include any synonymous names.
</p>
</li>
<li> <p><code>lists</code> to include authoritiative lists that each species is included on.
</p>
</li>
</ul>
<h3>Value</h3>

<p>A tibble
specifying the name and type of each column to include in the
call to <code>atlas_counts()</code> or <code>atlas_occurrences()</code>.
</p>


<h3>See Also</h3>

<p><code>search_taxa()</code>, <code>galah_filter()</code> and
<code>galah_geolocate()</code> for other ways to restrict the information returned
by <code>atlas_occurrences()</code> and related functions; <code>atlas_counts()</code>
for how to get counts by levels of variables returned by <code>galah_select</code>;
<code>show_all(fields)</code> to list available fields.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Download occurrence records of *Perameles*, 
# Only return scientificName and eventDate columns
galah_config(email = "your-email@email.com")
galah_call() |&gt;
  galah_identify("perameles")|&gt;
  galah_select(scientificName, eventDate) |&gt;
  atlas_occurrences()

# Only return the "basic" group of columns and the basisOfRecord column
galah_call() |&gt;
  galah_identify("perameles") |&gt;
  galah_select(basisOfRecord, group = "basic") |&gt;
  atlas_occurrences()
  
# When used in a pipe, `galah_select()` and `select()` are synonymous.
# Hence the previous example can be rewritten as:
request_data() |&gt;
  identify("perameles") |&gt;
  select(basisOfRecord, group = "basic") |&gt;
  collect()

## End(Not run)
</code></pre>


</div>