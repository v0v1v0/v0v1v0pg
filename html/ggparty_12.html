<div class="container">

<table style="width: 100%;"><tr>
<td>ggparty</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a new ggparty plot</h2>

<h3>Description</h3>

<p><code>ggplot2</code> extension for objects of class <code>party</code>. Creates a <code>data.frame</code> from
an object of class <code>party</code> and calls <code>ggplot()</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggparty(party, horizontal = FALSE, terminal_space, layout = NULL,
  add_vars = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>party</code></td>
<td>
<p>Object of class <code>party</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizontal</code></td>
<td>
<p>If <code>TRUE</code> plot will be horizontal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>terminal_space</code></td>
<td>
<p>Proportion of the plot that should be reserved for
the terminal nodeplots. Defaults to <code>2 / (depth(party) + 2)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layout</code></td>
<td>
<p>Optional layout adjustment. Overwrites the coordinates of the
specified nodes. Must be <code>data.frame</code> containing the
columns <code>id</code>, <code>x</code> and <code>y</code>. With <code>x</code> and <code>y</code> values between 0 and 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_vars</code></td>
<td>
<p>Named list containing either string(s) specifying the locations
of elements to be extracted from
each node of <code>party</code>  or function(s) of corresponding row of plot data and node.
In either case returned object  has to be of length 1.
If the data is supposed to be accessible by <code>geom_node_plot()</code> the respective
list entry has
to be named with the prefix <code>"nodedata_"</code> and be a function returning a list
of same length as <code>nodesize</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>ggparty</code> can be called directly with an object of class <code>party</code>, which will
convert it to a suitable <code>data.frame</code> and pass it to a call to <code>ggplot</code> with as
the <code>data</code> argument. As usual, additional components can then be added with
<code>+</code>.
</p>
<p>The nodes will be spaced equally in the unit square. Specifying
<code>terminal_size</code> allows to increase or decrease the area for plots of the
terminal nodes.
</p>
<p>If one of the list entries supplied to <code>add_vars</code> is a function, it has to take
exactly two arguments,
namely <code>data</code> (the corresponding row of the plot_data data frame) and <code>node</code>
(the corresponding node, i.e. <code>party_object[i]</code>)
</p>


<h3>See Also</h3>

<p><code>geom_edge()</code>, <code>geom_edge_label()</code>, <code>geom_node_label()</code>,
<code>autoplot.party()</code>, <code>geom_node_plot()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ggparty)
data("WeatherPlay", package = "partykit")
sp_o &lt;- partysplit(1L, index = 1:3)
sp_h &lt;- partysplit(3L, breaks = 75)
sp_w &lt;- partysplit(4L, index = 1:2)
pn &lt;- partynode(1L, split = sp_o, kids = list(
  partynode(2L, split = sp_h, kids = list(
    partynode(3L, info = "yes"),
    partynode(4L, info = "no"))),
  partynode(5L, info = "yes"),
  partynode(6L, split = sp_w, kids = list(
    partynode(7L, info = "yes"),
    partynode(8L, info = "no")))))
py &lt;- party(pn, WeatherPlay)

ggparty(py) +
  geom_edge() +
  geom_edge_label() +
  geom_node_label(aes(label = splitvar),
                  ids = "inner") +
  geom_node_label(aes(label = info),
                  ids = "terminal")
</code></pre>


</div>