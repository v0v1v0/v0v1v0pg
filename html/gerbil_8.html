<div class="container">

<table style="width: 100%;"><tr>
<td>plot.gerbil</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting for gerbil objects</h2>

<h3>Description</h3>

<p>Using a <code>gerbil</code> object as an input, this function gives
diagnostic plots for selected variables
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'gerbil'
plot(
  x,
  y = NULL,
  type = "Univariate",
  imp = 1,
  col = NULL,
  lty = NULL,
  lwd = NULL,
  pch = NULL,
  log = NULL,
  legend = NULL,
  legend.loc = "topright",
  mfrow = c(3, 2),
  trace.type = "Mean",
  file = NULL,
  sep = FALSE,
  height = NULL,
  width = NULL,
  partial = "imputed",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>gerbil</code> object containing the imputed data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A vector listing the column names of the imputed data for which plots should be created. See details. By default, <code>y</code> contains all columns of the data that required imputation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A scalar used to specify the type of plots that will be created.  Options include univariate (marginal) plots (<code>type = 1</code>), bivariate plots (<code>type = 2</code>), and trace plots (<code>type = 3</code>). See details. Defaults to <code>type = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>imp</code></td>
<td>
<p>A scalar or vector indicating which of the multiply imputed datasets should be used for plotting.  Defaults to <code>imp = 1</code>. Setting <code>imp = TRUE</code> will include all imputed datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>The color used for plotting – should be a vector of length equal to <code>imp + 1</code>. The first element references plotting of observed data, and remaining elements reference plotting of imputed data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>The line type used for plotting imputed values with trace lines or density plots – should be a vector of length equal to <code>imp + 1</code>. The first element references plotting of observed data, and remaining elements reference plotting of imputed data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>The line width used for density and trace line plotting – should be a vector of length equal to <code>imp + 1</code>. The first element references plotting of observed data, and remaining elements reference plotting of imputed data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>A length-2 vector that indicates the plotting symbol to be used for imputed and observed values in scatter and lattice plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>A character vector that includes names of variables of which a log transformation is to be taken prior to plotting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>A character or expression vector to appear in the legend. If <code>FALSE</code> or <code>'n'</code>, no legend is created. Defaults to <code>c("Observed", "Imputed", ...)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.loc</code></td>
<td>
<p>The location of the legend in the plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mfrow</code></td>
<td>
<p>The layout of plots across a single page when there are to be multiple plots per page (as is the case when <code>file</code> is non-<code>NULL</code> and <code>sep = FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace.type</code></td>
<td>
<p>The type of trace plot to be created (only valid when <code>type = 3</code>).  See details.  Defaults to <code>trace.type = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>A character string giving the name of file that will be created in the home directory containing plots. The name should have a <code>.pdf</code> or <code>.png</code> extension. If <code>NULL</code> (the default), no file is created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>If <code>sep = TRUE</code>, separate plots will be generated for each outcome.  Applicable only if plots are saved to file (<code>plot.file</code> is <code>non-NULL</code>). To change display of plots produced as output, use <code>par</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>The height of the graphics region (in inches) when a pdf is created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>The width of the graphics region (in inches) when a pdf is created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partial</code></td>
<td>
<p>Indicates how partially imputed pairs are handled in bivariate plotting. If <code>'imputed'</code>, cases with at least one missing variable in a pair are considered imputed. Otherwise (<code>partial = 'observed'</code>), only cases with both variables in the pair missing are considered imputed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to methods, such as <code>plot</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Three types of plots may be produced:
1) Univariate (produced by setting <code>type = 1</code>): Compares the marginal distribution of observed and imputed values of a given variable.  Density plots are produced for continuous variables, and bar plots are given for binary, categorical, and ordinal variables.  For semi-continuous variables, two plots are constructed: a) a bar plot for the binary portion of the variable and 2) a density plot for the continuous portion.
2) Bivariate (produced by setting <code>type = 2</code>): Compares the bivariate distributions of observed and imputed values of two variables.  Scatter plots are produced if both variables are continuous or semi-continuous, box plots are produced if one variable is continuous or semi-continuous and the other is not, and a lattice plot is produced if neither variable is continuous or semi-continuous. For bivariate plots, imputed observations are those that have one or more of the values of the pair missing within the original dataset.
3) Trace lines (produced by setting <code>type = 3</code>): Plots a pre-specified parameter across iterations of MCMC in order to examine convergence for a given variable.  Parameters that may be plotted include means (<code>trace.type = 1</code>) and variances (<code>trace.type = 2</code>).
</p>
<p>Multiple plots may be created, as determined by the variable names listed in the parameter <code>y</code>. For univariate and trace plots, one plot is created for
each variable listed in <code>y</code>. For bivariate plotting, one plot is created for each combination of two elements within the vector <code>y</code> (as such, <code>y</code> must have a length of at least two in this case).
For trace plotting, elements of <code>y</code> should correspond to column names in the dataset that has been expanded to include binary indicators for categorical and semi-continuous variables.
If multiple plots are to be created, it is recommended to specify a file for output using the parameter <code>file</code>, in which case separate
files will be created for each plot (if <code>sep = TRUE</code>) or all plots will be written to the same file (if <code>sep = FALSE</code>).
</p>
<p>The only required input is a parameter <code>x</code> which is a <code>gerbil</code> object.
</p>


<h3>Value</h3>

<p>No returned value, but instead plots are generated in the workspace or written to a specified directory.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#Load the India Human Development Survey-II dataset
data(ihd_mcar) 

# Create a gerbil object

imps.gerbil &lt;- gerbil(ihd_mcar, m = 1, ords = "education_level", semi = "farm_labour_days", 
       bincat = "job_field")

# Univariate plotting of all variables to a file
plot(imps.gerbil, type = 1, file = file.path(tempdir(), "gerbil_univariate.pdf"))

# Bivariate plotting of all variables to a file
plot(imps.gerbil, type = 2, file = file.path(tempdir(), "gerbil_bivariate.pdf"))

# Trace plotting of all variables to a file
plot(imps.gerbil, type = 3, file = file.path(tempdir(), "gerbil_ts.pdf"))

# Univariate plotting of one variable (not to a file)
plot(imps.gerbil, type = 1, y = "job_field")

# Bivariate plotting of one pair of variables (not to a file)
plot(imps.gerbil, type = 2, y = c("job_field", "income"))

# Bivariate plotting of one pair of variables (not to a file) with income logged
plot(imps.gerbil, type = 2, y = c("job_field", "income"), log = "income")


</code></pre>


</div>