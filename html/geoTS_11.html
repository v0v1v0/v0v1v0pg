<div class="container">

<table style="width: 100%;"><tr>
<td>split_replace</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Splits a Raster* object into smaller chunks and allows to replace cell values</h2>

<h3>Description</h3>

<p>This function will split a Raster* object into smaller chunks. The size of these chunks (number of cells) 
is controlled by <code>partPerSide</code>, <code>h</code> or <code>v</code>. Additionally, it allows to replace cell values (<code>valToReplace</code>) 
within Raster* object by another value of user's choice (<code>replacedBy</code>). When <code>save = TRUE</code>, 
the resulting <code>cellsToProcess</code> Raster* objects are saved in directory <code>outputPath</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">split_replace(
  raster,
  partPerSide,
  h,
  v,
  outputPath,
  name,
  save = TRUE,
  replace = FALSE,
  valToReplace,
  replacedBy,
  dataType,
  format = "GTiff",
  parallelProcessing = FALSE,
  numCores = 20,
  cellsToProcess,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>raster</code></td>
<td>
<p>Raster* object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partPerSide</code></td>
<td>
<p>integer indicating number of cells in which <code>raster</code> will be split 
in each direction (horizontally and vertically). Use when <code>nrow(raster)</code> and 
<code>ncol(raster)</code> are multiples of <code>partPerSide</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>integer indicating number of horizontal cells in which <code>raster</code> will be split.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>integer indicating number of vertical cells in which <code>raster</code> will be split.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputPath</code></td>
<td>
<p>character with full path name where the resulting Raster* objects will be saved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>character with the name to assign to final products.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save</code></td>
<td>
<p>logical, should the output be saved, default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>logical, default <code>FALSE</code>, when <code>TRUE</code>, <code>valToReplace</code> and <code>replacedBy</code> must by specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valToReplace</code></td>
<td>
<p>indicates a value to be replaced across <code>raster</code> cells.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replacedBy</code></td>
<td>
<p>indicates the value by which <code>valToReplace</code> is replaced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataType</code></td>
<td>
<p>character, output data type. See <code>dataType</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>character, output file type, default <code>"GTiff"</code>. See <code>writeFormats</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallelProcessing</code></td>
<td>
<p>logical, default <code>FALSE</code>, when <code>TRUE</code> raster splitting is done in parallel. See
<b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numCores</code></td>
<td>
<p>numeric indicating the number of cores used in parallel processing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cellsToProcess</code></td>
<td>
<p>numeric vector indicating which smaller cells should be processed/saved. See <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments used by <code>writeRaster</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Before processing any of the <code>cellsToProcess</code> the temporary raster 
directory is re-directed. Basically, prior to process the i-th cell, 
at <code>outputPath</code> a new subdirectory is created, which, in turn, is erased 
automatically once the i-th cell has been processed. As a result of several tests 
we found that this measure avoids memory overflow.
</p>
<p>When <code>partPerSide</code> is used, <code>cellsToProcess = 1:(partPerSide^2)</code>. When <code>h</code>
and <code>v</code> are used, <code>cellsToProcess = 1:(ncells(raster)/(h*v))</code>. Since the code
assumes that <code>nrow(raster)</code> and <code>ncol(raster)</code> are multiples of <code>partPerSide</code>
or <code>h</code> and <code>v</code>, respectively, the user must be careful when selecting these
parameters.
</p>
<p>For <code>parallelProcessing</code> the backend <code>doParallel</code> is employed.
</p>


<h3>Value</h3>

<p>At <code>outputPath</code> the user will find <code>length(cellsToProcess)</code> Raster* files
</p>


<h3>See Also</h3>

<p><code>writeRaster</code>, <code>aggregate</code>, 
<code>rasterOptions</code>
</p>


</div>