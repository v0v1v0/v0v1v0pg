<div class="container">

<table style="width: 100%;"><tr>
<td>gators_download</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download - Download specimen data from both iDigBio and GBIF</h2>

<h3>Description</h3>

<p>The <code>gators_download()</code> function downloads data from GBIF and iDigBio for your desired species.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gators_download(
  synonyms.list,
  write.file = FALSE,
  filename = NA,
  gbif.match = "fuzzy",
  gbif.prov = FALSE,
  idigbio.filter = TRUE,
  limit = 1e+05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>synonyms.list</code></td>
<td>
<p>A list of scientific names including the accepted scientific name and any synonyms for your desired species. For example, <code>synonyms.list = c("Asclepias curtissii","Asclepias aceratoides", "Asclepias arenicola", "Oxypteryx arenicola", "Oxypteryx curtissii")</code>.
This parameter is required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write.file</code></td>
<td>
<p>A parameter to choose whether to produce a .csv file containing search results.
This parameter is not required and is assigned FALSE by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>The path and file name for the retrieved data. Note that this parameter should include the ".csv"
extension as well. For example, <code>filename = "base_folder/other_folder/my_file.csv"</code>. The file path can be entered
either as relative to the current working directory (example: "../my_file.csv") or as a full path. This parameter is
required if <code>write.file = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gbif.match</code></td>
<td>
<p>A parameter to select either search by fuzzy matching of scientific name or to search by species code.
For example, <code>gbif.match = "fuzzy"</code> will search by fuzzy match and <code>gbif.match = "code"</code> will search by code. This parameter
is not required and is assigned "fuzzy" by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gbif.prov</code></td>
<td>
<p>A parameter to obtain the provider/verbatim columns from GBIF. This parameter is optional
and is assigned <code>FALSE</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idigbio.filter</code></td>
<td>
<p>A parameter to remove less relevant search results from iDigBio. Based on the search input, results may
include data points for a different species that mention the desired species in the locality information, for example.
Choosing <code>idigbio.filter = TRUE</code> will return the data frame with rows in which the name column fuzzy matches a name on the synonym list.
This parameter is not required and is assigned TRUE by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>Default = 100,000 (maximum). Set limit to the number of records requested for each element in synonyms.list from each aggregator.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>With <code>gators_download()</code> you can obtain biodiversity records for your species of interest from both GBIF and iDigBio.
This function is innovative in how it searches iDigBio. Unlike <code>spocc::occ()</code>, we do not query the iDigBio API using
the scientific name field, as this will only return exact matches.
Instead, we designed a “pseudo-fuzzy match” to search all fields for
partial matches to the supplied scientific names.
This function uses the <code>get_idigbio()</code>, <code>get_gbif()</code>, <code>fix_columns()</code>, <code>fix_names()</code>, and <code>filter_fix_names()</code> functions.
This function requires packages magrittr, rgbif, dplyr, ridigbio, and stringr.
</p>


<h3>Value</h3>

<p>Returns a data frame and writes a csv file as specified in the input.
This csv file will contain search results for the desired species
from the GBIF and iDigBio databases. The columns are as follows:
</p>

<ul>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_scientificName">scientificName</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_genus">genus</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_specificEpithet">specificEpithet</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_infraspecificEpithet">infraspecificEpithet</a>
</p>
</li>
<li>
<p> ID (contains unique IDs defined from GBIF or iDigBio)
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_occurrenceID">occurrenceID</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_basisOfRecord">basisOfRecord</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_eventDate">eventDate</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_year">year</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_month">month</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_day">day</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_institutionCode">institutionCode</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_recordedBy">recordedBy</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_informationWithheld">informationWithheld</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_country">country</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_county">county</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_stateProvince">stateProvince</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_locality">locality</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_decimalLatitude">latitude</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_decimalLongitude">longitude</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_coordinateUncertaintyInMeters">coordinateUncertaintyInMeters</a>
</p>
</li>
<li> <p><a href="https://dwc.tdwg.org/list/#dwc_habitat">habitat</a>
</p>
</li>
<li>
<p> aggregator (either GBIF or iDigBio)
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">df &lt;- gators_download(synonyms.list = c("Galax urceolata", "Galax aphylla"), limit = 10)
df &lt;- gators_download(synonyms.list = "Galax urceolata", gbif.match = "code",
idigbio.filter = FALSE, limit = 10)

</code></pre>


</div>