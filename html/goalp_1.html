<div class="container">

<table style="width: 100%;"><tr>
<td>goalp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Solves a (linear) goal programming problem</h2>

<h3>Description</h3>

<p>Given a set of equations representing goals of a linear goal
programming problem, it finds the optimal solution.
</p>


<h3>Usage</h3>

<pre><code class="language-R">goalp(
  eqs,
  A = NULL,
  m = NULL,
  b = NULL,
  w = NULL,
  p = NULL,
  varType = NULL,
  normW = FALSE,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>eqs</code></td>
<td>
<p>Character vector describing a set of linear equations. The vector
can either contain a single element with one equation per line,
or multiple elements, each with a single equation. Equations must
be valid R expressions (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p>Numeric matrix with the coefficients of the variables. One row per
equation, one column per variable. Columns can be named according
to the variables they correspond to. Rows can be named for their
corresponding goals. Ignored if argument <code>eqs</code> is
provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Character vector with the relationship between the left and
right-hand side of the goals. It can be any of
<code>=, ==, &lt;=, &gt;=</code>. <code>=</code> allows for positive (excess) and
negative (lack) deviations. <code>==</code> do not allow any deviation,
enforcing fulfillment of the goal. <code>&lt;=</code> automatically assigns
a weight equal to zero to the negative (lack) deviation. <code>&gt;=</code>
automatically assigns a weight equal to zero to the positive
(excess) deviation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>Numeric vector with the values on the right hand side of the
goals. Ignored if argument <code>eqs</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>Numeric matrix with the weights associated to the deviations from
each goal. It should have as many rows as goals, and
two columns: the first column corresponding to the weight of the
positive deviation (excess), and the second column corresponding
to the weight of the negative deviation (lack).
This argument is ignored if <code>eqs</code> is provided.
If omitted and <code>eqs</code> is not provided either, default weights
are dependent on the type of goal, as follows.
</p>

<ul>
<li> <p><code>=</code>: Positive and negative deviations are assigned
equal weights of 1.
</p>
</li>
<li> <p><code>==</code>: Positive and negative deviations are assigned
equal weights of NA, as these deviations will be
excluded from the problem, i.e. the goal
will be enforced.
</p>
</li>
<li> <p><code>&gt;=</code>: Positive deviation is assigned a weight of
0, so it does not influence the objective
function (and therefore the solution to the
problem). The negative deviation is assigned
a weight of 1, but if manually set to NA,
then the inequality is enforced.
</p>
</li>
<li> <p><code>&lt;=</code>: Negative deviation is assigned a weight of
0, so it does not influence the objective
function (and therefore the solution to the
problem). The positive deviation is assigned
a weight of 1, but if manually set to NA,
then the inequality is enforced.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Numeric matrix indicating the priority of each deviation under
a lexicographic approach. Lower numbers represent higher
priority (e.g. from lower to higher priority: 1, 2, 3, ...).
It must have as many rows as goals, and two columns.
This argument is ignored if <code>eqs</code> is provided.
If omitted and not provided in <code>eqs</code> either, default
priorities are dependent on the type of goal, as follows.
</p>

<ul>
<li> <p><code>=</code>: Positive and negative deviations are assigned
equal priority of 1.
</p>
</li>
<li> <p><code>==</code>: Positive and negative deviations are assigned
equal priority of NA, as these deviations will
be excluded from the problem, i.e. the
goal will be enforced.
</p>
</li>
<li> <p><code>&gt;=</code>: Positive deviation is assigned a priority of
+Inf, making it irrelevant. The negative
deviation is assigned a priority of 1.
</p>
</li>
<li> <p><code>&lt;=</code>: Negative deviation is assigned a priority of
+Inf, making it irrelevant. The positive
deviation is assigned a priority of 1.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varType</code></td>
<td>
<p>Named character vector. Defines the type of each variable.
It can be defined as <code>c(x1="int", x2="cont")</code>. Omitted
variables are assumed to be integer. Each element can be
either <code>"continuous"</code> (i.e. non-negative real values),
<code>"integer"</code> (i.e. non-negative natural values), or
<code>"binary"</code> (i.e. only take values 0 or 1). Using only
the first letters is accepted too. If omitted, all variables
are assumed to be integer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normW</code></td>
<td>
<p>Logical. TRUE to scale the weights by the inverse of the
corresponding right-hand size value of the goal (<code>b</code>).
Useful to balance the relevance of all goals.
Equivalent to normalising the problem so <code>b=1</code> for all
goals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Logical. TRUE to prevent the function writing anything
to the console (or the default output). Default is FALSE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The actual solution of the linear programming problem is found using lp_solve
<a href="https://lpsolve.sourceforge.net/">https://lpsolve.sourceforge.net/</a>, through its R interface (the lpSolve
package).
</p>
<p>Argument 'eqs' defines the goals of the goal programming problem
through easy human-readable text. When writing a constranit, all variables
must be on the left-hand side, with only numeric values on the right-hand
side. Equations must be valid R expressions. Examples of valid equations
are the following:
</p>

<ul>
<li> <p><code>"3*x + 2*y = 16"</code>
</p>
</li>
<li> <p><code>"4*x -   y =  3"</code>
</p>
</li>
</ul>
<p>On the other hand, the following are not valid expressions:
</p>

<ul>
<li> <p><code>"3*x = 16 - 2*y"</code>
</p>
</li>
<li> <p><code>"4x + 1y = 5"</code>
</p>
</li>
</ul>
<p>While optional, it is highly encouraged to provide names for each goal.
The user can also provide weights and/or lexicographic priorities for the
positive (excess) and negative (lack) deviations associated to each
goal. The following example shows how to provide this information:
<code>"
Labour   : 20*A + 12*B + 40*C = 1200 | 0.2 0.1 | 1# 2#
Profit   : 11*A + 16*B +  8*C = 1000 | 0.1 0.3 | 3# 4#
Batteries:  4*A +  3*B +  6*C =  200 | 0.2 0.1 | 5# 6#"</code>
The name of the goal must be followed by a colon (<code>:</code>) or split
vertical bars (<code>|</code>). Then the goal. Then the weights associated
to the positive deviation first (excess), and the negative deviation (lack)
last, separated by an empty space. Finally, the lexicographic priorities
for the positive (excess) and negative (lack) deviations can be provided
as numbers, each followed by a hashtag, and separated by an space, in
that order. Lower values imply a higher priority, and the same priority
can be assigned to multiple deviations. Only the equation is mandatory.
If the weights are omitted, all of them are assumed to be equal to one.
If the lexicographic priorities are omitted, all of them are assumed to
be equal to one.
</p>


<h3>Value</h3>

<p>goalp object. It contains the following elements.
</p>

<ul>
<li> <p><code>A</code>: The coefficient matrix of the decision variables.
It does not include the coefficients of the
deviations.
</p>
</li>
<li> <p><code>m</code>: The relationship between the left- and right-hand
side of the goals.
</p>
</li>
<li> <p><code>b</code>: The right-hand side of the goals.
</p>
</li>
<li> <p><code>w</code>: The weights of the deviation variables.
</p>
</li>
<li> <p><code>p</code>: The lexicographic priorities of deviations
variables.
</p>
</li>
<li> <p><code>A_</code>: The coefficient matrix of the decision and
deviation variables.
</p>
</li>
<li> <p><code>w_</code>: The weights of the decision and deviation
variables.
</p>
</li>
<li> <p><code>eqs</code>: Text version of the goal programming problem.
</p>
</li>
<li> <p><code>varType</code>: Vector describing the type of the decision
variables (binary, integer, or continuous).
</p>
</li>
<li> <p><code>x</code>: Optimal value of the decision variables.
</p>
</li>
<li> <p><code>d</code>: Optimal value of the deviation variables.
</p>
</li>
<li> <p><code>obj</code>: The value of the objective function (sum of
weighted deviations). If using lexicographic
priorities, the value for the objective
function using all deviations (i.e. ignoring the
priority) in each stage.
</p>
</li>
<li> <p><code>X</code>: The value of the decision variables for the
optimal solution in each stage of the
lexicographic problem. If there are no
lexicographic priorities, then a single row matrix.
</p>
</li>
<li> <p><code>lp</code>: lp object describing the solution of the
underlying linear programming problem. See
lp.object. When using
lexicographic priorities, the solution to the
last stage.
</p>
</li>
<li> <p><code>solutionFound</code>: Logical taking value TRUE if a
solution was found, FALSE otherwise.
</p>
</li>
</ul>
</div>