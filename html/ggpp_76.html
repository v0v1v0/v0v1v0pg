<div class="container">

<table style="width: 100%;"><tr>
<td>position_nudge_keep</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Nudge points a fixed distance</h2>

<h3>Description</h3>

<p>The function <code>position_nudge_keep()</code> has an additional parameters
compared to <code>position_nudge</code>, <code>obey_grouping</code> and
by default the same behaviour when the values passed as arguments to <code>x</code>
and <code>y</code> have length one.
</p>


<h3>Usage</h3>

<pre><code class="language-R">position_nudge_keep(
  x = 0,
  y = 0,
  obey_grouping = NULL,
  kept.origin = c("original", "none")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>
<p>Amount of vertical and horizontal distance to move. A numeric
vector of length 1, or of the same length as rows there are in <code>data</code>,
with nudge values in data rows order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obey_grouping</code></td>
<td>
<p>A logical flag indicating whether to obey or not
groupings of the observations. By default, grouping is obeyed when both of
the variables mapped to <em>x</em> and <em>y</em> are continuous numeric and
ignored otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kept.origin</code></td>
<td>
<p>One of <code>"original"</code> or <code>"none"</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>x</code> or <code>y</code> have length &gt; 1, they are treated
specially. If the lengths is the same as there are rows in data, the nudges
are applied in the order of the rows in data. When they are shorter, they
are recycled and applied to the data values after ordering. This makes it
possible to have alternating mudging right and left or up and down. If
<code>obey_grouping = TRUE</code> is passed in the call, the alternation will
take place within groups.
</p>
<p>As other position functions from package 'ggpp', <code>position_nudge_keep()</code>
by default renames and keeps the original positions of the observations in
<code>data</code> making it possible to draw connecting segments or conencting
arrows.
</p>


<h3>Value</h3>

<p>A <code>"Position"</code> object.
</p>


<h3>Note</h3>

<p>Irrespective of the action, the ordering of rows in <code>data</code> is
preserved.
</p>


<h3>See Also</h3>

<p>Other position adjustments: 
<code>position_dodgenudge()</code>,
<code>position_jitternudge()</code>,
<code>position_nudge_center()</code>,
<code>position_nudge_line()</code>,
<code>position_nudge_to()</code>,
<code>position_stacknudge()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">df &lt;- data.frame(
  x = c(1,3,2,5,4,2.5),
  y = c("abc","cd","d","c","bcd","a")
)

# Plain nudging, same as with ggplot2::position_nudge()

ggplot(df, aes(x, y, label = y)) +
  geom_point() +
  geom_text_s(hjust = "left", vjust = "bottom",
              position = position_nudge_keep(x = 0.2, y = 0.2))

# alternating nudging
ggplot(df, aes(x, y, label = y)) +
  geom_point() +
  geom_text_s(position = position_nudge_keep(x = c(0.2, -0.2)))

# direct nudging
ggplot(df, aes(x, y, label = y)) +
  geom_point() +
  geom_text_s(position = position_nudge_keep(x = rep_len(c(0.2, -0.2), 6)))

</code></pre>


</div>