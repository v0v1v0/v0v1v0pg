<div class="container">

<table style="width: 100%;"><tr>
<td>guild_run</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Launch a guild run</h2>

<h3>Description</h3>

<p>Launch a guild run
</p>


<h3>Usage</h3>

<pre><code class="language-R">guild_run(
  opspec = "train.R",
  flags = NULL,
  ...,
  echo = TRUE,
  as_job = getOption("guildai.run_as_job", TRUE)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>opspec</code></td>
<td>
<p>typically a path to an R script, but could be any
string that guild recognizes as a valid operation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flags</code></td>
<td>
<p>flag values for the run(s).
</p>

<ul>
<li>
<p> A named list or vector like <code>c(noise = .3, dropout = .4)</code>. Lists with
vectors of length greater than 1 are automatically expanded into a
grid of combinations for a batch of runs. For example, <code style="white-space: pre;">⁠list(noise   = c(.2, .3), dropout = c(.4, .5)⁠</code> expands to a batch of 4 runs.
</p>
</li>
<li>
<p> A dataframe of flags for a batch of runs, one row per run.
</p>
</li>
<li>
<p> A scalar string like <code>"noise=.3 dropout=.4"</code>. Any flags specification
accepted at the terminal is valid here as well.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed on to <code>guild_run_cli</code>
</p>

<dl>
<dt><code>label</code></dt>
<dd>
<p>Set a label for the run.</p>
</dd>
<dt><code>tag</code></dt>
<dd>
<p>Associate TAG with run. May be used multiple times.</p>
</dd>
<dt><code>comment</code></dt>
<dd>
<p>Comment associated with the run.</p>
</dd>
<dt><code>run_dir</code></dt>
<dd>
<p>Use alternative run directory DIR. Cannot be used with <code>stage</code>.</p>
</dd>
<dt><code>stage</code></dt>
<dd>
<p>(bool) Stage an operation.</p>
</dd>
<dt><code>start</code></dt>
<dd>
<p>Start a staged run or restart an existing run. Cannot be used with <code>proto</code> or <code>run_dir</code>.</p>
</dd>
<dt><code>restart</code></dt>
<dd>
<p>Start a staged run or restart an existing run. Cannot be used with <code>proto</code> or <code>run_dir</code>.</p>
</dd>
<dt><code>proto</code></dt>
<dd>
<p>Use the operation, flags and source code from RUN. Flags may be added or redefined in this operation. Cannot be used with <code>restart</code>.</p>
</dd>
<dt><code>force_sourcecode</code></dt>
<dd>
<p>(bool) Use working source code when <code>restart</code> or <code>proto</code> is specified. Ignored otherwise.</p>
</dd>
<dt><code>gpus</code></dt>
<dd>
<p>Limit availabe GPUs to DEVICES, a comma separated list of device IDs. By default all GPUs are available. Cannot beused with <code>no_gpus</code>.</p>
</dd>
<dt><code>no_gpus</code></dt>
<dd>
<p>(bool) Disable GPUs for run. Cannot be used with <code>gpus</code>.</p>
</dd>
<dt><code>batch_label</code></dt>
<dd>
<p>Label to use for batch runs. Ignored for non-batch runs.</p>
</dd>
<dt><code>batch_tag</code></dt>
<dd>
<p>Associate TAG with batch. Ignored for non-batch runs. May be used multiple times.</p>
</dd>
<dt><code>batch_comment</code></dt>
<dd>
<p>Comment associated with batch.</p>
</dd>
<dt><code>optimizer</code></dt>
<dd>
<p>Optimize the run using the specified algorithm. See Optimizing Runs for more information.</p>
</dd>
<dt><code>optimize</code></dt>
<dd>
<p>(bool) Optimize the run using the default optimizer.</p>
</dd>
<dt><code>minimize</code></dt>
<dd>
<p>Column to minimize when running with an optimizer. See help for compare command for details specifying a column. May not be used with <code>maximize</code>.</p>
</dd>
<dt><code>maximize</code></dt>
<dd>
<p>Column to maximize when running with an optimizer. See help for compare command for details specifying a column. May not be used with <code>minimize</code>.</p>
</dd>
<dt><code>opt_flag</code></dt>
<dd>
<p>Flag for OPTIMIZER. May be used multiple times.</p>
</dd>
<dt><code>max_trials</code></dt>
<dd>
<p>Maximum number of trials to run in batch operations. Default is optimizer specific. If optimizer is not specified, default is 20.</p>
</dd>
<dt><code>trials</code></dt>
<dd>
<p>Maximum number of trials to run in batch operations. Default is optimizer specific. If optimizer is not specified, default is 20.</p>
</dd>
<dt><code>stage_trials</code></dt>
<dd>
<p>(bool) For batch operations, stage trials without running them.</p>
</dd>
<dt><code>remote</code></dt>
<dd>
<p>Run the operation remotely.</p>
</dd>
<dt><code>force_flags</code></dt>
<dd>
<p>(bool) Accept all flag assignments, even for undefined or invalid values.</p>
</dd>
<dt><code>force_deps</code></dt>
<dd>
<p>(bool) Continue even when a required resource is not resolved.</p>
</dd>
<dt><code>stop_after</code></dt>
<dd>
<p>Stop operation after N minutes.</p>
</dd>
<dt><code>fail_on_trial_error</code></dt>
<dd>
<p>(bool) Stop batch operations when a trial exits with an error.</p>
</dd>
<dt><code>needed</code></dt>
<dd>
<p>(bool) Run only if there is not an available matching run. A matching run is of the same operation with the same flag values that is not stopped due to an error.</p>
</dd>
<dt><code>background</code></dt>
<dd>
<p>(bool) Run operation in background.</p>
</dd>
<dt><code>pidfile</code></dt>
<dd>
<p>Run operation in background, writing the background process ID to PIDFILE.</p>
</dd>
<dt><code>no_wait</code></dt>
<dd>
<p>(bool) Don't wait for a remote operation to complete. Ignored if run is local.</p>
</dd>
<dt><code>save_trials</code></dt>
<dd>
<p>Saves generated trials to a CSV batch file. See BATCH FILES for more information.</p>
</dd>
<dt><code>keep_run</code></dt>
<dd>
<p>(bool) Keep run even when configured with 'delete-on-success'.</p>
</dd>
<dt><code>keep_batch</code></dt>
<dd>
<p>(bool) Keep batch run rather than delete it on success.</p>
</dd>
<dt><code>dep</code></dt>
<dd>
<p>Include PATH as a dependency.</p>
</dd>
<dt><code>quiet</code></dt>
<dd>
<p>(bool) Do not show output.</p>
</dd>
<dt><code>print_cmd</code></dt>
<dd>
<p>(bool) Show operation command and exit.</p>
</dd>
<dt><code>print_env</code></dt>
<dd>
<p>(bool) Show operation environment and exit.</p>
</dd>
<dt><code>print_trials</code></dt>
<dd>
<p>(bool) Show generated trials and exit.</p>
</dd>
<dt><code>help_model</code></dt>
<dd>
<p>(bool) Show model help and exit.</p>
</dd>
<dt><code>help_op</code></dt>
<dd>
<p>(bool) Show operation help and exit.</p>
</dd>
<dt><code>test_output_scalars</code></dt>
<dd>
<p>Test output scalars on output. Use '-' to read from standard intput.</p>
</dd>
<dt><code>test_sourcecode</code></dt>
<dd>
<p>(bool) Test source code selection.</p>
</dd>
<dt><code>test_flags</code></dt>
<dd>
<p>(bool) Test flag configuration.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>echo</code></td>
<td>
<p>whether output from the run is shown in the current R
console. Note, this has no effect on whether expressions are echoed
in the guild run stdout log. To disable echoing of expression in
the run logs, specify <code style="white-space: pre;">⁠#| echo: false⁠</code> in the run script
frontmatter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_job</code></td>
<td>
<p>Run the operation as an RStudio background job. This is
ignored outside of the RStudio IDE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>NULL</code>, invisibly. This function is called for its
side effect.
</p>


</div>