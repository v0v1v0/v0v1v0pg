<div class="container">

<table style="width: 100%;"><tr>
<td>transport_df.numeric</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Optimal Transport Plan</h2>

<h3>Description</h3>

<p>Calculate the optimal transport plan.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'numeric'
transport_df(x, y, threshold = 1e-15, ...)

transport_df(x, ...)

## S3 method for class 'otgridtransport'
transport_df(x, ...)

## S3 method for class 'otgrid'
transport_df(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a vector of weights, an object of class <code>"otgridtransport"</code> or <code>"otgrid"</code>, in the latter case <code>...</code> must be the arguments of <code>pivot_measure</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>second weight vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>small value that indicates when a value is considered to be zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments (for <code>pivot_measure</code> if <code>x</code> is an object of class <code>"otgrid"</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In case of two-dimensional grids, the pivot measure is used to calculate the optimal transport plan.
</p>
<p>For one-dimensional optimal transport, we assume that the optimal transport plan is the monotone plan. For example, this is the case
for costs of the form <code class="reqn">c(x, y) = | x - y |^p</code> for some <code class="reqn">p \geq 1</code>.
In this case, the north-west-corner algorithm is used.
</p>


<h3>Value</h3>

<p>a data frame representing the optimal transport plan. It has columns <code>from</code>, <code>to</code> and <code>mass</code> that specify
between which points of the two grids how much mass is transported.
</p>
<p>In the two-dimensional case, a point is given by the index in column-mayor format and the data frame is actually stored in the element
<code>df</code> of an object of class <code>"otgridtransport"</code>.
</p>


<h3>See Also</h3>

<p>pivot measure <code>pivot_measure</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## one-dimensional example
set.seed(1)
wa &lt;- rep(1/5, 5)
wb &lt;- runif(6)
wb &lt;- wb / sum(wb)
transport_df(wa, wb)

## two-dimensional example
x &lt;- otgrid(cbind(0:1, 1:0))
y &lt;- otgrid(cbind(1:0, 0:1))

# first calculate pivot manually
pm &lt;- pivot_measure(x, y)
pm &lt;- transport_df(pm)

# or just
pm2 &lt;- transport_df(x, y)
</code></pre>


</div>