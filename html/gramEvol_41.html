<div class="container">

<table style="width: 100%;"><tr>
<td>ReplaceInExpression</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Replace as sub-expression isnide an expression</h2>

<h3>Description</h3>

<p>Replace every subexpression equal to or starting with <code>what</code> in <code>expr</code>.
Replacement is performed by passing the whole subexpression to <code>replacer.func</code>,
which should be a <code>function(x, ...)</code>, where <code>x</code> is the expression and return the desirable expression.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ReplaceInExpression(expr, what, replacer.func, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>An <code>expression</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>A backquoted expression to find in <code>expr</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replacer.func</code></td>
<td>
<p>A <code>function(x, ...)</code> to process the subexpression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters passed to <code>replacer.func</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function was designed to be used as a runtime processing tool for
grammar generated expression. This allows the user to modify the resulting
expression on the fly based on runtime variables, without including them
in the grammar. See examples section.
</p>


<h3>Value</h3>

<p>An expression
</p>


<h3>References</h3>

<p>See <a href="http://adv-r.had.co.nz/Expressions.html">http://adv-r.had.co.nz/Expressions.html</a> by Hadley Wickham.
</p>


<h3>Examples</h3>

<pre><code class="language-R">expr = expression(function(x) {
    cbind(f1(x),
          f2(x),
          g3(y))
})
expr
ReplaceInExpression(expr, bquote(f2), function(x) {NULL})
ReplaceInExpression(expr, bquote(f2), function(x) {bquote(f2(y))})
ReplaceInExpression(expr, bquote(g3), function(x) {bquote(f3(x))})
ReplaceInExpression(expr, bquote(g3), function(x, b) {if (b &gt; 1) x else NULL}, b = 0)
ReplaceInExpression(expr, bquote(g3), function(x, b) {if (b &gt; 1) x else NULL}, b = 2)
</code></pre>


</div>