<div class="container">

<table style="width: 100%;"><tr>
<td>CVcluster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Cross-validation estimate of predictive accuracy for clustered data
</h2>

<h3>Description</h3>

<p>This function adapts cross-validation to work with clustered
categorical outcome data. For example, there may be multiple
observations on individuals (clusters). It requires a
fitting function that accepts a model formula.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CVcluster(formula, id, data, na.action=na.omit, nfold = 15, FUN = MASS::lda,
              predictFUN=function(x, newdata, ...)predict(x, newdata, ...)$class,
              printit = TRUE, cvparts = NULL, seed = 29)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Model formula
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>

<p>numeric, identifies clusters
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>data frame that supplies the data
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p><code>na.fail</code> (default) or <code>na.omit</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfold</code></td>
<td>

<p>Number of cross-validation folds
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>

<p><code>function</code> that fits the model
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictFUN</code></td>
<td>

<p><code>function</code> that gives predicted values
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>printit</code></td>
<td>

<p>Should summary information be printed?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvparts</code></td>
<td>

<p>Use, if required, to specify the precise folds used for the
cross-validation.  The comparison between different models
will be more accurate if the same folds are used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>

<p>Set seed, if required, so that results are exactly reproducible
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>Predicted values from cross-validation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CVaccuracy</code></td>
<td>
<p>Cross-validation estimate of accuracy</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confusion</code></td>
<td>
<p>Confusion matrix</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>John Maindonald
</p>


<h3>References</h3>

<p><a href="https://maths-people.anu.edu.au/~johnm/nzsr/taws.html">https://maths-people.anu.edu.au/~johnm/nzsr/taws.html</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(requireNamespace('mlbench')&amp;requireNamespace('MASS')){
data('Vowel',package='mlbench')
acc &lt;- CVcluster(formula=Class ~., id = V1, data = Vowel, nfold = 15, FUN = MASS::lda,
              predictFUN=function(x, newdata, ...)predict(x, newdata, ...)$class,
                     printit = TRUE, cvparts = NULL, seed = 29)
}
</code></pre>


</div>