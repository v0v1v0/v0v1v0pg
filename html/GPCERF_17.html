<div class="container">

<table style="width: 100%;"><tr>
<td>estimate_gps</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate a model for generalized propensity score</h2>

<h3>Description</h3>

<p>Estimates a model for generalized propensity score (GPS) using parametric
approach.
</p>


<h3>Usage</h3>

<pre><code class="language-R">estimate_gps(cov_mt, w_all, sl_lib, dnorm_log)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cov_mt</code></td>
<td>
<p>A covariate matrix containing all covariates. Each row is a
data sample and each column is a covariate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_all</code></td>
<td>
<p>A vector of observed exposure levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sl_lib</code></td>
<td>
<p>A vector of SuperLearner's package libraries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dnorm_log</code></td>
<td>
<p>Logical, if TRUE, probabilities p are given as log(p).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.frame that includes:
</p>

<ul>
<li>
<p> a vector of estimated GPS at the observed exposure levels;
</p>
</li>
<li>
<p> a vector of estimated conditional means of exposure levels when the
covariates are fixed
at the observed values;
</p>
</li>
<li>
<p> estimated standard deviation of exposure levels
</p>
</li>
<li>
<p> a vector of observed exposure levels.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
data &lt;- generate_synthetic_data(sample_size = 200)
gps_m &lt;- estimate_gps(cov_mt = data[,-(1:2)],
                      w_all = data$treat,
                      sl_lib = c("SL.xgboost"),
                      dnorm_log = FALSE)

</code></pre>


</div>