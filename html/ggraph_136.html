<div class="container">

<table style="width: 100%;"><tr>
<td>pack_circles</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pack circles together</h2>

<h3>Description</h3>

<p>This function is a direct interface to the circle packing algorithm used by
<code>layout_tbl_graph_circlepack</code>. It takes a vector of sizes and
returns the x and y position of each circle as a two-column matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pack_circles(areas)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>areas</code></td>
<td>
<p>A vector of circle areas</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A matrix with two columns and the same number of rows as the length
of the "areas" vector. The matrix has the following attributes added:
"enclosing_radius" giving the radius of the smallest enclosing circle, and
"front_chain" giving the terminating members of the front chain (see
Wang <em>et al</em>. 2006).
</p>


<h3>References</h3>

<p>Wang, W., Wang, H. H., Dai, G., &amp; Wang, H. (2006). <em>Visualization of
large hierarchical data by circle packing</em>. Chi, 517-520.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ggforce)
sizes &lt;- sample(10, 100, TRUE)

position &lt;- pack_circles(sizes)
data &lt;- data.frame(x = position[,1], y = position[,2], r = sqrt(sizes/pi))

ggplot() +
  geom_circle(aes(x0 = x, y0 = y, r = r), data = data, fill = 'steelblue') +
  geom_circle(aes(x0 = 0, y0 = 0, r = attr(position, 'enclosing_radius'))) +
  geom_polygon(aes(x = x, y = y),
               data = data[attr(position, 'front_chain'), ],
               fill = NA,
               colour = 'black')

</code></pre>


</div>