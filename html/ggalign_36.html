<div class="container">

<table style="width: 100%;"><tr>
<td>free_align</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Free from alignment</h2>

<h3>Description</h3>

<p>align_plots will try to align plot panels, and every elements of the plot,
following functions romove these restrictions:
</p>

<ul>
<li> <p><code>free_align</code>: if we want to compose plots without alignment of some panel
axes (panel won't be aligned). we can wrap the plot with <code>free_align</code>.
</p>
</li>
<li> <p><code>free_border</code>: If we want to compose plots without alignment of the panel
borders (but still align the panels themselves), we can wrap the plot with
<code>free_border</code>.
</p>
</li>
<li> <p><code>free_lab</code>: If we want to compose plots without alignment of the axis
title, we can wrap the plot with <code>free_lab</code>.
</p>
</li>
<li> <p><code>free_space</code>: Removing the ggplot element sizes when aligning.
</p>
</li>
<li> <p><code>free_vp</code>: Customize the viewport when aligning.
</p>
</li>
<li> <p><code>free_guide</code>: If we want to override the behaviour of the overall guides
behaviour, we can wrap the plot with <code>free_guide</code>.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">free_align(plot, axes = "tlbr")

free_border(plot, borders = "tlbr")

free_guide(plot, guides = "tlbr")

free_lab(plot, labs = "tlbr")

free_space(plot, spaces = "tlbr")

free_vp(plot, x = 0.5, y = 0.5, width = NA, height = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>A ggplot or alignpatches
object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p>Which axes shouldn't be aligned? A string containing
one or more of <code>"t"</code>, <code>"l"</code>, <code>"b"</code>, and <code>"r"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>borders</code></td>
<td>
<p>Which border shouldn't be aligned? A string containing one or
more of <code>"t"</code>, <code>"l"</code>, <code>"b"</code>, and <code>"r"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>guides</code></td>
<td>
<p>A string containing one or more of <code>"t"</code>, <code>"l"</code>, <code>"b"</code>, and <code>"r"</code>
indicates which side of guide legends should be collected for the plot. If
<code>NULL</code>, no guide legends will be collected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labs</code></td>
<td>
<p>Which axis labs to be free? A string containing one or more of
<code>"t"</code>, <code>"l"</code>, <code>"b"</code>, and <code>"r"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spaces</code></td>
<td>
<p>Which border spaces should be removed? A string containing one
or more of <code>"t"</code>, <code>"l"</code>, <code>"b"</code>, and <code>"r"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>A numeric vector or unit object specifying width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>A numeric vector or unit object specifying height.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed on to <code>grid::viewport</code>
</p>

<dl>
<dt><code>default.units</code></dt>
<dd>
<p>A string indicating the default units to use
if <code>x</code>, <code>y</code>, <code>width</code>, or <code>height</code>
are only given as numeric vectors.</p>
</dd>
<dt><code>just</code></dt>
<dd>
<p>A string or numeric
vector specifying the justification of the viewport
relative to its (x, y) location.  If there are two values, the first
value specifies horizontal justification and the second value specifies
vertical justification.  Possible string values are: <code>"left"</code>,
<code>"right"</code>, <code>"centre"</code>, <code>"center"</code>, <code>"bottom"</code>,
and <code>"top"</code>.  For numeric values, 0 means left alignment
and 1 means right alignment.
</p>
</dd>
<dt><code>gp</code></dt>
<dd>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code>gpar</code>.  This is basically
a list of graphical parameter settings.</p>
</dd>
<dt><code>clip</code></dt>
<dd>
<p>One of <code>"on"</code>, <code>"inherit"</code>, or
<code>"off"</code>, indicating whether to
clip to the extent of this viewport, inherit the clipping region
from the parent viewport, or turn clipping off altogether.
For back-compatibility, a logical value of <code>TRUE</code> corresponds
to <code>"on"</code> and <code>FALSE</code> corresponds to <code>"inherit"</code>.
</p>
<p>May also be a grob (or a gTree) that describes a clipping path
or the result of a call to <code>as.path</code>.</p>
</dd>
<dt><code>mask</code></dt>
<dd>
<p>One of <code>"none"</code> (or <code>FALSE</code>)
or <code>"inherit"</code> (or <code>TRUE</code>) 
or a grob (or a gTree) or the result of call to
<code>as.mask</code>.  This specifies that the viewport
should have no mask, or it should inherit the mask of its parent,
or it should have its own mask, as described by the grob.</p>
</dd>
<dt><code>xscale</code></dt>
<dd>
<p>A numeric vector of length two indicating the minimum and
maximum on the x-scale.  The limits may not be identical. </p>
</dd>
<dt><code>yscale</code></dt>
<dd>
<p>A numeric vector of length two indicating the minimum
and maximum on the y-scale. The limits may not be identical. </p>
</dd>
<dt><code>angle</code></dt>
<dd>
<p>A numeric value indicating the angle of rotation of the
viewport.  Positive values indicate the amount of rotation, in
degrees, anticlockwise from the positive x-axis.</p>
</dd>
<dt><code>layout</code></dt>
<dd>
<p>A Grid layout object which splits the viewport into
subregions.</p>
</dd>
<dt><code>layout.pos.row</code></dt>
<dd>
<p>A numeric vector giving the
rows occupied by this viewport in its
parent's layout.</p>
</dd>
<dt><code>layout.pos.col</code></dt>
<dd>
<p>A numeric vector giving the
columns occupied by this viewport in its
parent's layout.</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>A character value to uniquely identify the viewport
once it has been pushed onto the viewport tree.  </p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Value</h3>


<ul><li> <p><code>free_align</code>: A modified version of <code>plot</code> with a <code>free_align</code> class.
</p>
</li></ul>
<ul><li> <p><code>free_border</code>: A modified version of <code>plot</code> with a <code>free_border</code> class.
</p>
</li></ul>
<ul><li> <p><code>free_guide</code>: A modified version of <code>plot</code> with a <code>free_guide</code> class.
</p>
</li></ul>
<ul><li> <p><code>free_lab</code>: A modified version of <code>plot</code> with a <code>free_lab</code> class.
</p>
</li></ul>
<ul><li> <p><code>free_space</code>: A modified version of <code>plot</code> with a <code>free_space</code> class.
</p>
</li></ul>
<ul><li> <p><code>free_vp</code>: A modified version of <code>plot</code> with a <code>free_vp</code> class.
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R"># directly copied from `patchwork`
# Sometimes you have a plot that defies good composition alginment, e.g. due
# to long axis labels
p1 &lt;- ggplot(mtcars) +
    geom_bar(aes(y = factor(gear), fill = factor(gear))) +
    scale_y_discrete(
        "",
        labels = c(
            "3 gears are often enough",
            "But, you know, 4 is a nice number",
            "I would def go with 5 gears in a modern car"
        )
    )

# When combined with other plots it ends up looking bad
p2 &lt;- ggplot(mtcars) +
    geom_point(aes(mpg, disp))

align_plots(p1, p2, ncol = 1L)

# We can fix this be using `free_align`
align_plots(free_align(p1), p2, ncol = 1L)

# If we still want the panels to be aligned to the right, we can choose to
# free only the left side
align_plots(free_align(p1, axes = "l"), p2, ncol = 1L)

# We could use `free_lab` to fix the layout in a different way
align_plots(p1, free_lab(p2), ncol = 1L)

# `free_border` is similar with `free_lab`, they have a distinction in terms
# of placement on either the top or bottom side of the panel. Specifically,
# the top side contains the `title` and `subtitle`, while the bottom side
# contains the `caption`. free_lab() does not attach these elements in the
# panel area.
p3 &lt;- ggplot(mtcars) +
    geom_point(aes(hp, wt, colour = mpg)) +
    ggtitle("Plot 3")
p_axis_top &lt;- ggplot(mtcars) +
    geom_point(aes(mpg, disp)) +
    ggtitle("Plot axis in top") +
    scale_x_continuous(position = "top")
align_plots(p_axis_top, free_lab(p3))
align_plots(p_axis_top, free_border(p3))

# Another issue is that long labels can occupy much spaces
align_plots(NULL, p1, p2, p2)

# This can be fixed with `free_space`
align_plots(NULL, free_space(p1, "l"), p2, p2)

</code></pre>


</div>