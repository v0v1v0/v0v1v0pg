<div class="container">

<table style="width: 100%;"><tr>
<td>grandR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a grandR object and retrieve basic information</h2>

<h3>Description</h3>

<p>The grandR object contains
</p>

<ul>
<li>
<p>metadata about the origin (file/url) of the GRAND-SLAM output
</p>
</li>
<li>
<p>the current state (e.g., what is the current default slot) of the grandR object
</p>
</li>
<li>
<p>a gene info table (i.e. metadata for the rows of the data matrices)
</p>
</li>
<li>
<p>a column annotation table (i.e. metadata for the columns of the data matrices)
</p>
</li>
<li>
<p>several data matrices for read counts, normalized expression values, NTRs, etc. (genes x samples or genes x cells; stored in so-called <em>slots</em>)
</p>
</li>
<li>
<p>potentially several analysis output tables (for kinetic modeling, differential gene expression testing)
</p>
</li>
</ul>
<p>Usually, this constructor is not invoked directly (but by <code>ReadGRAND</code> or <code>SimulateTimeCourse</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">grandR(
  prefix = parent$prefix,
  gene.info = parent$gene.info,
  slots = parent$data,
  coldata = parent$coldata,
  metadata = parent$metadata,
  analyses = NULL,
  plots = NULL,
  parent = NULL
)

Title(data)

IsSparse(data)

## S3 method for class 'grandR'
dim(x)

is.grandR(x)

## S3 method for class 'grandR'
dimnames(x)

## S3 method for class 'grandR'
print(x, ...)

Metadata(x, ...)

## S3 method for class 'grandR'
subset(x, columns, reorder = TRUE, ...)

## S3 method for class 'grandR'
split(x, f = Design$Condition, drop = FALSE, ...)

RenameColumns(data, map = NULL, fun = NULL)

SwapColumns(data, s1, s2)

## S3 method for class 'grandR'
merge(..., list = NULL, column.name = Design$Origin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>Can either be the prefix used to call GRAND-SLAM with, or the main output file ($prefix.tsv.gz);
if the RCurl package is installed, this can also be a URL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gene.info</code></td>
<td>
<p>a data frame with metadata for all genes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slots</code></td>
<td>
<p>A list of matrices representing the slots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coldata</code></td>
<td>
<p>a data frame with metadata for all samples (or cells)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metadata</code></td>
<td>
<p>a metadata list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analyses</code></td>
<td>
<p>the analyses list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plots</code></td>
<td>
<p>the plots list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parent</code></td>
<td>
<p>A parent object containing default values for all other parameters (i.e. all parameters not specified are obtained from this object)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data, x</code></td>
<td>
<p>a grandR object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed to or from other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>
<p>which columns (i.e. samples or cells) to return (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reorder</code></td>
<td>
<p>reorder all factors in coldata (if columns for subset define a different order)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>The name of the annotation table according to which the object is split or the new annotation table column name denoting the origin after merging</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>unused</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>named list or vector representing a lookup table (names are current column names)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>a function that maps a vector of names to a new vector of names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s1, s2</code></td>
<td>
<p>column names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list</code></td>
<td>
<p>a list of grandR objects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column.name</code></td>
<td>
<p>a new name for the Coldata table to annotate the merged objects</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The dimensions (nrow, ncol) of the grandR object are considered to be the dimensions of the data tables,
i.e. <code>nrow(data)</code> provides the number of genes and <code>ncol(data)</code> the number of samples (or cells).
</p>
<p>Currently, the object is implemented as a list of the above mentioned items. This implementation is subject to change.
Make sure to use accessor functions to obtain the information you want.
</p>
<p>Columns can be given as a logical, integer or character vector representing a selection of the columns (samples or cells).
The expression is evaluated in an environment havin the <code>Coldata</code>, i.e. you can use names of <code>Coldata</code> as variables to
conveniently build a logical vector (e.g., columns=Condition=="x").
</p>


<h3>Value</h3>

<p>A grandR object containing the read counts, NTRs, information on the NTR posterior distribution (alpha,beta)
and potentially additional information of all genes detected by GRAND-SLAM
</p>


<h3>Functions</h3>


<dl>
<dt>Title</dt>
<dd>
<p>Obtain a useful title for the project (from the prefix parameter)</p>
</dd>
<dt>dim</dt>
<dd>
<p>Obtain the dimensions (genes x samples or genes x cells)</p>
</dd>
<dt>is</dt>
<dd>
<p>Check whether it is a grandR object</p>
</dd>
<dt>dimnames</dt>
<dd>
<p>Obtain the row and column names of this object (genes x samples or genes x cells)</p>
</dd>
<dt>print</dt>
<dd>
<p>Print information on this grandR object</p>
</dd>
<dt>subset</dt>
<dd>
<p>Create a new grandR object with a subset of the columns (use <code>FilterGenes</code> to subset on genes)</p>
</dd>
<dt>split</dt>
<dd>
<p>Split the grandR object into a list of multiple grandR objects (according to the levels of an annotation table column)</p>
</dd>
<dt>RenameColumns</dt>
<dd>
<p>Rename the column names according to a lookup table (map) or a function (invoked on the current names)</p>
</dd>
<dt>SwapColumns</dt>
<dd>
<p>Swap two columns (samples or cells); this is what you do if samples were mislabeled!</p>
</dd>
<dt>Metadata</dt>
<dd>
<p>Obtain global metadata</p>
</dd>
<dt>merge</dt>
<dd>
<p>Merge several grandR objects into one</p>
</dd>
</dl>
<h3>See Also</h3>

<p>Slots, DefaultSlot, Genes, GeneInfo, Coldata, GetTable, GetData, Analyses, GetAnalysisTable
</p>


<h3>Examples</h3>

<pre><code class="language-R">sars &lt;- ReadGRAND(system.file("extdata", "sars.tsv.gz", package = "grandR"),
                  design=c("Cell",Design$dur.4sU,Design$Replicate))
# this is part of the corona data from Finkel et al.
dim(sars)
head(rownames(sars))

</code></pre>


</div>