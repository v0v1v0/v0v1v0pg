<div class="container">

<table style="width: 100%;"><tr>
<td>ga_filter_add</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a new filter and add it to the view (optional).</h2>

<h3>Description</h3>

<p>Take a filter object and add and/or apply it so its live.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ga_filter_add(
  Filter,
  accountId,
  webPropertyId = NULL,
  viewId = NULL,
  linkFilter = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Filter</code></td>
<td>
<p>The Filter object to be added to the account or view.  See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accountId</code></td>
<td>
<p>Account Id of the account to add the Filter to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>webPropertyId</code></td>
<td>
<p>Property Id of the property to add the Filter to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viewId</code></td>
<td>
<p>View Id of the view to add the Filter to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linkFilter</code></td>
<td>
<p>If TRUE will apply the Filter to the view. Needs propetyId and viewId to be set.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If you don't set <code>linkFilter=TRUE</code> then the filter will only be created but not applied.
You will find it listed in the admin panel Account &gt; All Filters.  You can then use ga_filter_apply_to_view to apply later on.
</p>


<h3>Value</h3>

<p>The filterId created if <code>linkFilter=FALSE</code> or a Filter object if <code>linkFilter=TRUE</code>
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/#Filters">https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/#Filters</a>
</p>
<p>Other managementAPI functions: 
<code>ga_experiment()</code>,
<code>ga_experiment_list()</code>,
<code>ga_filter_apply_to_view()</code>,
<code>ga_filter_update()</code>,
<code>ga_filter_update_filter_link()</code>,
<code>ga_segment_list()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
## Create a filter object for adding an IP exclusion:
Filter &lt;- list(
               name = 'Exclude Internal Traffic',
               type = 'EXCLUDE',
               excludeDetails = list(
                   field = 'GEO_IP_ADDRESS',
                   matchType = 'EQUAL',
                   expressionValue = '199.04.123.1',
                   caseSensitive = 'False'
                                    )
              )

# create and add the filter to the view specified      
my_filter &lt;- ga_filter_add(Filter, 
                           accountId = 12345, 
                           webPropertyId = "UA-12345-1", 
                           viewId = 654321,
                           linkFilter = TRUE)

# only create the filter, don't apply it to any view - returns filterId for use later
my_filter &lt;- ga_filter_add(Filter, 
                           accountId = 12345, 
                           linkFilter = FALSE)                          

## Other examples of filters you can create below:
## Create a filter object for making campaign medium lowercase
Filter &lt;- list(
               name = 'Lowercase Campaign Medium',
               type = 'LOWERCASE',
               lowercaseDetails = list(
                   field = 'CAMPAIGN_MEDIUM'
                                    )
              )

## Create a filter object to append hostname to URI
Filter &lt;- list(
               name = 'Append hostname to URI',
               type = 'ADVANCED',
               advancedDetails = list(
                   fieldA = 'PAGE_HOSTNAME',
                   extractA = '(.*)',
                   fieldARequired = 'True',
                   fieldB = 'PAGE_REQUEST_URI',
                   extractB = '(.*)',
                   fieldBRequired = 'False',
                   outputConstructor = '$A1$B1',
                   outputToField = 'PAGE_REQUEST_URI',
                   caseSensitive = 'False',
                   overrideOutputField = 'True'
                                    )
              )

## Create a filter object to add www hostname without it
Filter &lt;- list(
               name = 'Search and Replace www',
               type = 'SEARCH_AND_REPLACE',
               searchAndReplaceDetails = list(
                   field = 'PAGE_HOSTNAME',
                   searchString = '^exampleUSA\\.com$',
                   replaceString = 'www.exampleUSA.com',
                   caseSensitive = 'False'
                                    )
              )


## End(Not run)

</code></pre>


</div>