<div class="container">

<table style="width: 100%;"><tr>
<td>generate_causal_survival_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate causal survival data</h2>

<h3>Description</h3>

<p>The following DGPs are available for benchmarking purposes, T is the failure time
and C the censoring time:
</p>

<ul>
<li>
<p> "simple1": T = X1*eps + W, C ~ U(0, 2) where eps ~ Exp(1) and Y.max = 1.
</p>
</li>
<li>
<p>  "type1": T is drawn from an accelerated failure time model and C from a Cox model (scenario 1 in https://arxiv.org/abs/2001.09887)
</p>
</li>
<li>
<p>  "type2": T is drawn from a proportional hazard model and C from a accelerated failure time (scenario 2 in https://arxiv.org/abs/2001.09887)
</p>
</li>
<li>
<p>  "type3": T and C are drawn from a Poisson distribution  (scenario 3 in https://arxiv.org/abs/2001.09887)
</p>
</li>
<li>
<p>  "type4": T and C are drawn from a Poisson distribution  (scenario 4 in https://arxiv.org/abs/2001.09887)
</p>
</li>
<li>
<p>  "type5": is similar to "type2" but with censoring generated from an accelerated failure time model.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">generate_causal_survival_data(
  n,
  p,
  Y.max = NULL,
  y0 = NULL,
  X = NULL,
  rho = 0,
  n.mc = 10000,
  dgp = c("simple1", "type1", "type2", "type3", "type4", "type5")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The number of samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>The number of covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y.max</code></td>
<td>
<p>The maximum follow-up time (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y0</code></td>
<td>
<p>Query time to estimate P(T(1) &gt; y0 | X) - P(T(0) &gt; y0 | X) (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>The covariates (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>The correlation coefficient of the X's covariance matrix V_(ij) = rho^|i-j|. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.mc</code></td>
<td>
<p>The number of monte carlo draws to estimate the treatment effect with. Default is 10000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dgp</code></td>
<td>
<p>The type of DGP.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with entries:
'X': the covariates, 'Y': the event times, 'W': the treatment indicator, 'D': the censoring indicator,
'cate': the treatment effect (RMST) estimated by monte carlo, 'cate.prob' the difference in survival probability,
'cate.sign': the true sign of the cate for ITR comparison, 'dgp': the dgp name, 'Y.max': the maximum follow-up time,
'y0': the query time for difference in survival probability.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Generate data
n &lt;- 1000
p &lt;- 5
data &lt;- generate_causal_survival_data(n, p)
# Get true CATE on a test set
X.test &lt;- matrix(seq(0, 1, length.out = 5), 5, p)
cate.test &lt;- generate_causal_survival_data(n, p, X = X.test)$cate


</code></pre>


</div>