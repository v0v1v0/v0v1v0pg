<div class="container">

<table style="width: 100%;"><tr>
<td>variable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>create greta variables</h2>

<h3>Description</h3>

<p><code>variable()</code> creates greta arrays representing unknown
parameters, to be learned during model fitting. These parameters are not
associated with a probability distribution. To create a variable greta
array following a specific probability distribution, see
<code>distributions()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">variable(lower = -Inf, upper = Inf, dim = NULL)

cholesky_variable(dim, correlation = FALSE)

simplex_variable(dim)

ordered_variable(dim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lower, upper</code></td>
<td>
<p>optional limits to variables. These must be specified as
numerics, they cannot be greta arrays (though see details for a
workaround). They can be set to <code>-Inf</code> (<code>lower</code>) or <code>Inf</code>
(<code>upper</code>), though <code>lower</code> must always be less than <code>upper</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p>the dimensions of the greta array to be returned, either a scalar
or a vector of positive integers. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correlation</code></td>
<td>
<p>whether to return a cholesky factor corresponding to a
correlation matrix (diagonal elements equalling 1, off-diagonal elements
between -1 and 1).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>lower</code> and <code>upper</code> must be fixed, they cannot be greta
arrays. This ensures these values can always be transformed to a continuous
scale to run the samplers efficiently. However, a variable parameter with
dynamic limits can always be created by first defining a variable
constrained between 0 and 1, and then transforming it to the required
scale. See below for an example.
</p>
<p>The constraints in <code>simplex_variable()</code> and <code>ordered_variable()</code>
operate on the final dimension, which must have more than 1 element.
Passing in a scalar value for <code>dim</code> therefore results in a row-vector.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# a scalar variable
a &lt;- variable()

# a positive length-three variable
b &lt;- variable(lower = 0, dim = 3)

# a 2x2x2 variable bounded between 0 and 1
c &lt;- variable(lower = 0, upper = 1, dim = c(2, 2, 2))

# create a variable, with lower and upper defined by greta arrays
min &lt;- as_data(iris$Sepal.Length)
max &lt;- min^2
d &lt;- min + variable(0, 1, dim = nrow(iris)) * (max - min)

## End(Not run)
# 4x4 cholesky factor variables for covariance and correlation matrices
e_cov &lt;- cholesky_variable(dim = 4)
e_correl &lt;- cholesky_variable(dim = 4, correlation = TRUE)

# these can be converted to symmetic matrices with chol2symm
# (equivalent to t(e_cov) %*% e_cov, but more efficient)
cov &lt;- chol2symm(e_cov)
correl &lt;- chol2symm(e_correl)
# a 4D simplex (sums to 1, all values positive)
f &lt;- simplex_variable(4)

# a 4D simplex on the final dimension
g &lt;- simplex_variable(dim = c(2, 3, 4))
# a 2D variable with each element higher than the one in the cell to the left
h &lt;- ordered_variable(dim = c(3, 4))

# more constraints can be added with monotonic transformations, e.g. an
# ordered positive variable
i &lt;- exp(ordered_variable(5))
</code></pre>


</div>