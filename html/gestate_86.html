<div class="container">

<table style="width: 100%;"><tr>
<td>set_event_number</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adjusts simulations so that administrative censoring occurs at a fixed event number, rather than a fixed time</h2>

<h3>Description</h3>

<p>Function for converting trials simulated by simulate_trials() or simulate_trials_strata() from a fixed censoring time to a fixed number of total events.<br>
It is set up to automatically read in either matrix or list formats from simulate_trials() or simulate_trials_strata(), and only these inputs are supported.<br>
Note that if recruitment had not finished in the input then any increases in assessment time cannot account for the missing patients.
It is therefore strongly recommended to initially simulate for at least the duration of the recruitment before fixing the event number.<br>
This function can also be used to change format and/or slim down data for event-driven simulations.<br></p>


<h3>Usage</h3>

<pre><code class="language-R">set_event_number(
  data,
  events,
  output_type = c("input", "matrix", "list"),
  detailed_output = TRUE,
  Time = "Time",
  Event = "Censored",
  censoringOne = TRUE,
  Iter = "Iter"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Output file from simulate_trials() or simulate_trials_strata() created with detailed_output=TRUE, in either "list" or "matrix" format. Only these formats are supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>events</code></td>
<td>
<p>Positive integer specifying the required number of events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_type</code></td>
<td>
<p>Choice of "input" (output in same format as input),"matrix" (matrix format output) or "list" (list format output). Default="input".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detailed_output</code></td>
<td>
<p>Boolean to require full details of timings of competing processes. If FALSE, the simplified data only includes the *'ed output columns - this approximately halves RAM requirements. Default=TRUE (detailed).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Time</code></td>
<td>
<p>String specifying the name of the time column. Default="Time"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Event</code></td>
<td>
<p>String specifying the name of the censoring/event column. Default="Censored" (and by default it is a censoring column unless censoringOne=FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censoringOne</code></td>
<td>
<p>Boolean specifying whether censoring is denoted in the censoring/event column by a one (TRUE) or zero (FALSE). Default=TRUE (censorings denoted by 1, events by 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Iter</code></td>
<td>
<p>String specifying the name of the iterations column. Default="Iter"</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns the input simulated trial, in either matrix or list format, with modified assessment times. All columns dependent on this are also updated.
</p>


<h3>Author(s)</h3>

<p>James Bell
</p>


<h3>Examples</h3>

<pre><code class="language-R">example_sim &lt;- simulate_trials(active_ecurve=Weibull(250,0.8),control_ecurve=Weibull(100,1),
rcurve=LinearR(12,100,100), assess=20,iterations=5,seed=12345,detailed_output=TRUE)

adjusted_examples &lt;- set_event_number(data=example_sim,events=50)
</code></pre>


</div>