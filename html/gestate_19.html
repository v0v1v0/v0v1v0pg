<div class="container">

<table style="width: 100%;"><tr>
<td>fit_tte_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit Weibull, Log-Normal or Exponential survival curves to patient-level time-to-event data</h2>

<h3>Description</h3>

<p>This is a function to fit Weibull and log-normal curves to patient-level Survival data using maximum likelihood estimation.<br>
By default it fits both, then picks the best fit based on the log-likelihood (and implicitly the AIC).<br>
Alternatively, just one shape may be fitted, by changing the 'type' argument to either "Weibull" or "Lognormal".
This function is primarily used by event_prediction_data function, but also useful for general Survival function curve fitting.<br>
One useful aspect of this is for fitting the 'inverse KM', where drop-outs are events, while events and 'time-outs' are censored.
This allows for finding a suitable parameterisation for the censoring curve.<br>
Where patient-level data is available, this function will typically perform substantially better than fit_KM, with lower variability of point estimates (and more accurate quantification of it).
</p>


<h3>Usage</h3>

<pre><code class="language-R">fit_tte_data(
  data,
  Time = "Time",
  Event = "Event",
  censoringOne = FALSE,
  type = c("automatic", "Weibull", "Lognormal", "Exponential"),
  init = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The dataframe object containing the patient-level survival data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Time</code></td>
<td>
<p>The column name for the times. Default is "Time"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Event</code></td>
<td>
<p>The column name for the events column (i.e. the binary variable denoting events vs censorings). Default is "Event"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censoringOne</code></td>
<td>
<p>Specify whether censoring is denoted in the Event column by a one (TRUE) or zero (FALSE). Default=FALSE (censorings denoted by 0, events by 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of event curve to fit. Default is "Automatic", fitting both Weibull and Log-normal curves.
Alternatively accepts "Weibull" or "Lognormal" to force the type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>
<p>Vector of starting values for parameter values; useful if survreg experiences convergence issues. Default=NULL (no values specified)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a 3-item list providing information needed to define a Curve object:
</p>

<ul>
<li>
<p>"Item 1"The type of Curve object fitted.
</p>
</li>
<li>
<p>"Item 2"A list of fitted parameters for the curve type.
</p>
</li>
<li>
<p>"Item 3"A vector containing the covariance-matrix parameters for the curve type.
</p>
</li>
<li>
<p>"Item 4"A data frame containing the goodness of fit metrics for each curve type.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>James Bell
</p>


<h3>Examples</h3>

<pre><code class="language-R">recruit &lt;- PieceR(matrix(c(rep(1,12),10,15,25,30,45,60,55,50,65,60,55,30),ncol=2),1)
example_data &lt;- simulate_trials(active_ecurve=Weibull(50,0.8),control_ecurve=Weibull(50,0.8),
rcurve=recruit, assess=10,iterations=1,seed=12345,detailed_output=TRUE)

fit_tte_data(data=example_data,Time="Time",Event="Censored",censoringOne=TRUE,type="automatic")
</code></pre>


</div>