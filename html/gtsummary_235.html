<div class="container">

<table style="width: 100%;"><tr>
<td>tbl_svysummary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a table of summary statistics from a survey object</h2>

<h3>Description</h3>

<p>The <code>tbl_svysummary()</code> function calculates descriptive statistics for
continuous, categorical, and dichotomous variables taking into account survey weights and design.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tbl_svysummary(
  data,
  by = NULL,
  label = NULL,
  statistic = list(all_continuous() ~ "{median} ({p25}, {p75})", all_categorical() ~
    "{n} ({p}%)"),
  digits = NULL,
  type = NULL,
  value = NULL,
  missing = c("ifany", "no", "always"),
  missing_text = "Unknown",
  missing_stat = "{N_miss}",
  sort = all_categorical(FALSE) ~ "alphanumeric",
  percent = c("column", "row", "cell"),
  include = everything()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(<code>survey.design</code>)<br>
A survey object created with created with <code>survey::svydesign()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>(<code>tidy-select</code>)<br>
A single column from <code>data</code>. Summary statistics will be stratified by this variable.
Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>(<code>formula-list-selector</code>)<br>
Used to override default labels in summary table, e.g. <code>list(age = "Age, years")</code>.
The default for each variable is the column label attribute, <code>attr(., 'label')</code>.
If no label has been set, the column name is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>(<code>formula-list-selector</code>)<br>
Specifies summary statistics to display for each variable.  The default is
<code>list(all_continuous() ~ "{median} ({p25}, {p75})", all_categorical() ~ "{n} ({p}%)")</code>.
See below for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>(<code>formula-list-selector</code>)<br>
Specifies how summary statistics are rounded. Values may be either integer(s)
or function(s). If not specified, default formatting is assigned
via <code>assign_summary_digits()</code>. See below for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>(<code>formula-list-selector</code>)<br>
Specifies the summary type. Accepted value are
<code>c("continuous", "continuous2", "categorical", "dichotomous")</code>.
If not specified, default type is assigned via
<code>assign_summary_type()</code>. See below for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>(<code>formula-list-selector</code>)<br>
Specifies the level of a variable to display on a single row.
The gtsummary type selectors, e.g. <code>all_dichotomous()</code>, cannot be used
with this argument. Default is <code>NULL</code>. See below for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing, missing_text, missing_stat</code></td>
<td>
<p>Arguments dictating how and if missing values are presented:
</p>

<ul>
<li> <p><code>missing</code>: must be one of <code>c("ifany", "no", "always")</code>
</p>
</li>
<li> <p><code>missing_text</code>: string indicating text shown on missing row. Default is <code>"Unknown"</code>
</p>
</li>
<li> <p><code>missing_stat</code>: statistic to show on missing row. Default is <code>"{N_miss}"</code>.
Possible values are <code>N_miss</code>, <code>N_obs</code>, <code>N_nonmiss</code>, <code>p_miss</code>, <code>p_nonmiss</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>(<code>formula-list-selector</code>)<br>
Specifies sorting to perform for categorical variables.
Values must be one of <code>c("alphanumeric", "frequency")</code>.
Default is <code>all_categorical(FALSE) ~ "alphanumeric"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percent</code></td>
<td>
<p>(<code>string</code>)<br>
Indicates the type of percentage to return.
Must be one of <code>c("column", "row", "cell")</code>. Default is <code>"column"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include</code></td>
<td>
<p>(<code>tidy-select</code>)<br>
Variables to include in the summary table. Default is <code>everything()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>'tbl_svysummary'</code> object
</p>


<h3>statistic argument</h3>

<p>The statistic argument specifies the statistics presented in the table. The
input is a list of formulas that specify the statistics to report. For example,
<code>statistic = list(age ~ "{mean} ({sd})")</code> would report the mean and
standard deviation for age; <code>statistic = list(all_continuous() ~ "{mean} ({sd})")</code>
would report the mean and standard deviation for all continuous variables.
A statistic name that appears between curly brackets
will be replaced with the numeric statistic (see <code>glue::glue()</code>).
</p>
<p>For categorical variables the following statistics are available to display.
</p>

<ul>
<li> <p><code>{n}</code> frequency
</p>
</li>
<li> <p><code>{N}</code> denominator, or cohort size
</p>
</li>
<li> <p><code>{p}</code> proportion
</p>
</li>
<li> <p><code>{p.std.error}</code> standard error of the sample proportion (on the 0 to 1 scale) computed with <code>survey::svymean()</code>
</p>
</li>
<li> <p><code>{deff}</code> design effect of the sample proportion computed with <code>survey::svymean()</code>
</p>
</li>
<li> <p><code>{n_unweighted}</code> unweighted frequency
</p>
</li>
<li> <p><code>{N_unweighted}</code> unweighted denominator
</p>
</li>
<li> <p><code>{p_unweighted}</code> unweighted formatted percentage
</p>
</li>
</ul>
<p>For continuous variables the following statistics are available to display.
</p>

<ul>
<li> <p><code>{median}</code> median
</p>
</li>
<li> <p><code>{mean}</code> mean
</p>
</li>
<li> <p><code>{mean.std.error}</code> standard error of the sample mean computed with <code>survey::svymean()</code>
</p>
</li>
<li> <p><code>{deff}</code> design effect of the sample mean computed with <code>survey::svymean()</code>
</p>
</li>
<li> <p><code>{sd}</code> standard deviation
</p>
</li>
<li> <p><code>{var}</code> variance
</p>
</li>
<li> <p><code>{min}</code> minimum
</p>
</li>
<li> <p><code>{max}</code> maximum
</p>
</li>
<li> <p><code style="white-space: pre;">⁠{p##}⁠</code> any integer percentile, where <code style="white-space: pre;">⁠##⁠</code> is an integer from 0 to 100
</p>
</li>
<li> <p><code>{sum}</code> sum
</p>
</li>
</ul>
<p>Unlike <code>tbl_summary()</code>, it is not possible to pass a custom function.
</p>
<p>For both categorical and continuous variables, statistics on the number of
missing and non-missing observations and their proportions are available to
display.
</p>

<ul>
<li> <p><code>{N_obs}</code> total number of observations
</p>
</li>
<li> <p><code>{N_miss}</code> number of missing observations
</p>
</li>
<li> <p><code>{N_nonmiss}</code> number of non-missing observations
</p>
</li>
<li> <p><code>{p_miss}</code> percentage of observations missing
</p>
</li>
<li> <p><code>{p_nonmiss}</code> percentage of observations not missing
</p>
</li>
<li> <p><code>{N_obs_unweighted}</code> unweighted total number of observations
</p>
</li>
<li> <p><code>{N_miss_unweighted}</code> unweighted number of missing observations
</p>
</li>
<li> <p><code>{N_nonmiss_unweighted}</code> unweighted number of non-missing observations
</p>
</li>
<li> <p><code>{p_miss_unweighted}</code> unweighted percentage of observations missing
</p>
</li>
<li> <p><code>{p_nonmiss_unweighted}</code> unweighted percentage of observations not missing
</p>
</li>
</ul>
<p>Note that for categorical variables, <code>{N_obs}</code>, <code>{N_miss}</code> and <code>{N_nonmiss}</code> refer
to the total number, number missing and number non missing observations
in the denominator, not at each level of the categorical variable.
</p>


<h3>type and value arguments</h3>

<p>There are four summary types. Use the <code>type</code> argument to change the default summary types.
</p>

<ul>
<li> <p><code>"continuous"</code> summaries are shown on a <em>single row</em>. Most numeric
variables default to summary type continuous.
</p>
</li>
<li> <p><code>"continuous2"</code> summaries are shown on <em>2 or more rows</em>
</p>
</li>
<li> <p><code>"categorical"</code> <em>multi-line</em> summaries of nominal data. Character variables,
factor variables, and numeric variables with fewer than 10 unique levels default to
type categorical. To change a numeric variable to continuous that
defaulted to categorical, use <code>type = list(varname ~ "continuous")</code>
</p>
</li>
<li> <p><code>"dichotomous"</code> categorical variables that are displayed on a <em>single row</em>,
rather than one row per level of the variable.
Variables coded as <code>TRUE</code>/<code>FALSE</code>, <code>0</code>/<code>1</code>, or <code>yes</code>/<code>no</code> are assumed to be dichotomous,
and the <code>TRUE</code>, <code>1</code>, and <code>yes</code> rows are displayed.
Otherwise, the value to display must be specified in the <code>value</code>
argument, e.g. <code>value = list(varname ~ "level to show")</code>
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Joseph Larmarange
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Example 1 ----------------------------------
survey::svydesign(~1, data = as.data.frame(Titanic), weights = ~Freq) |&gt;
  tbl_svysummary(by = Survived, percent = "row", include = c(Class, Age))

# Example 2 ----------------------------------
# A dataset with a complex design
data(api, package = "survey")
survey::svydesign(id = ~dnum, weights = ~pw, data = apiclus1, fpc = ~fpc) |&gt;
  tbl_svysummary(by = "both", include = c(api00, stype)) |&gt;
  modify_spanning_header(all_stat_cols() ~ "**Survived**")

</code></pre>


</div>