<div class="container">

<table style="width: 100%;"><tr>
<td>threshold_gfc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Threshold the GFC product</h2>

<h3>Description</h3>

<p>Uses the GFC data output from <code>extract_gfc</code> to make an 
thresholded layer stack with five layers: treecover2000, loss, gain,
lossyear, and datamask layers. See Details for the coding used in each 
layer. Note that the output file format is fixed as GeoTIFF with LZW 
compression.
</p>


<h3>Usage</h3>

<pre><code class="language-R">threshold_gfc(gfc, forest_threshold = 25, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gfc</code></td>
<td>
<p>extract of GFC product for a given AOI (see 
<code>extract_gfc</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forest_threshold</code></td>
<td>
<p>percent woody vegetation to use as a threshold for 
mapping forest/non-forest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments as for writeRaster, such as <code>filename</code> 
or <code>overwrite</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The output uses the following codes to describe forest change at each pixel:
</p>
<p><b>Band 1 (forest2000)</b>
</p>

<table>
<tr>
<td style="text-align: left;">
    Non-forest           </td>
<td style="text-align: center;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
    Forest               </td>
<td style="text-align: center;"> 1 </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p><b>Band 2 (lossyear)</b>
</p>

<table>
<tr>
<td style="text-align: left;">
    No loss      </td>
<td style="text-align: center;"> 0  </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2001 </td>
<td style="text-align: center;"> 1  </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2002 </td>
<td style="text-align: center;"> 2  </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2003 </td>
<td style="text-align: center;"> 3  </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2004 </td>
<td style="text-align: center;"> 4  </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2005 </td>
<td style="text-align: center;"> 5  </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2006 </td>
<td style="text-align: center;"> 6  </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2007 </td>
<td style="text-align: center;"> 7  </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2008 </td>
<td style="text-align: center;"> 8  </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2009 </td>
<td style="text-align: center;"> 9  </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2010 </td>
<td style="text-align: center;"> 10 </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2011 </td>
<td style="text-align: center;"> 11 </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2012 </td>
<td style="text-align: center;"> 12 </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2013 </td>
<td style="text-align: center;"> 13 </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss in 2014 </td>
<td style="text-align: center;"> 14 </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>Note that lossyear is zero for pixels that were not forested in 2000, and 
that the 2013 and 2014 loss layers are not available in the original 2013 
Hansen dataset (the 2013 loss layer is available in the 2014 and 2015 
updates, while the 2014 loss layer is available in the 2015 update only).
</p>
<p><b>Band 3 (gain)</b>
</p>

<table>
<tr>
<td style="text-align: left;">
    No gain </td>
<td style="text-align: center;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
    Gain    </td>
<td style="text-align: center;"> 1 </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>Note that gain is zero for pixels that were forested in 2000
</p>
<p><b>Band 4 (lossgain)</b>
</p>

<table>
<tr>
<td style="text-align: left;">
    No loss and gain </td>
<td style="text-align: center;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
    Loss and gain    </td>
<td style="text-align: center;"> 1 </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>Note that loss and gain is difficult to interpret from the thresholded 
product, as the original GFC product does not provide information on the 
sequence (loss then gain, or gain then loss), or the levels of canopy cover 
reached prior to loss (for gain then loss) or after loss (for loss then gain 
pixels). The layer is calculated here as: <code>lossgain &lt;- gain &amp; (lossyear 
!= 0)</code>, where loss year and gain are the original GFC gain and lossyear 
layers, respectively.
</p>
<p><b>Band 5 (datamask)</b>
</p>

<table>
<tr>
<td style="text-align: left;">
    No data </td>
<td style="text-align: center;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
    Land    </td>
<td style="text-align: center;"> 1 </td>
</tr>
<tr>
<td style="text-align: left;">
    Water   </td>
<td style="text-align: center;"> 2 </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>RasterBrick</code> with thresholded GFC product (see details above)
</p>


<h3>See Also</h3>

<p><code>extract_gfc</code>
</p>


</div>