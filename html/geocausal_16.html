<div class="container">

<table style="width: 100%;"><tr>
<td>get_hist</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Obtain histories of treatment or outcome events</h2>

<h3>Description</h3>

<p>'get_hist()' takes a hyperframe and time and columns of interest, and generates histories of events of interest.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_hist(tt, Xt, Yt = NA, lag, window, x_only = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tt</code></td>
<td>
<p>values of the time variable of interest for which 'get_hist()' generates histories</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xt</code></td>
<td>
<p>the name of a treatment column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Yt</code></td>
<td>
<p>the name of an outcome column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>numeric. 'lag' specifies the number of time periods over which
'get_hist()' aggregates treatment and outcome columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>owin object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_only</code></td>
<td>
<p>logical. 'x_only' specifies whether to generate only treatment history (no outcome history). By default, 'FALSE'.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list of treatment and outcome histories
</p>


<h3>Examples</h3>

<pre><code class="language-R">dat_out &lt;- insurgencies[1:100, ]
dat_out$time &lt;- as.numeric(dat_out$date - min(dat_out$date) + 1)

# Hyperframe
dat_hfr &lt;- get_hfr(data = dat_out,
                   col = "type",
                   window = iraq_window,
                   time_col = "time",
                   time_range = c(1, max(dat_out$time)),
                   coordinates = c("longitude", "latitude"),
                   combine = TRUE)

# Histories
lapply(1:nrow(dat_hfr), get_hist,
       Xt = dat_hfr$all_outcome,
       lag = 1, window = iraq_window)
</code></pre>


</div>