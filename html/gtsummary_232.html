<div class="container">

<table style="width: 100%;"><tr>
<td>tbl_survfit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Survival table</h2>

<h3>Description</h3>

<p>Function takes a <code>survfit</code> object as an argument, and provides a
formatted summary table of the results
</p>


<h3>Usage</h3>

<pre><code class="language-R">tbl_survfit(x, ...)

## S3 method for class 'survfit'
tbl_survfit(x, ...)

## S3 method for class 'data.frame'
tbl_survfit(x, y, include = everything(), conf.level = 0.95, ...)

## S3 method for class 'list'
tbl_survfit(
  x,
  times = NULL,
  probs = NULL,
  statistic = "{estimate} ({conf.low}, {conf.high})",
  label = NULL,
  label_header = ifelse(!is.null(times), "**Time {time}**",
    "**{style_sigfig(prob, scale=100)}% Percentile**"),
  estimate_fun = ifelse(!is.null(times), label_style_percent(suffix = "%"),
    label_style_sigfig()),
  missing = "--",
  type = NULL,
  reverse = FALSE,
  quiet = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(<code>survfit</code>, <code>list</code>, <code>data.frame</code>)<br>
a survfit object, list of survfit objects, or a data frame.
If a data frame is passed, a list of survfit objects is constructed using
each variable as a stratifying variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For <code>tbl_survfit.data.frame()</code>  and <code>tbl_survfit.survfit()</code> the arguments
are passed to <code>tbl_survfit.list()</code>. They are not used when <code>tbl_survfit.list()</code>
is called directly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>outcome call, e.g. <code>y = Surv(ttdeath, death)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include</code></td>
<td>
<p>Variable to include as stratifying variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>(scalar <code>numeric</code>)<br> ]
Confidence level for confidence intervals. Default is <code>0.95</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>(<code>numeric</code>)<br>
a vector of times for which to return survival probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>(<code>numeric</code>)<br>
a vector of probabilities with values in (0,1) specifying the survival quantiles to return.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>(<code>string</code>)<br>
string defining the statistics to present in the table.
Default is <code>"{estimate} ({conf.low}, {conf.high})"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>(<code>formula-list-selector</code>)<br>
List of formulas specifying variables labels,
e.g. <code>list(age = "Age, yrs", stage = "Path T Stage")</code>, or a string for a
single variable table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_header</code></td>
<td>
<p>(<code>string</code>)<br>
string specifying column labels above statistics. Default
is <code>"{prob} Percentile"</code> for survival percentiles, and <code>"Time {time}"</code> for n-year
survival estimates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate_fun</code></td>
<td>
<p>(<code>function</code>)<br>
function to format the Kaplan-Meier estimates. Default
is <code>label_style_percent()</code> for survival probabilities and <code>label_style_sigfig()</code> for
survival times</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing</code></td>
<td>
<p>(<code>string</code>)<br>
text to fill when estimate is not estimable. Default is <code>"--"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>(<code>string</code> or <code>NULL</code>)<br>
type of statistic to report. Available for Kaplan-Meier time estimates only, otherwise <code>type</code>
is ignored. Default is <code>NULL</code>.
Must be one of the following:</p>

<table>
<tr>
<td style="text-align: left;">
   type </td>
<td style="text-align: left;"> transformation </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>"survival"</code> </td>
<td style="text-align: left;"> <code>x</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>"risk"</code> </td>
<td style="text-align: left;"> <code>1 - x</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>"cumhaz"</code> </td>
<td style="text-align: left;"> <code>-log(x)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverse</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a></p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Daniel D. Sjoberg
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(survival)

# Example 1 ----------------------------------
# Pass single survfit() object
tbl_survfit(
  survfit(Surv(ttdeath, death) ~ trt, trial),
  times = c(12, 24),
  label_header = "**{time} Month**"
)

# Example 2 ----------------------------------
# Pass a data frame
tbl_survfit(
  trial,
  y = "Surv(ttdeath, death)",
  include = c(trt, grade),
  probs = 0.5,
  label_header = "**Median Survival**"
)

# Example 3 ----------------------------------
# Pass a list of survfit() objects
list(survfit(Surv(ttdeath, death) ~ 1, trial),
     survfit(Surv(ttdeath, death) ~ trt, trial)) |&gt;
  tbl_survfit(times = c(12, 24))

# Example 4 Competing Events Example ---------
# adding a competing event for death (cancer vs other causes)
set.seed(1123)
library(dplyr, warn.conflicts = FALSE, quietly = TRUE)
trial2 &lt;- trial |&gt;
  dplyr::mutate(
    death_cr =
      dplyr::case_when(
        death == 0 ~ "censor",
        runif(n()) &lt; 0.5 ~ "death from cancer",
        TRUE ~ "death other causes"
      ) |&gt;
      factor()
  )

survfit(Surv(ttdeath, death_cr) ~ grade, data = trial2) |&gt;
  tbl_survfit(times = c(12, 24), label = "Tumor Grade")

</code></pre>


</div>