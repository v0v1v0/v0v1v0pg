<div class="container">

<table style="width: 100%;"><tr>
<td>compare_avg_tax_rates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare average tax rates by percentile</h2>

<h3>Description</h3>

<p>To determine the effects of bracket creep on a proposed tax policy,
a common task is calculate the change in the average tax rates for each percentile.
This function accepts a sample file and a baseline sample file, and returns a 100-row table
giving the mean change in average tax rates for each percentile, compared to the baseline.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compare_avg_tax_rates(DT, baseDT, by = "id", ids = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>DT</code></td>
<td>
<p>A single <code>data.table</code> containing columns <code>new_tax</code>,
<code>Taxable_Income</code>, <code>baseline_tax</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseDT</code></td>
<td>
<p>A <code>data.table</code> of a single cross-section of taxpayers from
which baseline percentiles can be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>How to separate <code>DT</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ids</code></td>
<td>
<p>Subset <code>DT</code> by <code>by</code>.</p>
</td>
</tr>
</table>
</div>