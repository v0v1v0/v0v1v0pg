<div class="container">

<table style="width: 100%;"><tr>
<td>basis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Basis expansions for smooths</h2>

<h3>Description</h3>

<p>Creates a basis expansion from a definition of a smoother using the syntax
of <em>mgcv</em>'s smooths via <code>mgcv::s()</code>., <code>mgcv::te()</code>, <code>mgcv::ti()</code>, and
<code>mgcv::t2()</code>, or from a fitted GAM(M).
</p>


<h3>Usage</h3>

<pre><code class="language-R">basis(object, ...)

## S3 method for class 'gam'
basis(
  object,
  select = NULL,
  term = deprecated(),
  data = NULL,
  n = 100,
  n_2d = 50,
  n_3d = 16,
  n_4d = 4,
  partial_match = FALSE,
  ...
)

## S3 method for class 'scam'
basis(
  object,
  select = NULL,
  term = deprecated(),
  data = NULL,
  n = 100,
  n_2d = 50,
  n_3d = 16,
  n_4d = 4,
  partial_match = FALSE,
  ...
)

## S3 method for class 'gamm'
basis(
  object,
  select = NULL,
  term = deprecated(),
  data = NULL,
  n = 100,
  n_2d = 50,
  n_3d = 16,
  n_4d = 4,
  partial_match = FALSE,
  ...
)

## S3 method for class 'list'
basis(
  object,
  select = NULL,
  term = deprecated(),
  data = NULL,
  n = 100,
  n_2d = 50,
  n_3d = 16,
  n_4d = 4,
  partial_match = FALSE,
  ...
)

## Default S3 method:
basis(object, data, knots = NULL, constraints = FALSE, at = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a smooth specification, the result of a call to one of
<code>mgcv::s()</code>., <code>mgcv::te()</code>, <code>mgcv::ti()</code>, or <code>mgcv::t2()</code>, or a fitted
GAM(M) model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments passed to <code>mgcv::smoothCon()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>character; select smooths in a fitted model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>term</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> This argument has been
renamed <code>select</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the variables used in <code>smooth</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>numeric; the number of points over the range of the covariate at
which to evaluate the smooth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_2d</code></td>
<td>
<p>numeric; the number of new observations for each dimension of a
bivariate smooth. Not currently used; <code>n</code> is used for both dimensions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_3d</code></td>
<td>
<p>numeric; the number of new observations to generate for the third
dimension of a 3D smooth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_4d</code></td>
<td>
<p>numeric; the number of new observations to generate for the
dimensions higher than 2 (!) of a <em>k</em>D smooth (<em>k</em> &gt;= 4). For example, if
the smooth is a 4D smooth, each of dimensions 3 and 4 will get <code>n_4d</code>
new observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partial_match</code></td>
<td>
<p>logical; in the case of character <code>select</code>, should
<code>select</code> match partially against <code>smooths</code>? If <code>partial_match = TRUE</code>,
<code>select</code> must only be a single string, a character vector of length 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knots</code></td>
<td>
<p>a list or data frame with named components containing
knots locations. Names must match the covariates for which the basis
is required. See <code>mgcv::smoothCon()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraints</code></td>
<td>
<p>logical; should identifiability constraints be applied to
the smooth basis. See argument <code>absorb.cons</code> in <code>mgcv::smoothCon()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p>a data frame containing values of the smooth covariate(s) at which
the basis should be evaluated.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble.
</p>


<h3>Author(s)</h3>

<p>Gavin L. Simpson
</p>


<h3>Examples</h3>

<pre><code class="language-R">load_mgcv()

df &lt;- data_sim("eg4", n = 400, seed = 42)

bf &lt;- basis(s(x0), data = df)
bf &lt;- basis(s(x2, by = fac, bs = "bs"), data = df, constraints = TRUE)

</code></pre>


</div>