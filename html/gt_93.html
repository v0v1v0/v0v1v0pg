<div class="container">

<table style="width: 100%;"><tr>
<td>from_column</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reference a column of values for certain parameters</h2>

<h3>Description</h3>

<p>It can be useful to obtain parameter values from a column in a
<strong>gt</strong> for functions that operate on the table body and stub cells. For
example, you might want to indent row labels in the stub. You could call
<code>tab_stub_indent()</code> and indent different rows to various indentation levels.
However, each level of indentation applied necessitates a new call of that
function. To make this better, we can use indentation values available in a
table column via the <code>from_column()</code> helper function. For the
<code>tab_stub_indent()</code> case, you'd invoke this helper at the <code>indent</code> argument
and specify the column that has the values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">from_column(column, na_value = NULL, fn = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>column</code></td>
<td>
<p><em>Column name</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <strong>required</strong>
</p>
<p>A single column name in quotation marks. Values will be extracted from this
column and provided to compatible arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_value</code></td>
<td>
<p><em>Default replacement for <code>NA</code> values</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character|numeric|logical&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A single value to replace any <code>NA</code> values in the <code>column</code>. Take care to
provide a value that is of the same type as the <code>column</code> values to avoid
any undesirable coercion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn</code></td>
<td>
<p><em>Function to apply</em>
</p>
<p><code style="white-space: pre;">⁠function|formula⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>If a function is provided here, any values extracted from the table
<code>column</code> (except <code>NA</code> values) can be mutated.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list object of class <code>gt_column</code>.
</p>


<h3>Functions that allow the use of the <code>from_column()</code> helper</h3>

<p>Only certain functions (and furthermore a subset of arguments within each)
support the use of <code>from_column()</code> for accessing varying parameter values.
These functions are:
</p>

<ul>
<li> <p><code>tab_stub_indent()</code>
</p>
</li>
<li> <p><code>fmt_number()</code>
</p>
</li>
<li> <p><code>fmt_integer()</code>
</p>
</li>
<li> <p><code>fmt_scientific()</code>
</p>
</li>
<li> <p><code>fmt_engineering()</code>
</p>
</li>
<li> <p><code>fmt_percent()</code>
</p>
</li>
<li> <p><code>fmt_partsper()</code>
</p>
</li>
<li> <p><code>fmt_fraction()</code>
</p>
</li>
<li> <p><code>fmt_currency()</code>
</p>
</li>
<li> <p><code>fmt_roman()</code>
</p>
</li>
<li> <p><code>fmt_index()</code>
</p>
</li>
<li> <p><code>fmt_spelled_num()</code>
</p>
</li>
<li> <p><code>fmt_bytes()</code>
</p>
</li>
<li> <p><code>fmt_date()</code>
</p>
</li>
<li> <p><code>fmt_time()</code>
</p>
</li>
<li> <p><code>fmt_datetime()</code>
</p>
</li>
<li> <p><code>fmt_url()</code>
</p>
</li>
<li> <p><code>fmt_image()</code>
</p>
</li>
<li> <p><code>fmt_flag()</code>
</p>
</li>
<li> <p><code>fmt_markdown()</code>
</p>
</li>
<li> <p><code>fmt_passthrough()</code>
</p>
</li>
</ul>
<p>Within help documents for each of these functions you'll find the
<em>Compatibility of arguments with the <code>from_column()</code> helper function</em> section
and sections like these describe which arguments support the use of
<code>from_column()</code>.
</p>


<h3>Examples</h3>

<p><code>from_column()</code> can be used in a variety of formatting functions so that
values for common options don't have to be static, they can change in every
row (so long as you have a column of compatible option values). Here's an
example where we have a table of repeating numeric values along with a column
of currency codes. We can format the numbers to currencies with
<code>fmt_currency()</code> and use <code>from_column()</code> to reference the column of currency
codes, giving us values that are each formatted as having a different
currency.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  amount = rep(30.75, 6),
  curr = c("USD", "EUR", "GBP", "CAD", "AUD", "JPY"),
) |&gt;
  gt() |&gt;
  fmt_currency(currency = from_column(column = "curr"))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_from_column_1.png" alt="This image of a table was generated from the first code example in the `from_column()` help file." style="width:100%;"><p>Let's summarize the <code>gtcars</code> dataset to get a set of rankings of car
manufacturer by country of origin. The <code>n</code> column represents the number of
cars a manufacturer has within this dataset and we can use that column as a
way to size the text. We do that in the <code>tab_style()</code> call; the
<code>from_column()</code> function is used within the <code>cell_text()</code> statement to
fashion different font sizes from that <code>n</code> column. This is done in
conjunction with the <code>fn</code> argument of <code>from_column()</code>, which helps to tweak
the values in <code>n</code> to get a useful range of font sizes.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::count(mfr, ctry_origin) |&gt;
  dplyr::arrange(ctry_origin) |&gt;
  gt(groupname_col = "ctry_origin") |&gt;
  tab_style(
    style = cell_text(
      size = from_column(
        column = "n",
        fn = function(x) paste0(5 + (x * 3), "px")
      )
    ),
    locations = cells_body()
  ) |&gt;
  tab_style(
    style = cell_text(align = "center"),
    locations = cells_row_groups()
  ) |&gt;
  cols_hide(columns = n) |&gt;
  tab_options(column_labels.hidden = TRUE) |&gt;
  opt_all_caps() |&gt;
  opt_vertical_padding(scale = 0.25) |&gt;
  cols_align(align = "center", columns = mfr)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_from_column_2.png" alt="This image of a table was generated from the second code example in the `from_column()` help file." style="width:100%;"><h3>Function ID</h3>

<p>8-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code>adjust_luminance()</code>,
<code>cell_borders()</code>,
<code>cell_fill()</code>,
<code>cell_text()</code>,
<code>currency()</code>,
<code>default_fonts()</code>,
<code>escape_latex()</code>,
<code>google_font()</code>,
<code>gt_latex_dependencies()</code>,
<code>html()</code>,
<code>md()</code>,
<code>nanoplot_options()</code>,
<code>pct()</code>,
<code>px()</code>,
<code>random_id()</code>,
<code>row_group()</code>,
<code>stub()</code>,
<code>system_fonts()</code>,
<code>unit_conversion()</code>
</p>


</div>