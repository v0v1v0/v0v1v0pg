<div class="container">

<table style="width: 100%;"><tr>
<td>ga_clientid_activity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>User Activity Request</h2>

<h3>Description</h3>

<p>Get activity on an individual user
</p>


<h3>Usage</h3>

<pre><code class="language-R">ga_clientid_activity(
  ids,
  viewId,
  id_type = c("CLIENT_ID", "USER_ID"),
  activity_type = NULL,
  date_range = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ids</code></td>
<td>
<p>The userId or clientId.  You can send in a vector of them</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viewId</code></td>
<td>
<p>The viewId</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_type</code></td>
<td>
<p>Whether its userId or clientId</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>activity_type</code></td>
<td>
<p>If specified, filters down response to the activity type.  Choice between <code style="white-space: pre;">⁠"PAGEVIEW","SCREENVIEW","GOAL","ECOMMERCE","EVENT"⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date_range</code></td>
<td>
<p>A vector of start and end dates.  If not used will default to a week.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The User Activity API lets you query an individual user's movement through your website, by sending in the individual <code>clientId</code> or <code>userId</code>.
</p>
<p>Bear in mind each call will count against your API quota, so fetching a large amount of client ids will be limited by that.
</p>
<p>Use ga_clientid_activity_unnest to unnest deeply nested data in the hits data.
</p>
<p>The timestamps are available to millisecond level but you will need to set your R options to see them e.g. <code>options(digits.secs=3)</code>
</p>


<h3>Value</h3>

<p>A list of data.frames: <code style="white-space: pre;">⁠$sessions⁠</code> contains session level data. <code style="white-space: pre;">⁠$hits⁠</code> contains individual activity data
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/reporting/core/v4/rest/v4/userActivity/search">https://developers.google.com/analytics/devguides/reporting/core/v4/rest/v4/userActivity/search</a>
</p>
<p>Other clientid functions: 
<code>ga_clientid_activity_unnest()</code>,
<code>ga_clientid_deletion()</code>,
<code>ga_clientid_hash()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

# access data for individual users
uar &lt;- ga_clientid_activity(c("1106980347.1461227730", "476443645.1541099566"),
                         viewId = 81416156, 
                         date_range = c("2019-01-01","2019-02-01"))
                         
# access clientIds for users who have transacted
viewId &lt;- 106249469
date_range &lt;- c("2019-01-01","2019-02-01")
cids &lt;- google_analytics(viewId, 
                         date_range = date_range, 
                         metrics = "sessions", 
                         dimensions = "clientId", 
                         met_filters = filter_clause_ga4(
                           list(met_filter("transactions", 
                                           "GREATER_THAN", 
                                           0)
                                )))
transactors &lt;- ga_clientid_activity(cids$clientId,
                                    viewId = viewId, 
                                    date_range = date_range)

# access the data.frames returned:

# the session level data for the users passed in
uar$sessions

# the hit level activity for the users passed in
uar$hits

# filter the response to only include certain activity types, such as goals:

only_goals &lt;- ga_clientid_activity(c("1106980347.1461227730", 
                                     "476443645.1541099566"),
                     viewId = 81416156, 
                     date_range = c("2019-01-01","2019-02-01"),
                     activity_types = "GOAL") 




## End(Not run)
</code></pre>


</div>