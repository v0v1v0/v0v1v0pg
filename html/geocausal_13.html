<div class="container">

<table style="width: 100%;"><tr>
<td>get_est</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get causal estimates comparing two scenarios</h2>

<h3>Description</h3>

<p>'get_est()' generates causal estimates comparing two counterfactual scenarios.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_est(
  obs,
  cf1,
  cf2,
  treat,
  sm_out,
  mediation = FALSE,
  obs_med_log_sum_dens = NA,
  cf1_med_log_sum_dens = NA,
  cf2_med_log_sum_dens = NA,
  lag,
  time_after = TRUE,
  entire_window,
  use_dist,
  windows,
  dist_map,
  dist,
  trunc_level = NA,
  save_weights = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>observed density</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cf1</code></td>
<td>
<p>counterfactual density 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cf2</code></td>
<td>
<p>counterfactual density 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat</code></td>
<td>
<p>column of a hyperframe that summarizes treatment data. In the form of 'hyperframe$column'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sm_out</code></td>
<td>
<p>column of a hyperframe that summarizes the smoothed outcome data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mediation</code></td>
<td>
<p>whether to perform causal mediation analysis (don't use; still in development). By default, FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs_med_log_sum_dens</code></td>
<td>
<p>sum of log densities of mediators for the observed (don't use; still in development)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cf1_med_log_sum_dens</code></td>
<td>
<p>sum of log densities of mediators for counterfactual 1 (don't use; still in development)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cf2_med_log_sum_dens</code></td>
<td>
<p>sum of log densities of mediators for counterfactual 2 (don't use; still in development)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>integer that specifies lags to calculate causal estimates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_after</code></td>
<td>
<p>whether to include one unit time difference between treatment and outcome. By default = TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>entire_window</code></td>
<td>
<p>owin object (the entire region of interest)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_dist</code></td>
<td>
<p>whether to use distance-based maps. By default, TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>windows</code></td>
<td>
<p>a list of owin objects (if 'use_dist = FALSE')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist_map</code></td>
<td>
<p>distance map (an im object, if 'use_dist = TRUE')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>distances (a numeric vector within the max distance of 'dist_map')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trunc_level</code></td>
<td>
<p>the level of truncation for the weights (0-1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_weights</code></td>
<td>
<p>whether to save weights</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The level of truncation indicates the quantile of weights at which weights are truncated.
That is, if 'trunc_level = 0.95', then all weights are truncated at the 95 percentile of the weights.
</p>


<h3>Value</h3>

<p>list of the following:
'cf1_ave_surf': average weighted surface for scenario 1
'cf2_ave_surf': average weighted surface for scenario 2
'est_cf': estimated effects of each scenario
'est_causal': estimated causal contrasts
'var_cf': variance upper bounds for each scenario
'var_causal': variance upper bounds for causal contrasts
'windows': list of owin objects
</p>


</div>