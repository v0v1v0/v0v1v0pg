<div class="container">

<table style="width: 100%;"><tr>
<td>gis_tools</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Helpers for interfacing geohashes with sp/sf objects </h2>

<h3>Description</h3>

<p>These functions smooth the gateway between working with geohashes and geospatial information built for the major geospatial packages in R, <code>sp</code> and <code>sf</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gh_to_sp(geohashes)
gh_to_spdf(...)
gh_to_sf(...)

gh_covering(SP, precision = 6L, minimal = FALSE)

## Default S3 method:
gh_to_spdf(geohashes, ...)

## S3 method for class 'data.frame'
gh_to_spdf(gh_df, gh_col = 'gh', ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>geohashes</code></td>
<td>
 <p><code>character</code> vector of geohashes to be converted to polygons. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Arguments for subsequent methods. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SP</code></td>
<td>
<p> A <code>Spatial</code> object (requires <code>bbox</code> and <code>proj4string</code> methods, and <code>over</code> if <code>minimal</code> is <code>TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>precision</code></td>
<td>
 <p><code>integer</code> specifying the precision of geohashes to use, same as <code>gh_encode</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minimal</code></td>
<td>
 <p><code>logical</code>; if <code>FALSE</code>, the output will have all geohashes in the bounding box of <code>SP</code>; if <code>TRUE</code>, any geohashes not intersecting <code>SP</code> will be removed. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gh_df</code></td>
<td>
 <p><code>data.frame</code> which 1) contains a column of geohashes to be converted to polygons and 2) will serve as the <code>data</code> slot of the resultant <code>SpatialPolygonsDataFrame</code> object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gh_col</code></td>
<td>
 <p><code>character</code> column name saying where the geohashes are stored in <code>gh_df</code>. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>gh_to_sp</code> relies on the <code>gh_decode</code> function. Note in particular that this function accepts any length of geohash (geohash-6, geohash-4, etc.) and is agnostic to potential overlap, though duplicates will be caught and excluded.
</p>
<p><code>gh_to_spdf.data.frame</code> will use <code>match.ID = FALSE</code> in the call to <code>SpatialPolygonsDataFrame</code>. Please file an issue if you'd like this to be more flexible.
</p>
<p><code>gh_to_sf</code> is just a wrapper of <code>st_as_sf</code> around <code>gh_to_spdf</code>; as such it requires both <code>sp</code> and <code>sf</code> packages to work.
</p>


<h3>Value</h3>

<p>For <code>gh_to_sp</code>, a <code>SpatialPolygons</code> object.
</p>
<p>For <code>gh_to_spdf</code>, a <code>SpatialPolygonsDataFrame</code> object.
</p>
<p>For <code>gh_to_sf</code>, a <code>sf</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # get the neighborhood of this geohash in downtown Apia as an sp object
  downtown = '2jtc5x'
  apia_nbhd = unlist(gh_neighbors(downtown))
  apia_sp = gh_to_sp(apia_nbhd)

  # all geohashes covering a random sampling within Apia:
  apia_covering = gh_covering(smp &lt;- sp::spsample(apia_sp, 10L, 'random'))

  apia_sf = gh_to_sf(apia_nbhd)
</code></pre>


</div>