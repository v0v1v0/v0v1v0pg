<div class="container">

<table style="width: 100%;"><tr>
<td>g.getmeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Function to extract meta-data (features) from data in accelerometer file
</h2>

<h3>Description</h3>

<p>Reads a accelerometer file in blocks, extracts various features and stores average  feature
value per short or long epoch. Acceleration and angle metrics are stored at short
epoch length. The non-wear indication score, the clipping score, temperature
(if available), light (if available), and Euclidean norm are stored at long epoch
length. The function has been designed and thoroughly tested with accelerometer files
from GENEA and GENEActiv bin files. Further, the function should be able to cope with ActiGraph gt3x and
csv files, Axivity cwa and csv files, Movisens bin files, and ad-hoc csv files read through the
read.myacc.csv function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  g.getmeta(datafile, params_metrics = c(), params_rawdata = c(),
                     params_general = c(), params_cleaning = c(), daylimit = FALSE,
                     offset = c(0, 0, 0), scale = c(1, 1, 1), tempoffset = c(0, 0, 0),
                     meantempcal = c(), myfun = c(), inspectfileobject = c(), 
                     verbose = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>datafile</code></td>
<td>

<p>name of accelerometer file
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params_metrics</code></td>
<td>

<p>See details in GGIR.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params_rawdata</code></td>
<td>

<p>See details in GGIR.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params_general</code></td>
<td>

<p>See details in GGIR.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params_cleaning</code></td>
<td>

<p>See details in GGIR.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>daylimit</code></td>
<td>

<p>number of days to limit (roughly), if set to FALSE no daylimit
will be applied
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>

<p>offset correction value per axis, usage:
value = scale(value,center = -offset, scale = 1/scale)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>

<p>scaling correction value per axis, usage:
value = scale(value,center = -offset, scale = 1/scale)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tempoffset</code></td>
<td>

<p>temperature offset correction value per axis, usage:
value = scale(value,center = -offset, scale = 1/scale)
+ scale(temperature, center = rep(averagetemperate,3), scale = 1/tempoffset)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meantempcal</code></td>
<td>

<p>mean temperature corresponding to the data as used for
autocalibration. If autocalibration is not done or if temperature was not
available then leave blank (default)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>myfun</code></td>
<td>

<p>External function object to be applied to raw data.
See details applyExtFunction.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inspectfileobject</code></td>
<td>

<p>Output from the function g.inspectfile.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>Boolean (default = TRUE). to indicate whether console message should be printed.
Note that warnings and error are always printed and can be suppressed with
suppressWarning() or suppressMessages().
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Any argument used in the previous version of g.getmeta, which will now
be used to overrule the arguments specified with the parameter objects.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>metalong</code></td>
<td>
<p>dataframe with long epoch meta-data: EN, non-wear score,
clipping score, temperature</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metashort</code></td>
<td>
<p>dataframe with short epoch meta-data: timestamp and metric</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tooshort</code></td>
<td>
<p>indicator of whether file was too short for processing (TRUE or FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corrupt</code></td>
<td>
<p>indicator of whether file was considered corrupt (TRUE or FALSE)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Vincent T van Hees &lt;v.vanhees@accelting.com&gt;
</p>


<h3>References</h3>


<ul>
<li>
<p> van Hees VT, Gorzelniak L, Dean Leon EC, Eder M, Pias M, et al. (2013) Separating
Movement and Gravity Components in an Acceleration Signal and Implications for the
Assessment of Human Daily Physical Activity. PLoS ONE 8(4): e61691.
doi:10.1371/journal.pone.0061691
</p>
</li>
<li>
<p> Aittasalo M, Vaha-Ypya H, Vasankari T, Husu P, Jussila AM, and Sievanen H. Mean
amplitude deviation calculated from raw acceleration data: a novel method for
classifying the intensity of adolescents physical activity irrespective of accelerometer
brand. BMC Sports Science, Medicine and Rehabilitation (2015).
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">  ## Not run: 
    datafile = "C:/myfolder/testfile.bin"

    #Extract meta-data:
    M = g.getmeta(datafile)

    #Inspect first couple of rows of long epoch length meta data:
    print(M$metalong[1:5,])

    #Inspect first couple of rows of short epoch length meta data:
    print(M$metalong[1:5,])
  
## End(Not run)
</code></pre>


</div>