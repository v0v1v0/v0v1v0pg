<div class="container">

<table style="width: 100%;"><tr>
<td>analyze.p1</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Apply Period 1 Analysis</h2>

<h3>Description</h3>

<p>Conducts period 1 analysis; selects the optimal set of variables that
minimizes a <em>k</em>-fold CV error measure and establishes a machine learning
model that predicts power output of REF and CTR-b turbines by using period 1
data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">analyze.p1(train, test, ratedPW)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>train</code></td>
<td>
<p>A list containing <em>k</em> datasets that will be used to train
the machine learning model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>A list containing <em>k</em> datasets that will be used to test the
machine learning model and calculate CV error measures.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratedPW</code></td>
<td>
<p>A kW value that describes the (common) rated power of the
selected turbines (REF and CTR-b).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function returns a list containing period 1 analysis results as
follows. </p>
 <dl>
<dt><code>opt.cov</code></dt>
<dd>
<p>A character vector presenting the
names of predictor variables chosen for the optimal set.</p>
</dd>
<dt><code>pred.REF</code></dt>
<dd>
<p>A list of <code class="reqn">k</code> datasets each representing the
<code class="reqn">k</code>th fold's period 1 prediction for the REF turbine.</p>
</dd>
<dt><code>pred.CTR</code></dt>
<dd>
<p>A list of <code class="reqn">k</code> datasets each representing the
<code class="reqn">k</code>th fold's period 1 prediction for the CTR-b turbine.</p>
</dd>
<dt><code>err.REF</code></dt>
<dd>
<p>A data frame containing <code class="reqn">k</code>-fold CV based RMSE
values and BIAS values for the REF turbine model (so <code class="reqn">k</code> of them for
both). The first column includes the RMSE values and the second column
includes the BIAS values.</p>
</dd> <dt><code>err.CTR</code></dt>
<dd>
<p>A data frame containing
<code class="reqn">k</code>-fold CV based RMSE values and BIAS values for the CTR-b turbine
model. Similarly structured with <code>err.REF</code>.</p>
</dd>
<dt><code>biasCurve.REF</code></dt>
<dd>
<p>A <code class="reqn">k</code> by <code class="reqn">m</code> matrix describing the
binned BIAS (technically speacking, ‘residuals’ which are the negative
BIAS) curve for the REF turbine model, where <code class="reqn">m</code> is the number of power
bins.</p>
</dd> <dt><code>biasCurve.CTR</code></dt>
<dd>
<p>A <code class="reqn">k</code> by <code class="reqn">m</code> matrix describing
the binned BIAS curve for the CTR-b turbine model.</p>
</dd>
</dl>
<h3>Note</h3>

<p><b>VERY IMPORTANT!</b> </p>
 <ul>
<li>
<p> Selecting the optimal set of
variables will take a significant amount of time. For example, with a
typical size of an annual dataset, the evaluation of one set of variables
for a single fold testing may take about 20-40 minutes (from the authors'
experience). </p>
</li>
<li>
<p> To help understand the progress of the selection, some
informative messages will be displayed while this function runs.</p>
</li>
</ul>
<h3>References</h3>

<p>H. Hwangbo, Y. Ding, and D. Cabezon, 'Machine Learning Based
Analysis and Quantification of Potential Power Gain from Passive Device
Installation,' arXiv:1906.05776 [stat.AP], Jun. 2019.
<a href="https://arxiv.org/abs/1906.05776">https://arxiv.org/abs/1906.05776</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">df.ref &lt;- with(wtg, data.frame(time = time, turb.id = 1, wind.dir = D,
 power = y, air.dens = rho))
df.ctrb &lt;- with(wtg, data.frame(time = time, turb.id = 2, wind.spd = V,
 power = y))
df.ctrn &lt;- df.ctrb
df.ctrn$turb.id &lt;- 3

data &lt;- arrange.data(df.ref, df.ctrb, df.ctrn, p1.beg = '2014-10-24',
 p1.end = '2014-10-25', p2.beg = '2014-10-25', p2.end = '2014-10-26',
 k.fold = 2)

p1.res &lt;- analyze.p1(data$train, data$test, ratedPW = 1000)
p1.res$opt.cov #This provides the optimal set of variables.

</code></pre>


</div>