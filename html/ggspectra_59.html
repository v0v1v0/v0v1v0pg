<div class="container">

<table style="width: 100%;"><tr>
<td>ggplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a new ggplot plot from spectral data.</h2>

<h3>Description</h3>

<p><code>ggplot()</code> initializes a ggplot object. It can be used to declare the
input spectral object for a graphic and to optionally specify the set of plot
aesthetics intended to be common throughout all subsequent layers unless
specifically overridden.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'source_spct'
ggplot(
  data,
  mapping = NULL,
  ...,
  range = NULL,
  unit.out = getOption("photobiology.radiation.unit", default = "energy"),
  environment = parent.frame()
)

## S3 method for class 'response_spct'
ggplot(
  data,
  mapping = NULL,
  ...,
  range = NULL,
  unit.out = getOption("photobiology.radiation.unit", default = "energy"),
  environment = parent.frame()
)

## S3 method for class 'filter_spct'
ggplot(
  data,
  mapping = NULL,
  ...,
  range = NULL,
  plot.qty = getOption("photobiology.filter.qty", default = "transmittance"),
  environment = parent.frame()
)

## S3 method for class 'reflector_spct'
ggplot(
  data,
  mapping = NULL,
  ...,
  range = NULL,
  plot.qty = NULL,
  environment = parent.frame()
)

## S3 method for class 'cps_spct'
ggplot(data, mapping = NULL, ..., range = NULL, environment = parent.frame())

## S3 method for class 'calibration_spct'
ggplot(data, mapping = NULL, ..., range = NULL, environment = parent.frame())

## S3 method for class 'raw_spct'
ggplot(data, mapping = NULL, ..., range = NULL, environment = parent.frame())

## S3 method for class 'object_spct'
ggplot(
  data,
  mapping = NULL,
  ...,
  range = NULL,
  plot.qty = getOption("photobiology.object.qty", default = "all"),
  environment = parent.frame()
)

## S3 method for class 'generic_spct'
ggplot(
  data,
  mapping = NULL,
  ...,
  range = NULL,
  spct_class,
  environment = parent.frame()
)

## S3 method for class 'generic_mspct'
ggplot(data, mapping = NULL, ..., range = NULL, environment = parent.frame())

## S3 method for class 'filter_mspct'
ggplot(
  data,
  mapping = NULL,
  ...,
  range = NULL,
  plot.qty = getOption("photobiology.filter.qty", default = "transmittance"),
  environment = parent.frame()
)

## S3 method for class 'source_mspct'
ggplot(
  data,
  mapping = NULL,
  ...,
  range = NULL,
  unit.out = getOption("photobiology.radiation.unit", default = "energy"),
  environment = parent.frame()
)

## S3 method for class 'object_mspct'
ggplot(
  data,
  mapping = NULL,
  ...,
  range = NULL,
  plot.qty = getOption("photobiology.object.qty", default = ifelse(length(data) &gt; 1L,
    "as.is", "all")),
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Default spectrum dataset to use for plot. If not a spectrum, the
methods used will be those defined in package <code>ggplot2</code>. See
<code>ggplot</code>. If not specified, must be supplied in each
layer added to the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapping</code></td>
<td>
<p>Default list of aesthetic mappings to use for plot. If not
specified, in the case of spectral objects, a default mapping will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed on to methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p>an R object on which range() returns a vector of length 2, with
min and max wavelengths (nm).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit.out</code></td>
<td>
<p>character string indicating type of units to use for
plotting spectral irradiance or spectral response, <code>"photon"</code> or
<code>"energy"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environment</code></td>
<td>
<p>If a variable defined in the aesthetic mapping is not
found in the data, ggplot will look for it in this environment. It defaults
to using the environment in which <code>ggplot()</code> is called.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.qty</code></td>
<td>
<p>character string One of <code>"transmittance"</code>,
<code>"absorptance"</code> or <code>"absorbance"</code> for <code>filter_spct</code> objects,
and in addition to these <code>"reflectance"</code>, <code>"all"</code> or
<code>"as.is"</code> for <code>object_spct</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spct_class</code></td>
<td>
<p>character Class into which a <code>generic_spct</code> object
will be converted before plotting. The column names in data should
match those expected by the class constructor (see
<code>setGenericSpct</code>); other arguments should be
passed by name).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>ggplot()</code> is typically used to construct a plot incrementally, using
the <code>+</code> operator to add layers to the existing ggplot object. This is
advantageous in that the code is explicit about which layers are added and
the order in which they are added. For complex graphics with multiple layers,
initialization with <code>ggplot</code> is recommended.
</p>
<p>We show seven common ways to invoke <code>ggplot</code> for spectra and
collections of spectra:
</p>

<ul>
<li> <p><code>ggplot(spct)</code>
</p>
</li>
<li> <p><code>ggplot(spct, unit.out = &lt;unit.to.use&gt;)</code>
</p>
</li>
<li> <p><code>ggplot(spct, plot.qty = &lt;quantity.to.plot&gt;)</code>
</p>
</li>
<li> <p><code>ggplot(spct, range = &lt;wavelength.range&gt;)</code>
</p>
</li>
<li> <p><code>ggplot(spct) + aes(&lt;other aesthetics&gt;)</code>
</p>
</li>
<li> <p><code>ggplot(spct, aes(x, y, &lt;other aesthetics&gt;))</code>
</p>
</li>
<li> <p><code>ggplot(spct, aes())</code>
</p>
</li>
</ul>
<p>The first method is recommended if all layers use the same data and the same
set of automatic default x and y aesthetics. The second, third and fourth use
automatic default x and y aesthetics but first transform or trim the spectral
data to be plotted. The fifth uses automatic default x and y aesthetics and
adds mappings for other aesthetics. These patterns can be combined as needed.
The sixth disables the use of a default automatic mapping, while the seventh
delays the mapping of aesthetics and can be convenient when using different
mappings for different geoms.
</p>


<h3>Object spectra</h3>

<p>In the case of class object_spct, the arguments
<code>"all"</code> and <code>"as.is"</code> if passed to <code>plot.qty</code>, indicate in
the first case that the data are to be converted into long form, to allow
stacking, while in the second case <code>data</code> is copied unchanged to the
plot object. <code>"reflectance"</code> passed to <code>plot.qty</code> converts
<code>data</code> into a <code>replector_spct</code> object and <code>"absorbance"</code>,
<code>"absorptance"</code> and <code>"reflectance"</code>, convert <code>data</code> into a
<code>filter_spct</code>.
</p>


<h3>Collections of spectra</h3>

<p>The method for collections of spectra
accepts arguments for the same parameters as the corresponding methods for
single spectra. Heterogeneous generic collections of spectra are not
supported. When plotting collections of spectra the factor <code>spct.idx</code>
contains as levels the names of the individual members of the collection,
and can be mapped to aesthetics or used for faceting.
</p>


<h3>Note</h3>

<p>Current implementation does not merge the default mapping with user
supplied mapping. If user supplies a mapping, it is used as is, and
variables should be present in the spectral object. In contrast, when using
the default mapping, unit or quantity conversions are done on the fly when
needed. To add to the default mapping, <code>aes()</code> can be used by itself
to compose the ggplot. In all cases, except when an <code>object_spct</code> is
converted into long form, the data member of the returned plot object
retains its class and attributes.
</p>
<p>plot.qty is ignored for reflectors.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
ggplot(sun.spct) + geom_line()
ggplot(sun.spct, unit.out = "photon") + geom_line()

ggplot(yellow_gel.spct) + geom_line()
ggplot(yellow_gel.spct, plot.qty = "absorbance") + geom_line()

ggplot(Ler_leaf.spct) + facet_grid(~variable) + geom_line()
ggplot(Ler_leaf.spct) + aes(linetype = variable) + geom_line()

</code></pre>


</div>