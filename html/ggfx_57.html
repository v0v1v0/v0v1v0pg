<div class="container">

<table style="width: 100%;"><tr>
<td>with_blend_custom</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a custom blend type</h2>

<h3>Description</h3>

<p>Many of the blend types available in <code>with_blend()</code> are variations over the
formula: <code>a*src*dst + b*src + c*dst + d</code>, where <code>src</code> stands for the channel
value in the source image and <code>dst</code> stands for the destination image (the
background). Multiply is e.g. defined as <code style="white-space: pre;">⁠a:1, b:0, c:0, d:0⁠</code>. This filter
gives you free reign over setting the coefficient of the blend calculation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">with_blend_custom(
  x,
  bg_layer,
  a = 0,
  b = 0,
  c = 0,
  d = 0,
  flip_order = FALSE,
  alpha = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A ggplot2 layer object, a ggplot, a grob, or a character string
naming a filter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg_layer</code></td>
<td>
<p>The background layer to use. Can either be a string
identifying a registered filter, or a raster object. The map will be resized
to match the dimensions of x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a, b, c, d</code></td>
<td>
<p>The coefficients defining the blend operation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flip_order</code></td>
<td>
<p>Should the order of the background and the overlay be
flipped so that <code>bg_layer</code> is treated as being on top and <code>x</code> being below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>For non-Duff-Porter blends the alpha channel may become modified.
This argument can be used to set the resulting alpha channel to that of the
source (<code>"src"</code>) or destination (<code>"dst"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed on to methods. See
the documentation of supported object for a description of
object specific arguments.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Depending on the input, either a <code>grob</code>, <code>Layer</code>, list of <code>Layer</code>s,
<code>guide</code>, or <code>element</code> object. Assume the output can be used in the same
context as the input.
</p>


<h3>See Also</h3>

<p>Other blend filters: 
<code>with_blend()</code>,
<code>with_interpolate()</code>,
<code>with_mask()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ggplot2)
ggplot(mpg, aes(class, hwy)) +
  as_reference(geom_boxplot(fill = 'green'), 'box') +
  with_blend_custom(geom_point(colour = 'red'),
                    bg_layer = 'box', a = -0.5, b = 1, c = 1)

</code></pre>


</div>