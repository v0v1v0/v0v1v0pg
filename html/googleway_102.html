<div class="container">

<table style="width: 100%;"><tr>
<td>update_polylines</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update polylines</h2>

<h3>Description</h3>

<p>Updates specific attributes of polylines. Designed to be
used in a shiny application.
</p>


<h3>Usage</h3>

<pre><code class="language-R">update_polylines(
  map,
  data,
  id,
  stroke_colour = NULL,
  stroke_weight = NULL,
  stroke_opacity = NULL,
  info_window = NULL,
  layer_id = NULL,
  palette = NULL,
  legend = F,
  legend_options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame containing the data to use in the layer. If Null, the
data passed into <code>google_map()</code> will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>string representing the column of <code>data</code> containing the id values
for the shapes. The id values must be present in the original data supplied to in order
for the shape to be udpated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stroke_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stroke_weight</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke weight of each shape, or a number indicating the width of pixels
in the line to be applied to all the shapes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stroke_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke opacity of each shape, or a value between 0 and 1 that will be
applied to all the shapes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info_window</code></td>
<td>
<p>string specifying the column of data to display in an info
window when a shape is clicked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>a function, or list of functions, that generates hex colours
given a single number as an input. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>either a logical indiciating if the legend(s) should be displayed, or
a named list indicating which colour attributes should be included in the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend_options</code></td>
<td>
<p>A list of options for controlling the legend.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Any polylines (as specified by the <code>id</code> argument) that do not exist
in the <code>data</code> passed into <code>add_polylines()</code> will not be added to the
map. This function will only update the polylines that currently exist on
the map when the function is called.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

map_key &lt;- 'your_api_key'

## coordinate columns
## plot polylines using default attributes
df &lt;- tram_route
df$id &lt;- c(rep(1, 27), rep(2, 28))

df$colour &lt;- c(rep("#00FFFF", 27), rep("#FF00FF", 28))

google_map(key = map_key) %&gt;%
  add_polylines(data = df, lat = 'shape_pt_lat', lon = 'shape_pt_lon',
                stroke_colour = "colour", id = 'id')

## specify width and colour attributes to update
df_update &lt;- data.frame(id = c(1,2),
                        width = c(3,10),
                        colour = c("#00FF00", "#DCAB00"))

google_map(key = map_key) %&gt;%
  add_polylines(data = df, lat = 'shape_pt_lat', lon = 'shape_pt_lon',
                stroke_colour = "colour", id = 'id') %&gt;%
  update_polylines(data = df_update, id = 'id', stroke_weight = "width",
                   stroke_colour = 'colour')


## encoded polylines
pl &lt;- sapply(unique(df$id), function(x){
  encode_pl(lat = df[ df$id == x , 'shape_pt_lat'], lon = df[ df$id == x, 'shape_pt_lon'])
})

df &lt;- data.frame(id = c(1, 2), polyline = pl)

df_update &lt;- data.frame(id = c(1,2),
                        width = c(3,10),
                        var = c("a","b"))

google_map(key = map_key) %&gt;%
  add_polylines(data = df, polyline = 'polyline')

google_map(key = map_key) %&gt;%
  add_polylines(data = df, polyline = 'polyline') %&gt;%
  update_polylines(data = df_update, id = 'id', stroke_weight = "width",
                   stroke_colour = 'var')


## End(Not run)

</code></pre>


</div>