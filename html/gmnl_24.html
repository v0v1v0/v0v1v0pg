<div class="container">

<table style="width: 100%;"><tr>
<td>cov.gmnl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Functions for Correlated Random Parameters</h2>

<h3>Description</h3>

<p>These are a set of functions that help to extract the variance-covariance matrix, the correlation matrix, and the standard error of the random parameters for models of class <code>gmnl</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cov.gmnl(x, Q = NULL)

cor.gmnl(x, Q = NULL)

se.cov.gmnl(x, sd = FALSE, Q = NULL, digits = max(3, getOption("digits") - 2))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>gmnl</code> where <code>ranp</code> is not <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>this argument is only valid if the "<code>mm</code>" (MM-MNL) model is estimated. It indicates the class for which the variance-covariance matrix is computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd</code></td>
<td>
<p>if <code>TRUE</code>, then the standard deviations of the random parameters along with their standard errors are computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>the number of digits.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The variance-covariance matrix is computed using the Cholesky decomposition <code class="reqn">LL'=\Sigma</code>.
</p>
<p><code>se.cov.gmnl</code> function is a wrapper for the <code>deltamethod</code> function of the <span class="pkg">msm</span> package.
</p>


<h3>Value</h3>

<p><code>cov.gmnl</code> returns a matrix with the variance of the random parameters if the model is fitted with random coefficients. If the model is fitted with <code>correlation = TRUE</code>, then the variance-covariance matrix is returned. 
</p>
<p>If <code>correlation = TRUE</code> in the fitted model, then  <code>se.cov.gmnl</code> returns a coefficient matrix for the elements of the variance-covariance matrix or the standard deviations if <code>sd = TRUE</code>.
</p>


<h3>Author(s)</h3>

<p>Mauricio Sarrias <a href="mailto:msarrias86@gmail.com">msarrias86@gmail.com</a>
</p>


<h3>References</h3>


<ul>
<li>
<p> Greene, W. H. (2012). Econometric Analysis, Seventh Edition. Pearson Hall.
</p>
</li>
<li>
<p> Train, K. (2009). Discrete Choice Methods with Simulation. Cambridge University Press.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>gmnl</code> for the estimation of different multinomial models with individual heterogeneity.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## Examples using Electricity data set from mlogit package
library(mlogit)
data("Electricity", package = "mlogit")
Electr &lt;- mlogit.data(Electricity, id.var = "id", choice = "choice",
                     varying = 3:26, shape = "wide", sep = "")
                     
## Estimate a MIXL model with correlated random parameters
Elec.cor &lt;- gmnl(choice ~ pf + cl + loc + wk + tod + seas| 0, data = Electr,
                 subset = 1:3000,
                 model = 'mixl',
                 R = 10,
                 panel = TRUE,
                 ranp = c(cl = "n", loc = "n", wk = "n", tod = "n", seas = "n"),
                 correlation = TRUE)
                 
## Use functions for correlated random parameters
cov.gmnl(Elec.cor)
se.cov.gmnl(Elec.cor)
se.cov.gmnl(Elec.cor, sd = TRUE)
cor.gmnl(Elec.cor)

## End(Not run)
</code></pre>


</div>