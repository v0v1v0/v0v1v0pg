<div class="container">

<table style="width: 100%;"><tr>
<td>gt_plt_bar_stack</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a percent stacked barchart in place of existing data.</h2>

<h3>Description</h3>

<p>The <code>gt_plt_bar_stack</code> function takes an existing <code>gt_tbl</code> object and
converts the existing values into a percent stacked barchart. The bar chart
will represent either 2 or 3 user-specified values per row, and requires
a list column ahead of time. The palette and labels need to be equal length.
The values must either add up to 100 ie as percentage points if using
<code>position = 'fill'</code>, or can be raw values with <code>position = 'stack'</code>. Note that
the labels can be controlled via the <code>fmt_fn</code> argument and the
<code style="white-space: pre;">⁠scales::label_???()⁠</code> family of function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gt_plt_bar_stack(
  gt_object,
  column = NULL,
  palette = c("#ff4343", "#bfbfbf", "#0a1c2b"),
  labels = c("Group 1", "Group 2", "Group 3"),
  position = "fill",
  width = 70,
  fmt_fn = scales::label_number(scale_cut = cut_short_scale(), trim = TRUE)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gt_object</code></td>
<td>
<p>An existing gt table object of class <code>gt_tbl</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column</code></td>
<td>
<p>The column wherein the percent stacked barchart should replace existing data. Note that the data <em>must</em> be represented as a list of numeric values ahead of time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>A color palette of length 2 or 3, represented either by hex colors (<code>"#ff4343"</code>) or named colors (<code>"red"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>A vector of strings of length 2 or 3, representing the labels for the bar chart, will be colored according to the palette as well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>position</code></td>
<td>
<p>An string indicator passed to <code>ggplot2</code> indicating if the bar should be a percent of total <code>"fill"</code> or stacked as the raw values <code>"stack"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>An integer representing the width of the bar chart in pixels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fmt_fn</code></td>
<td>
<p>A specific function from <code style="white-space: pre;">⁠scales::label_???⁠</code> family. Defaults to <code>scales::label_number()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<div class="sourceCode r"><pre>library(gt)
library(dplyr)

ex_df &lt;- dplyr::tibble(
  x = c("Example 1","Example 1",
        "Example 1","Example 2","Example 2","Example 2",
        "Example 3","Example 3","Example 3","Example 4","Example 4",
        "Example 4"),
  measure = c("Measure 1","Measure 2",
              "Measure 3","Measure 1","Measure 2","Measure 3",
              "Measure 1","Measure 2","Measure 3","Measure 1","Measure 2",
              "Measure 3"),
  data = c(30, 20, 50, 30, 30, 40, 30, 40, 30, 30, 50, 20)
)


tab_df &lt;- ex_df %&gt;%
  group_by(x) %&gt;%
  summarise(list_data = list(data))

tab_df

ex_tab &lt;- tab_df %&gt;%
  gt() %&gt;%
  gt_plt_bar_stack(column = list_data)
</pre></div>
<p><img src="../help/figures/plt-bar-stack.png" width="70%" alt="plt-bar-stack.png"></p>


<h3>See Also</h3>

<p>Other Plotting: 
<code>gt_plt_bar_pct()</code>,
<code>gt_plt_bar()</code>,
<code>gt_plt_dist()</code>,
<code>gt_plt_percentile()</code>,
<code>gt_plt_point()</code>,
<code>gt_plt_sparkline()</code>,
<code>gt_plt_winloss()</code>
</p>


</div>