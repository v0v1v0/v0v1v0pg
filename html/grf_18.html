<div class="container">

<table style="width: 100%;"><tr>
<td>get_leaf_node</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find the leaf node for a test sample.</h2>

<h3>Description</h3>

<p>Given a GRF tree object, compute the leaf node a test sample falls into. The nodes in a GRF tree
are numbered breadth first, and the returned numbers will be the leaf integer according
to this ordering. To get kernel weights based on leaf membership, see the function
<code>get_forest_weights</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_leaf_node(tree, newdata, node.id = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tree</code></td>
<td>
<p>A GRF tree object (retrieved by 'get_tree').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>Points at which leaf predictions should be made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>node.id</code></td>
<td>
<p>Boolean indicating whether to return the node.id for each query sample (default), or
if FALSE, a list of node numbers with the samples contained.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of integers indicating the leaf number for each sample in the given tree.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
p &lt;- 10
n &lt;- 100
X &lt;- matrix(2 * runif(n * p) - 1, n, p)
Y &lt;- (X[, 1] &gt; 0) + 2 * rnorm(n)
r.forest &lt;- regression_forest(X, Y, num.tree = 50)

n.test &lt;- 5
X.test &lt;- matrix(2 * runif(n.test * p) - 1, n.test, p)
tree &lt;- get_tree(r.forest, 1)
# Get a vector of node numbers for each sample.
get_leaf_node(tree, X.test)
# Get a list of samples per node.
get_leaf_node(tree, X.test, node.id = FALSE)


</code></pre>


</div>