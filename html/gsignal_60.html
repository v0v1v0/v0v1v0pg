<div class="container">

<table style="width: 100%;"><tr>
<td>conv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convolution and polynomial multiplication</h2>

<h3>Description</h3>

<p>Convolve two vectors <code>a</code> and <code>b</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">conv(a, b, shape = c("full", "same", "valid"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a, b</code></td>
<td>
<p>Input, coerced to vectors, can be different lengths or data types.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>Subsection of convolution, partially matched to <code>"full"</code>
(full convolution - default), <code>"same"</code> (central part of the
convolution of the same size as <code>a</code>), or <code>"valid"</code> (only those
parts of the convolution that are computed without the zero-padded edges)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The convolution of two vectors, <code>a</code> and <code>b</code>, represents the area of
overlap under the points as <code>B</code> slides across <code>a</code>. Algebraically,
convolution is the same operation as multiplying polynomials whose
coefficients are the elements of <code>a</code> and <code>b</code>.
</p>
<p>The function <code>conv</code> uses the <code>filter</code> function, NOT
<code>fft</code>, which may be faster for large vectors.
</p>


<h3>Value</h3>

<p>Output vector with length equal to <code>length (a) + length (b) -
  1</code>. When the parameter <code>shape</code> is set to <code>"valid"</code>, the length of
the output is <code>max(length(a) - length(b) + 1, 0)</code>, except when
length(b) is zero. In that case, the length of the output vector equals
<code>length(a)</code>.
</p>
<p>When <code>a</code> and <code>b</code> are the coefficient vectors of two polynomials,
the convolution represents the coefficient vector of the product
polynomial.
</p>


<h3>Author(s)</h3>

<p>Tony Richardson, <a href="mailto:arichard@stark.cc.oh.us">arichard@stark.cc.oh.us</a>, adapted by John W.
Eaton.<br> Conversion to R by Geert van Boxtel,
<a href="mailto:G.J.M.vanBoxtel@gmail.com">G.J.M.vanBoxtel@gmail.com</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">u &lt;- rep(1L, 3)
v &lt;- c(1, 1, 0, 0, 0, 1, 1)
w &lt;- conv(u, v)

## Create vectors u and v containing the coefficients of the polynomials
## x^2 + 1 and 2x + 7.
u &lt;- c(1, 0, 1)
v &lt;- c(2, 7)
## Use convolution to multiply the polynomials.
w &lt;- conv(u, v)
## w contains the polynomial coefficients for 2x^3 + 7x^2 + 2x + 7.

## Central part of convolution
u &lt;- c(-1, 2, 3, -2, 0, 1, 2)
v &lt;- c(2, 4, -1, 1)
w &lt;- conv(u, v, 'same')

</code></pre>


</div>