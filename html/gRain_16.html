<div class="container">

<table style="width: 100%;"><tr>
<td>cpt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create conditional probability tables (CPTs)</h2>

<h3>Description</h3>

<p>Creates conditional probability tables of the form
p(v|pa(v)).
</p>


<h3>Usage</h3>

<pre><code class="language-R">cpt(names, levels, values, normalize = "first", smooth = 0)

cptable(vpar, levels = NULL, values = NULL, normalize = TRUE, smooth = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>Specifications of the names in P(v|pa1,...pak). See
section 'details' for information about the form of the
argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>

<ol><li>
<p> a list with specification of the levels of the
factors in <code>names</code> or 2) a vector with number of levels of
the factors in <code>names</code>. See 'examples' below.
</p>
</li></ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>Probabilities; recycled if necessary. Regarding the
order, please see section 'details' and the examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p>See 'details' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>Should values be smoothed, see 'Details' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vpar</code></td>
<td>
<p>node an its parents</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>cptable</code> is simply a wrapper for <code>cpt</code> and the functions can hence
be used synonymously.
</p>
<p>If <code>smooth</code> is non–zero, then this value is added to all cells <strong>before</strong>
normalization takes place.
</p>
<p>Regarding the form of the argument <code>names</code>: To specify
<code class="reqn">P(a|b,c)</code> one may write <code>~a|b:c</code>, <code>~a:b:c</code>,
<code>~a|b+c</code>, <code>~a+b+c</code> or <code>c("a","b","c")</code>. Internally,
the last form is used. Notice that the <code>+</code> and <code>:</code>
operator are used as a separators only. The order of the variables IS
important so the operators DO NOT commute.
</p>
<p>The first variable in <code>levels</code> varies fastest.
</p>


<h3>Value</h3>

<p>An array.
</p>


<h3>Author(s)</h3>

<p>Søren Højsgaard, <a href="mailto:sorenh@math.aau.dk">sorenh@math.aau.dk</a>
</p>


<h3>References</h3>

<p>Søren Højsgaard (2012). Graphical Independence
Networks with the gRain Package for R. Journal of Statistical
Software, 46(10), 1-26.
<a href="https://www.jstatsoft.org/v46/i10/">https://www.jstatsoft.org/v46/i10/</a>.
</p>


<h3>See Also</h3>

<p><code>andtable</code>, <code>ortable</code>,
<code>extract_cpt</code>, <code>compileCPT</code>,
<code>extract_cpt</code>, <code>compilePOT</code>,
<code>grain</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## See the wet grass example at
## https://en.wikipedia.org/wiki/Bayesian_network

yn &lt;- c("yes", "no")
ssp &lt;- list(R=yn, S=yn, G=yn) # state space

## Different forms
t1 &lt;- cpt(c("S", "R"), levels=ssp,     values=c(.01, .99, .4, .6))
t2 &lt;- cpt(~S:R,        levels=ssp,     values=c(.01, .99, .4, .6))
t3 &lt;- cpt(~S:R,        levels=c(2, 2), values=c(.01, .99, .4, .6))
t4 &lt;- cpt(~S:R,        levels=yn,      values=c(.01, .99, .4, .6))
t1; t2; t3; t4

varNames(t1)
valueLabels(t1)

## Wet grass example
ssp &lt;- list(R=yn, S=yn, G=yn) # state space
p.R    &lt;- cpt(~R,     levels=ssp, values=c(.2, .8))
p.S_R  &lt;- cpt(~S:R,   levels=ssp, values=c(.01, .99, .4, .6))
p.G_SR &lt;- cpt(~G:S:R, levels=ssp, values=c(.99, .01, .8, .2, .9, .1, 0, 1))

wet.cpt &lt;- compileCPT(p.R, p.S_R, p.G_SR)
wet.cpt
wet.cpt$S # etc

# A Bayesian network is created with:
wet.bn &lt;- grain(wet.cpt)

</code></pre>


</div>