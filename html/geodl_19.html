<div class="container">

<table style="width: 100%;"><tr>
<td>makeTerrainDerivatives</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>makeTerrainDerivatives</h2>

<h3>Description</h3>

<p>Make three band terrain stack from input digital terrain model
</p>


<h3>Usage</h3>

<pre><code class="language-R">makeTerrainDerivatives(dtm, res, filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dtm</code></td>
<td>
<p>Input SpatRaster object representing bare earth surface elevations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>Resolution of the grid relative to coordinate reference system
units (e.g., meters).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>Name and full path or path relative to working directory for
output terrain stack. We recommend saving the data to either TIFF (".tif") or
Image (".img") format.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function creates a three-band raster stack from an input digital terrain
model (DTM) of bare earth surface elevations. The first band is a topographic
position index (TPI) calculated using a moving window with a 50 m circular radius.
The second band is the square root of slope calculated in degrees. The third band
is a TPI calculated using an annulus moving window with an inner radius of 2
and outer radius of 5 meters. The TPI values are clamped to a range of -10 to 10
then linearly rescaled from 0 and 1. The square root of slope is clamped to a
range of 0 to 10 then linearly rescaled from 0 to 1. Values are provided in
floating point.
</p>
<p>The stack is described in the following publication and was originally proposed by
William Odom of the United States Geological Survey (USGS):
</p>
<p>Maxwell, A.E., W.E. Odom, C.M. Shobe, D.H. Doctor, M.S. Bester, and T. Ore,
2023. Exploring the influence of input feature space on CNN-based geomorphic
feature extraction from digital terrain data, Earth and Space Science,
10: e2023EA002845. https://doi.org/10.1029/2023EA002845.
</p>


<h3>Value</h3>

<p>Three-band raster grid written to disk in TIFF format and spatRaster object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
inDTM &lt;- terra::rast("INPUT DTM NAME AND PATH")
terrOut &lt;- makeTerrainDerivatives(dtm=inDTM,
                                 res=2,
                                 filename="OUT TERRAIN STACK NAME AND PATH")

## End(Not run)
</code></pre>


</div>