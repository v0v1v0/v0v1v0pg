<div class="container">

<table style="width: 100%;"><tr>
<td>addhlines</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Add horizontal lines to plot.
</h2>

<h3>Description</h3>

<p>This is designed for adding horizontal lines that show predicted
values to a plot of observed values versus x-values,
in <code>rpart</code> regression. Where predicted values change
between two successive x-values lines are extended to the midway
point. This reflects the way that <code>predict.rpart</code>
handles predictions for new data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">addhlines(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Vector of predictor variable values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>Vector of predicted values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Additional graphics parameters, for passing through to the
<code>lines()</code>
function.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Lines are added to the current graph.
</p>


<h3>Author(s)</h3>

<p>John Maindonald
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- c(34, 18, 45, 18, 27, 24, 34, 20, 24, 28, 21, 18)
y &lt;- c(14, 11, 12, 9, 4, 11, 6, 9, 4, 10, 9, 2)
hat &lt;- c(10.5, 7.75, 10.5, 7.75, 7, 7, 10.5, 7.75, 7, 10.5, 7, 7.75)
plot(x, y)
addhlines(x, hat, lwd=2, col="gray")

## The function is currently defined as
function(x,y, ...){
  ordx &lt;- order(x)
  xo &lt;- x[ordx]
  yo &lt;- y[ordx]
  breaks &lt;- diff(yo)!=0
  xh &lt;- c(xo[1],0.5*(xo[c(FALSE,breaks)]+xo[c(breaks, FALSE)]))
  yh &lt;- yo[c(TRUE, breaks)]
  y3 &lt;- x3 &lt;- numeric(3*length(xh)-1)
  loc1 &lt;- seq(from=1, to=length(x3), by=3)
  x3[loc1] &lt;- xh
  x3[loc1+1]&lt;- c(xh[-1], max(x))
  x3[loc1[-length(loc1)]+2] &lt;- NA
  y3[loc1[-length(loc1)]+2] &lt;- NA
  y3[loc1] &lt;- yh
  y3[loc1+1] &lt;- yh
  lines(x3,y3, ...)
}
</code></pre>


</div>