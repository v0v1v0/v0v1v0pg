<div class="container">

<table style="width: 100%;"><tr>
<td>compress</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compact Storage of Symmetric and Triangular Matrices</h2>

<h3>Description</h3>

<p>The utility function <code>compress</code> stores symmetric or triangular
matrices compactly by retaining only the diagonal and either the
lower or upper off-diagonal elements.  The function <code>expand</code>
restores such compressed matrices again to a square form.  </p>


<h3>Usage</h3>

<pre><code class="language-R">  compress(m)

  expand(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>either a single symmetric, lower or upper triangular
matrix or a list of such matrices.  The type of <code>m</code> (or of its
component matrices) must be defined by the attribute <code>struc</code> with
possible values <code>"sym"</code> (symmetric), <code>"lt"</code> (lower triangular)
or <code>"ut"</code> (upper triangular).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a single compressed matrix or a list of such matrices
generated by <code>compress</code>, see <em>Value</em>.  The type of
<code>object</code> (or of its components) must be defined by the
attribute <code>struc</code> with possible values <code>"sym"</code> (symmetric),
<code>"lt"</code> (lower triangular) or <code>"ut"</code> (upper triangular).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>m</code> is a single square matrix then <code>compress</code> generates a
compressed matrix, which is a list with two components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>diag</code></td>
<td>
<p>a vector with the diagonal elements of <code>m</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tri</code></td>
<td>
<p>a vector with off-diagonal elements.</p>
</td>
</tr>
</table>
<p>If <code>m</code> is a list of square matrices then the result is also a list
of compressed matrices.
</p>
<p><code>expand</code> creates a square matrix if <code>object</code> is a list with
components <code>diag</code> and <code>tri</code> and a list of square matrices if
<code>object</code> is a list of such lists.  If <code>m</code> or <code>objects</code> are
lists that contain other components than square or compressed matrices
then these additional components are returned unchanged.
</p>


<h3>Author(s)</h3>

<p>Andreas Papritz <a href="mailto:papritz@retired.ethz.ch">papritz@retired.ethz.ch</a>.
</p>


<h3>See Also</h3>

<p><code>georob</code> for (robust) fitting of spatial linear models.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(meuse)

r.logzn.rob &lt;- georob(log(zinc) ~ sqrt(dist) + ffreq, data = meuse,
    locations = ~ x + y, variogram.model = "RMexp",
    param = c(variance = 0.15, nugget = 0.05, scale = 200),
    tuning.psi = 1)

cov2cor(expand(r.logzn.rob[["cov"]][["cov.betahat"]]))
</code></pre>


</div>