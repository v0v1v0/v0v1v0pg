<div class="container">

<table style="width: 100%;"><tr>
<td>simGDINA</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data simulation based on the G-DINA models</h2>

<h3>Description</h3>

<p>Simulate responses based on the G-DINA model (de la Torre, 2011) and sequential G-DINA model
(Ma &amp; de la Torre, 2016), or CDMs subsumed by them, including the DINA model, DINO model, ACDM,
LLM and R-RUM. Attributes can be simulated from uniform, higher-order or multivariate normal
distributions, or be supplied by users. See <code>Examples</code> and <code>Details</code> for
how item parameter specifications. See the help page of <code>GDINA</code>
for model parameterizations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simGDINA(
  N,
  Q,
  gs.parm = NULL,
  delta.parm = NULL,
  catprob.parm = NULL,
  model = "GDINA",
  sequential = FALSE,
  no.bugs = 0,
  gs.args = list(type = "random", mono.constraint = TRUE),
  design.matrix = NULL,
  linkfunc = NULL,
  att.str = NULL,
  attribute = NULL,
  att.dist = "uniform",
  item.names = NULL,
  higher.order.parm = list(theta = NULL, lambda = NULL),
  mvnorm.parm = list(mean = NULL, sigma = NULL, cutoffs = NULL),
  att.prior = NULL,
  digits = 4
)

## S3 method for class 'simGDINA'
extract(
  object,
  what = c("dat", "Q", "attribute", "catprob.parm", "delta.parm", "higher.order.parm",
    "mvnorm.parm", "LCprob.parm"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>Sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>A required matrix; The number of rows occupied by a single-strategy dichotomous item is 1, by a polytomous item is
the number of nonzero categories, and by a mutiple-strategy dichotomous item is the number of strategies.
The number of column is equal to the number of attributes if all items are single-strategy dichotomous items, but
the number of attributes + 2 if any items are polytomous or have multiple strategies.
For a polytomous item, the first column represents the item number and the second column indicates the nonzero category number.
For a multiple-strategy dichotomous item, the first column represents the item number and the second column indicates the strategy number.
For binary attributes, 1 denotes the attributes are measured by the items and 0 means the attributes are not
measured. For polytomous attributes, non-zero elements indicate which level
of attributes are needed.  See <code>Examples</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gs.parm</code></td>
<td>
<p>A matrix or data frame for guessing and slip parameters. The number of rows occupied by a dichotomous item is 1, and by a polytomous item is
the number of nonzero categories. The number of columns must be 2, where the first column represents the guessing parameters (or <code class="reqn">P(0)</code>),
and the second column represents slip parameters (or <code class="reqn">1-P(1)</code>). This may need to be used in conjunction with
the argument <code>gs.args</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta.parm</code></td>
<td>
<p>A list of delta parameters of each latent group for each item or category. This may need to be used in conjunction with
the argument <code>delta.args</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>catprob.parm</code></td>
<td>
<p>A list of success probabilities of each latent group for each non-zero category of each item. See <code>Examples</code> and
<code>Details</code> for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A character vector for each item or nonzero category, or a scalar which will be used for all
items or nonzero categories to specify the CDMs. The possible options
include <code>"GDINA"</code>,<code>"DINA"</code>,<code>"DINO"</code>,<code>"ACDM"</code>,<code>"LLM"</code>, <code>"RRUM"</code>, <code>"MSDINA"</code> and <code>"UDF"</code>.
When <code>"UDF"</code>, indicating user defined function, is specified for any item, <code>delta.parm</code> must be specified, as well as
options <code>design.matrix</code> and <code>linkfunc</code> in argument <code>delta.args</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sequential</code></td>
<td>
<p>logical; <code>TRUE</code> if the sequential model is used for polytomous responses simulation, and <code>FALSE</code>
if there is no polytomously scored items.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no.bugs</code></td>
<td>
<p>the number of bugs (or misconceptions) for the <code>SISM</code> model. Note that bugs must be given in the last no.bugs columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gs.args</code></td>
<td>
<p>a list of options when <code>gs.parm</code> is specified. It consists of two components:
</p>

<ul>
<li> <p><code>type</code> How are the delta parameters for ACDM, LLM, RRUM generated?
It can be either <code>"random"</code> or <code>"equal"</code>. <code>"random"</code> means the delta parameters are simulated randomly,
while <code>"equal"</code> means that each required attribute contributes equally to the probability of success (P), logit(P) or
log(P) for ACDM, LLM and RRUM, respectively. See <code>Details</code> for more information.
</p>
</li>
<li> <p><code>mono.constraint</code> A vector for each item/category or a scalar which will be used for all
items/categories to specify whether monotonicity constraints should be satisfied if the generating model is the G-DINA model. Note that
this is applicable only for the G-DINA model when <code>gs.parm</code> is used. For ACDM, LLM and RRUM, monotonicity constraints
are always satisfied and therefore this argument is ignored.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design.matrix</code></td>
<td>
<p>a list of design matrices; Its length must be equal to the number of items (or nonzero categories for sequential models).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linkfunc</code></td>
<td>
<p>a vector of link functions for each item/category; It can be <code>"identity"</code>,<code>"log"</code> or <code>"logit"</code>. Only applicable when
when <code>delta.parm</code> or <code>catprob.parm</code> are provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>att.str</code></td>
<td>
<p>attribute structure. <code>NULL</code>, by default, means there is no structure. Attribute structure needs be specified as a list -
which will be internally handled by <code>att.structure</code> function. It can also be a matrix giving all permissible attribute profiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attribute</code></td>
<td>
<p>optional user-specified person attributes. It is a <code class="reqn">N\times K</code> matrix or data frame. If this is not supplied, attributes are simulated
from a distribution specified in <code>att.dist</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>att.dist</code></td>
<td>
<p>A string indicating the distribution for attribute simulation. It can be <code>"uniform"</code>, <code>"higher.order"</code>,
<code>"mvnorm"</code> or <code>"categorical"</code> for uniform, higher-order, multivariate normal and categorical distributions, respectively.
The default is the uniform distribution. To specify structural parameters for the higher-order
and multivariate normal distributions, see <code>higher.order.parm</code> and <code>mvnorm.parm</code>, respectively. To specify the probabilities
for the categorical distribution, use <code>att.prior</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>item.names</code></td>
<td>
<p>A vector giving the name of items or categories. If it is <code>NULL</code> (default), items are named as "Item 1", "Item 2", etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>higher.order.parm</code></td>
<td>
<p>A list specifying parameters for higher-order distribution for attributes
if <code>att.dist=higher.order</code>. Particularly, <code>theta</code> is a
vector of length <code class="reqn">N</code> representing the higher-order ability
for each examinee. and <code>lambda</code> is a <code class="reqn">K \times 2</code> matrix. Column 1 gives the slopes for the higher-order
model and column 2 gives the intercepts. See <code>GDINA</code> for the formulations of the higher-order
models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mvnorm.parm</code></td>
<td>
<p>a list of parameters for multivariate normal attribute distribution. <code>mean</code> is a vector of length <code class="reqn">K</code>
specifying the mean of multivariate normal distribution; and <code>sigma</code> is a positive-definite
symmetric matrix specifying the variance-covariance matrix. <code>cutoffs</code> is a vector giving the
cutoff for each attribute. See <code>Examples</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>att.prior</code></td>
<td>
<p>probability for each attribute pattern. Order is the same as that returned from <code>attributepattern(Q = Q)</code>. This is only
applicable when <code>att.dist="categorical"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>How many decimal places in each number? The default is 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>object of class <code>simGDINA</code> for method <code>extract</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>argument for S3 method <code>extract</code> indicating what to extract</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Item parameter specifications in <code>simGDINA</code>:
</p>
<p>Item parameters can be specified in one of three different ways.
</p>
<p>The first and probably the easiest way is to specify the guessing and slip parameters for each item or nonzero category using
<code>gs.parm</code>, which is a matrix or data frame for <code class="reqn">P(\bm{\alpha}_{lj}^*=0)</code> and <code class="reqn">1-P(\bm{\alpha}_{lj}^*=1)</code>
for all items for dichotomous items and <code class="reqn">S(\bm{\alpha}_{ljh}^*=0)</code> and <code class="reqn">1-S(\bm{\alpha}_{ljh}^*=1)</code>
for all nonzero categories for polytomous items. Note that <code class="reqn">1-P(\bm{\alpha}_{lj}^*=0)-P(\bm{\alpha}_{lj}^*=1)</code> or
<code class="reqn">1-S(\bm{\alpha}_{lj}^*=0)-S(\bm{\alpha}_{lj}^*=1)</code> must be greater than 0.
For generating ACDM, LLM, and RRUM, delta parameters are generated randomly if <code>type="random"</code>,
or in a way that each required attribute contributes equally, as in
Ma, Iaconangelo, &amp; de la Torre (2016) if <code>type="equal"</code>. For ACDM, LLM and RRUM, generated
delta parameters are always positive, which implies that monotonicity constraints are always satisfied.
If the generating model is the G-DINA model, <code>mono.constraint</code> can be used to specify whether monotonicity
constraints should be satisfied.
</p>
<p>The second way of simulating responses is to specify success probabilities (i.e., <code class="reqn">P(\bm{\alpha}_{lj}^*)</code>
or <code class="reqn">S(\bm{\alpha}_{ljh}^*)</code>) for each nonzero category of each item directly
using the argument <code>catprob.parm</code>. If an item or category requires <code class="reqn">K_j^*</code> attributes, <code class="reqn">2^{K_j^*}</code> success probabilities
need to be provided. <code>catprob.parm</code> must be a list, where each element gives the success probabilities for nonzero category of each item.
Note that success probabilities cannot be negative or greater than one.
</p>
<p>The third way is to specify delta parameters for data simulation. For DINA and DINO model, each nonzero category requires two
delta parameters. For ACDM, LLM and RRUM, if a nonzero category requires <code class="reqn">K_j^*</code> attributes, <code class="reqn">K_j^*+1</code> delta parameters
need to be specified. For the G-DINA model, a nonzero category requiring <code class="reqn">K_j^*</code> attributes has <code class="reqn">2^{K_j^*}</code> delta parameters.
It should be noted that specifying delta parameters needs to ascertain the derived success probabilities are within the <code class="reqn">[0,1]</code> interval.
</p>
<p>Please note that you need to specify item parameters in ONLY one of these three ways. If <code>gs.parm</code> is specified, it will be used regardless of
the inputs in <code>catprob.parm</code> and <code>delta.parm</code>. If <code>gs.parm</code> is not specified, <code>simGDINA</code> will check
if <code>delta.parm</code> is specified; if yes, it will be used for data generation. if both <code>gs.parm</code> and <code>delta.parm</code> are not specified,
<code>catprob.parm</code> is used for data generation.
</p>


<h3>Value</h3>

<p>an object of class <code>simGDINA</code>. Elements that can be extracted using method <code>extract</code>
include:
</p>

<dl>
<dt>dat</dt>
<dd>
<p>simulated item response matrix</p>
</dd>
<dt>Q</dt>
<dd>
<p>Q-matrix</p>
</dd>
<dt>attribute</dt>
<dd>
<p>A <code class="reqn">N \times K</code> matrix for inviduals' attribute patterns</p>
</dd>
<dt>catprob.parm</dt>
<dd>
<p>a list of non-zero category success probabilities for each latent group</p>
</dd>
<dt>delta.parm</dt>
<dd>
<p>a list of delta parameters</p>
</dd>
<dt>higher.order.parm</dt>
<dd>
<p>Higher-order parameters</p>
</dd>
<dt>mvnorm.parm</dt>
<dd>
<p>multivariate normal distribution parameters</p>
</dd>
<dt>LCprob.parm</dt>
<dd>
<p>A matrix of item/category success probabilities for each latent class</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Wenchao Ma, The University of Alabama, <a href="mailto:wenchao.ma@ua.edu">wenchao.ma@ua.edu</a> <br> Jimmy de la Torre, The University of Hong Kong
</p>


<h3>References</h3>

<p>Chiu, C.-Y., Douglas, J. A., &amp; Li, X. (2009). Cluster analysis for cognitive diagnosis: Theory and applications. <em>Psychometrika, 74</em>, 633-665.
</p>
<p>de la Torre, J. (2011). The generalized DINA model framework. <em>Psychometrika, 76</em>, 179-199.
</p>
<p>de la Torre, J., &amp; Douglas, J. A. (2004). Higher-order latent trait models for cognitive diagnosis. <em>Psychometrika, 69</em>, 333-353.
</p>
<p>Haertel, E. H. (1989). Using restricted latent class models to map the skill structure of achievement items.
<em>Journal of Educational Measurement, 26</em>, 301-321.
</p>
<p>Hartz, S. M. (2002). A bayesian framework for the unified model for assessing cognitive abilities:
Blending theory with practicality (Unpublished doctoral dissertation). University of Illinois at Urbana-Champaign.
</p>
<p>Junker, B. W., &amp; Sijtsma, K. (2001). Cognitive assessment models with few assumptions, and connections with nonparametric
item response theory. <em>Applied Psychological Measurement, 25</em>, 258-272.
</p>
<p>Ma, W., &amp; de la Torre, J. (2016). A sequential cognitive diagnosis model for polytomous responses. <em>British Journal of Mathematical and Statistical Psychology. 69,</em> 253-275.
</p>
<p>Ma, W., &amp; de la Torre, J. (2020). GDINA: An R Package for Cognitive Diagnosis Modeling. <em>Journal of Statistical Software, 93(14)</em>, 1-26.
</p>
<p>Ma, W., Iaconangelo, C., &amp; de la Torre, J. (2016). Model similarity, model selection and attribute classification. <em>Applied Psychological Measurement, 40</em>, 200-217.
</p>
<p>Maris, E. (1999). Estimating multiple classification latent class models. <em>Psychometrika, 64</em>, 187-212.
</p>
<p>Templin, J. L., &amp; Henson, R. A. (2006). Measurement of psychological disorders using cognitive diagnosis models.
<em>Psychological Methods, 11</em>, 287-305.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
####################################################
#                     Example 1                    #
#             Data simulation (DINA)               #
####################################################
N &lt;- 500
Q &lt;- sim30GDINA$simQ
J &lt;- nrow(Q)
gs &lt;- data.frame(guess=rep(0.1,J),slip=rep(0.1,J))

# Simulated DINA model; to simulate G-DINA model
# and other CDMs, change model argument accordingly

sim &lt;- simGDINA(N,Q,gs.parm = gs,model = "DINA")

# True item success probabilities
extract(sim,what = "catprob.parm")

# True delta parameters
extract(sim,what = "delta.parm")

# simulated data
extract(sim,what = "dat")

# simulated attributes
extract(sim,what = "attribute")

####################################################
#                     Example 2                    #
#             Data simulation (RRUM)               #
####################################################
N &lt;- 500
Q &lt;- sim30GDINA$simQ
J &lt;- nrow(Q)
gs &lt;- data.frame(guess=rep(0.2,J),slip=rep(0.2,J))
# Simulated RRUM
# deltas except delta0 for each item will be simulated
# randomly subject to the constraints of RRUM
sim &lt;- simGDINA(N,Q,gs.parm = gs,model = "RRUM")

# simulated data
extract(sim,what = "dat")

# simulated attributes
extract(sim,what = "attribute")

####################################################
#                     Example 3                    #
#             Data simulation (LLM)                #
####################################################
N &lt;- 500
Q &lt;- sim30GDINA$simQ
J &lt;- nrow(Q)
gs &lt;- data.frame(guess=rep(0.1,J),slip=rep(0.1,J))
# Simulated LLM
# By specifying type="equal", each required attribute is
# assumed to contribute to logit(P) equally
sim &lt;- simGDINA(N,Q,gs.parm = gs,model = "LLM",gs.args = list (type="equal"))
#check below for what the equal contribution means
extract(sim,what = "delta.parm")

# simulated data
extract(sim,what = "dat")

# simulated attributes
extract(sim,what = "attribute")

####################################################
#                   Example 4                      #
#          Data simulation (all CDMs)              #
####################################################

set.seed(12345)

N &lt;- 500
Q &lt;- sim10GDINA$simQ
J &lt;- nrow(Q)
gs &lt;- data.frame(guess=rep(0.1,J),slip=rep(0.1,J))
# Simulated different CDMs for different items
models &lt;- c("GDINA","DINO","DINA","ACDM","LLM","RRUM","GDINA","LLM","RRUM","DINA")
sim &lt;- simGDINA(N,Q,gs.parm = gs,model = models,gs.args = list(type="random"))

# simulated data
extract(sim,what = "dat")

# simulated attributes
extract(sim,what = "attribute")

####################################################
#                   Example 5a                     #
#          Data simulation (all CDMs)              #
#  using probability of success in list format     #
####################################################

# success probabilities for each item need to be provided in list format as follows:
# if item j requires Kj attributes, 2^Kj success probabilities
# need to be specified
# e.g., item 1 only requires 1 attribute
# therefore P(0) and P(1) should be specified;
# similarly, item 10 requires 3 attributes,
# P(000),P(100),P(010)...,P(111) should be specified;
# the latent class represented by each element can be obtained
# by calling attributepattern(Kj)
itemparm.list &lt;- list(item1=c(0.2,0.9),
                    item2=c(0.1,0.8),
                    item3=c(0.1,0.9),
                    item4=c(0.1,0.3,0.5,0.9),
                    item5=c(0.1,0.1,0.1,0.8),
                    item6=c(0.2,0.9,0.9,0.9),
                    item7=c(0.1,0.45,0.45,0.8),
                    item8=c(0.1,0.28,0.28,0.8),
                    item9=c(0.1,0.4,0.4,0.8),
                    item10=c(0.1,0.2,0.3,0.4,0.4,0.5,0.7,0.9))
set.seed(12345)
N &lt;- 500
Q &lt;- sim10GDINA$simQ
# When simulating data using catprob.parm argument,
# it is not necessary to specify model and type
sim &lt;- simGDINA(N,Q,catprob.parm = itemparm.list)

####################################################
#                   Example 5b                     #
#          Data simulation (all CDMs)              #
#  using probability of success in list format     #
#  attribute has a linear structure                #
####################################################

est &lt;- GDINA(sim10GDINA$simdat,sim10GDINA$simQ,att.str = list(c(1,2),c(2,3)))
# design matrix
# link function
# item probabilities
ip &lt;- extract(est,"itemprob.parm")
sim &lt;- simGDINA(N=500,sim10GDINA$simQ,catprob.parm = ip,
design.matrix = dm,linkfunc = lf,att.str = list(c(1,2),c(2,3)))


####################################################
#                   Example 6a                     #
#            Data simulation (all CDMs)            #
#      using delta parameters in list format       #
####################################################

delta.list &lt;- list(c(0.2,0.7),
                    c(0.1,0.7),
                    c(0.1,0.8),
                    c(0.1,0.7),
                    c(0.1,0.8),
                    c(0.2,0.3,0.2,0.1),
                    c(0.1,0.35,0.35),
                    c(-1.386294,0.9808293,1.791759),
                    c(-1.609438,0.6931472,0.6),
                    c(0.1,0.1,0.2,0.3,0.0,0.0,0.1,0.1))

model &lt;- c("GDINA","GDINA","GDINA","DINA","DINO","GDINA","ACDM","LLM","RRUM","GDINA")
N &lt;- 500
Q &lt;- sim10GDINA$simQ
sim &lt;- simGDINA(N,Q,delta.parm = delta.list, model = model)
####################################################
#                   Example 6b                     #
#          Data simulation (all CDMs)              #
#  using delta parameters in list format           #
#  attribute has a linear structure                #
####################################################

est &lt;- GDINA(sim10GDINA$simdat,sim10GDINA$simQ,att.str = list(c(1,2),c(2,3)))
# design matrix
# link function
# item probabilities
ip &lt;- extract(est,"delta.parm")
sim &lt;- simGDINA(N=500,sim10GDINA$simQ,delta.parm =  d,
design.matrix = dm,linkfunc = lf,att.str = list(c(1,2),c(2,3)))

####################################################
#                   Example 7                      #
#      Data simulation (higher order DINA model)   #
####################################################

Q &lt;- sim30GDINA$simQ
gs &lt;- matrix(0.1,nrow(Q),2)
N &lt;- 500
set.seed(12345)
theta &lt;- rnorm(N)
K &lt;- ncol(Q)
lambda &lt;- data.frame(a=rep(1,K),b=seq(-2,2,length.out=K))
sim &lt;- simGDINA(N,Q,gs.parm = gs, model="DINA", att.dist = "higher.order",
                 higher.order.parm = list(theta = theta,lambda = lambda))

####################################################
#                   Example 8                      #
#      Data simulation (higher-order CDMs)         #
####################################################

Q &lt;- sim30GDINA$simQ
gs &lt;- matrix(0.1,nrow(Q),2)
models &lt;- c(rep("GDINA",5),
            rep("DINO",5),
            rep("DINA",5),
            rep("ACDM",5),
            rep("LLM",5),
            rep("RRUM",5))
N &lt;- 500
set.seed(12345)
theta &lt;- rnorm(N)
K &lt;- ncol(Q)
lambda &lt;- data.frame(a=runif(K,0.7,1.3),b=seq(-2,2,length.out=K))
sim &lt;- simGDINA(N,Q,gs.parm = gs, model=models, att.dist = "higher.order",
                 higher.order.parm = list(theta = theta,lambda = lambda))


####################################################
#                   Example 9                      #
#      Data simulation (higher-order model)        #
#  using the multivariate normal threshold model   #
####################################################


# See Chiu et al., (2009)

N &lt;- 500
Q &lt;- sim10GDINA$simQ
K &lt;- ncol(Q)
gs &lt;- matrix(0.1,nrow(Q),2)
cutoffs &lt;- qnorm(c(1:K)/(K+1))
m &lt;- rep(0,K)
vcov &lt;- matrix(0.5,K,K)
diag(vcov) &lt;- 1
simMV &lt;- simGDINA(N,Q,gs.parm = gs, att.dist = "mvnorm",
                 mvnorm.parm=list(mean = m, sigma = vcov,cutoffs = cutoffs))

####################################
#          Example 10              #
#        Simulation using          #
#      user-specified att structure#
####################################

# --- User-specified attribute structure ----#
Q &lt;- sim30GDINA$simQ
K &lt;- ncol(Q)
# divergent structure A1-&gt;A2-&gt;A3;A1-&gt;A4-&gt;A5;A1-&gt;A4-&gt;A6
diverg &lt;- list(c(1,2),
               c(2,3),
               c(1,4),
               c(4,5))
struc &lt;- att.structure(diverg,K)

# data simulation
N &lt;- 1000
# data simulation
gs &lt;- matrix(0.1,nrow(Q),2)
simD &lt;- simGDINA(N,Q,gs.parm = gs,
                   model = "DINA",att.dist = "categorical",att.prior = struc$att.prob)


####################################################
#                   Example 11                     #
#                Data simulation                   #
#  (GDINA with monotonicity constraints)           #
####################################################

set.seed(12345)

N &lt;- 500
Q &lt;- sim30GDINA$simQ
J &lt;- nrow(Q)
gs &lt;- data.frame(guess=rep(0.1,J),slip=rep(0.1,J))
# Simulated different CDMs for different items
sim &lt;- simGDINA(N,Q,gs.parm = gs,model = "GDINA",gs.args=list(mono.constraint=TRUE))

# True item success probabilities
extract(sim,what = "catprob.parm")

# True delta parameters
extract(sim,what = "delta.parm")

# simulated data
extract(sim,what = "dat")

# simulated attributes
extract(sim,what = "attribute")

####################################################
#                   Example 12                     #
#                Data simulation                   #
# (Sequential G-DINA model - polytomous responses) #
####################################################

set.seed(12345)

N &lt;- 2000
# restricted Qc matrix
Qc &lt;- sim20seqGDINA$simQ
#total number of categories
J &lt;- nrow(Qc)
gs &lt;- data.frame(guess=rep(0.1,J),slip=rep(0.1,J))
# simulate sequential DINA model
simseq &lt;- simGDINA(N, Qc, sequential = TRUE, gs.parm = gs, model = "GDINA")

# True item success probabilities
extract(simseq,what = "catprob.parm")

# True delta parameters
extract(simseq,what = "delta.parm")

# simulated data
extract(simseq,what = "dat")

# simulated attributes
extract(simseq,what = "attribute")


####################################################
#                   Example 13
#         DINA model Attribute generated using
#             categorical distribution
####################################################

Q &lt;- sim10GDINA$simQ
gs &lt;- matrix(0.1,nrow(Q),2)
N &lt;- 5000
set.seed(12345)
prior &lt;- c(0.1,0.2,0,0,0.2,0,0,0.5)
sim &lt;- simGDINA(N,Q,gs.parm = gs, model="DINA", att.dist = "categorical",att.prior = prior)
# check latent class sizes
table(sim$att.group)/N

####################################################
#                   Example 14
#                  MS-DINA model
####################################################


Q &lt;- matrix(c(1,1,1,1,0,
1,2,0,1,1,
2,1,1,0,0,
3,1,0,1,0,
4,1,0,0,1,
5,1,1,0,0,
5,2,0,0,1),ncol = 5,byrow = TRUE)
d &lt;- list(
  item1=c(0.2,0.7),
  item2=c(0.1,0.6),
  item3=c(0.2,0.6),
  item4=c(0.2,0.7),
  item5=c(0.1,0.8))

  set.seed(12345)
sim &lt;- simGDINA(N=1000,Q = Q, delta.parm = d,
               model = c("MSDINA","MSDINA","DINA","DINA","DINA","MSDINA","MSDINA"))

# simulated data
extract(sim,what = "dat")

# simulated attributes
extract(sim,what = "attribute")


##############################################################
#                   Example 15
#  reparameterized SISM model (Kuo, Chen, &amp; de la Torre, 2018)
#  see GDINA function for more details
###############################################################

# The Q-matrix used in Kuo, et al (2018)
# The first four columns are for Attributes 1-4
# The last three columns are for Bugs 1-3
Q &lt;- matrix(c(1,0,0,0,0,0,0,
0,1,0,0,0,0,0,
0,0,1,0,0,0,0,
0,0,0,1,0,0,0,
0,0,0,0,1,0,0,
0,0,0,0,0,1,0,
0,0,0,0,0,0,1,
1,0,0,0,1,0,0,
0,1,0,0,1,0,0,
0,0,1,0,0,0,1,
0,0,0,1,0,1,0,
1,1,0,0,1,0,0,
1,0,1,0,0,0,1,
1,0,0,1,0,0,1,
0,1,1,0,0,0,1,
0,1,0,1,0,1,1,
0,0,1,1,0,1,1,
1,0,1,0,1,1,0,
1,1,0,1,1,1,0,
0,1,1,1,1,1,0),ncol = 7,byrow = TRUE)

J &lt;- nrow(Q)
N &lt;- 500
gs &lt;- data.frame(guess=rep(0.1,J),slip=rep(0.1,J))

sim &lt;- simGDINA(N,Q,gs.parm = gs,model = "SISM",no.bugs=3)

# True item success probabilities
extract(sim,what = "catprob.parm")

# True delta parameters
extract(sim,what = "delta.parm")

# simulated data
extract(sim,what = "dat")

# simulated attributes
extract(sim,what = "attribute")

## End(Not run)


</code></pre>


</div>