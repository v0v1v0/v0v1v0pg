<div class="container">

<table style="width: 100%;"><tr>
<td>make_histories</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generates Functions of History of Existing Covariates</h2>

<h3>Description</h3>

<p>This internal function applies the history functions to create new columns in an input data table containing new variables that are functions
of the histories of existing variables in the dataset.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_histories(
  pool,
  histvars,
  histvals,
  histories,
  time_name,
  t,
  id,
  max_visits,
  baselags,
  below_zero_indicator
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pool</code></td>
<td>
<p>Data table containing all information prior to time <code class="reqn">t</code> (<code class="reqn">t</code> noninclusive).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>histvars</code></td>
<td>
<p>List of vectors. The kth vector specifies the names of the variables for which the kth history function
in <code>histories</code> is to be applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>histvals</code></td>
<td>
<p>List of length two. The first element is a numeric vector specifying the lags used in the model statements (e.g., if <code>lag1_varname</code> and <code>lag2_varname</code> were included in the model statements, this vector would be <code>c(1,2)</code>). The second element is a numeric vector specifying the lag averages used in the model statements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>histories</code></td>
<td>
<p>Vector of history functions to apply to the variables specified in <code>histvars</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_name</code></td>
<td>
<p>Character string specifying the name of the time variable in <code>pool</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>Integer specifying the current time index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Character string specifying the name of the ID variable in <code>pool</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_visits</code></td>
<td>
<p>A vector of one or more values denoting the maximum number of times
a binary covariate representing a visit process may be missed before
the individual is censored from the data (in the observed data) or
a visit is forced (in the simulated data). Multiple values exist in the
vector when the modeling of more than covariate is attached to a visit
process. A value of <code>NA</code> should be provided when there is no visit process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baselags</code></td>
<td>
<p>Logical scalar for specifying the convention used for lagi and lag_cumavgi terms in the model statements when pre-baseline times are not
included in <code>obs_data</code> and when the current time index, <code class="reqn">t</code>, is such that <code class="reqn">t &lt; i</code>. If this argument is set to <code>FALSE</code>, the value
of all lagi and lag_cumavgi terms in this context are set to 0 (for non-categorical covariates) or the reference
level (for categorical covariates). If this argument is set to <code>TRUE</code>, the value of lagi and lag_cumavgi terms
are set to their values at time 0. The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>below_zero_indicator</code></td>
<td>
<p>Logical scalar indicating whether the observed data set contains rows for time <code class="reqn">t &lt; 0</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>No value is returned. The data table <code>pool</code> is modified in place.
</p>


</div>