<div class="container">

<table style="width: 100%;"><tr>
<td>btpermute</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Variable selection with Permuted Inclusion Criterion</h2>

<h3>Description</h3>

<p>Method of forward variable selection based on deviance for Bradley-Terry
models using pairwise ranking data. The selection procedure consists of two steps, 
first, permuting the variables from the original <code>predictors</code> with 
<code>n.iteractions</code>, then performing a forward selection to retain the
<code>predictors</code> with highest contribution to the model, see details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">btpermute(
  contests = NULL,
  predictors = NULL,
  n.iterations = 15,
  seed = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>contests</code></td>
<td>
<p>a data frame with pairwise binary contests with these variables
'id','player1','player2','win1','win2'; in that order. The id should be equivalent 
to the index of each row in <code>predictors</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictors</code></td>
<td>
<p>a data frame with player-specific variables with row indices that 
should match with the ids in <code>contests</code>. An id is not required, only the 
predictor variables, the ids are the index for each row</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.iterations</code></td>
<td>
<p>integer, number of iterations to compute</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>integer, the seed for random number generation. If NULL (the default), 
<span class="pkg">gosset</span> will set the seed randomly</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to <span class="pkg">BradleyTerry2</span> methods</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The selection procedure consists of two steps. In the first step, <code>btpermute</code> 
adds to the set of original (candidate) <code>predictors</code> variables
an additional set of 'fake', permuted variables. This set of permuted 
<code>predictors</code> is created 
by assigning to each ranking the variables from another, randomly selected 
ranking. The permuted variables are not expected to have any predictive 
power for pairwise rankings. In the second step, <code>btpermute</code> adds 
predictors to the Bradley-Terry model in a forward selection procedure. 
Each <code>predictors</code> (real and permuted) is added to the null model 
individually, and <code>btpermute</code> retains which variable reduces model 
deviance most strongly. The two-step process is replicated <code>n</code> times 
with argument <code>n.iterations</code>. At each iteration, a new random permutation 
is generated and all variables are tested. Replicability can be controlled 
using argument <code>seed</code>. Across the n <code>n.iterations</code>, the function 
identifies the predictor that appeared most often as the most deviance-reducing 
one. When this is a real variable, it is constantly added to the model and 
the forward selection procedure moves on – again creating new permutations, 
adding real and fake variables individually, and examining model deviance. 
Variable selection stops when a permuted variable is found to be most 
frequently the most deviance-reducing <code>predictors</code> across <code>n.iterations</code>. 
In turn, variable selection continuous as long as any real variable has stronger 
explanatory power for pairwise rankings than the random variables.
</p>


<h3>Value</h3>

<p>an object of class <code>gosset_btpermute</code> with the final <code>BTm()</code> model,
selected variables, seeds (random numbers) used for permutations and deviances
</p>


<h3>Author(s)</h3>

<p>Jonathan Steinke and Kauê de Sousa
</p>


<h3>References</h3>

<p>Lysen, S. (2009) Permuted inclusion criterion: A variable selection technique. 
University of Pennsylvania
</p>


<h3>See Also</h3>

<p><code>set_binomialfreq</code>, <code>BTm</code>
</p>
<p>Other model selection functions: 
<code>crossvalidation()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

require("BradleyTerry2")

data("kenyachoice", package = "gosset")

mod &lt;- btpermute(contests = kenyachoice$contests,
                 predictors = kenyachoice$predictors,
                 n.iterations = 10,
                 seed = 1)

mod

</code></pre>


</div>