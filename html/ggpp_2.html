<div class="container">

<table style="width: 100%;"><tr>
<td>annotate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Annotations supporting NPC</h2>

<h3>Description</h3>

<p>A revised version of <code>annotate()</code> from package 'ggplot2' adding support
for <code>npcx</code> and <code>npcy</code> position aesthetics, allowing use of the
geometries defined in the current package such as <code>geom_text_npc()</code>. It
also has a parameter <code>label</code> that directly accepts data frames, ggplots
and grobs as arguments in addition to objects of atomic classes like
character. When package 'ggpmisc' is loaded this definition of
<code>annotate()</code> overrides that in package 'ggplot2'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">annotate(
  geom,
  x = NULL,
  y = NULL,
  xmin = NULL,
  xmax = NULL,
  ymin = NULL,
  ymax = NULL,
  xend = NULL,
  yend = NULL,
  npcx = NULL,
  npcy = NULL,
  label = NULL,
  ...,
  na.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>geom</code></td>
<td>
<p>character Name of geom to use for annotation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, y, xmin, ymin, xmax, ymax, xend, yend, npcx, npcy</code></td>
<td>
<p>numeric Positioning
aesthetics - you must specify at least one of these.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>character, data.frame, ggplot or grob.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other named arguments passed on to <code>layer()</code>. These are often
aesthetics, used to set an aesthetic to a fixed value, like color = "red"
or size = 3. They may also be parameters to the paired geom/stat.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>logical If <code>FALSE</code>, the default, missing values are removed
with a warning. If TRUE, missing values are silently removed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that all position aesthetics are scaled (i.e., they will
expand the limits of the plot so they are visible), but all other
aesthetics are set. This means that layers created with this function will
never affect the legend.
</p>


<h3>Value</h3>

<p>A plot layer instance.
</p>


<h3>Note</h3>

<p>To use the original definition of <code>annotate()</code> after loading
package 'ggpmisc', use <code>ggplot2::annotate()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
p &lt;- ggplot(mtcars, aes(x = wt, y = mpg)) + geom_point()

# Works as ggplot2::annotate()
p + annotate("text", x = 5, y = 32, label = "Some text")
p + annotate("label", x = c(2, 5), y = c(15, 32),
             label = c("A", "B"))
p + annotate("table", x = 5, y = 30,
             label = data.frame(A = 1:2, B = letters[1:2]))
p + annotate("plot", x = 5.5, y = 34,
             label = p + theme_bw(9))
p + annotate("rect", xmin = 3, xmax = 4.2, ymin = 12, ymax = 21, alpha = .2)
p + annotate("segment", x = 2.5, xend = 4, y = 15, yend = 25, colour = "blue")
p + annotate("pointrange", x = 3.5, y = 20, ymin = 12, ymax = 28,
  colour = "red", size = 1.5)

# But ggpmisc::annotate() also works with npcx and npcy pseudo-aesthetics
p + annotate("label_npc", npcx = c(0.1, 0.9), npcy = c(0.1, 0.9),
             label = c("A", "B"))
p + annotate("label_npc", npcx = 0.9, npcy = c(0.1, 0.9),
             label = c("A", "B"))

p + annotate("text_npc", npcx = 0.9, npcy = 0.9, label = "Some text")
p + annotate("text_npc", npcx = "right", npcy = "top", label = "Some text")

p + annotate("table_npc", npcx = 0.9, npcy = 0.9,
             label = data.frame(A = 1:2, B = letters[1:2]))

p + annotate("plot_npc", npcx = 1, npcy = 1,
             label = p + theme_bw(9))
p + annotate("plot_npc", npcx = c(0, 1), npcy = c(0, 1),
             label = list(p + theme_bw(9), p + theme_grey(9)),
             vp.width = 0.3, vp.height = 0.4)

</code></pre>


</div>