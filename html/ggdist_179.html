<div class="container">

<table style="width: 100%;"><tr>
<td>smooth_discrete</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Smooth dot positions in a dotplot of discrete values ("bar dotplots")</h2>

<h3>Description</h3>

<p><strong>Note:</strong> Better-looking bar dotplots are typically easier to achieve using
<code>layout = "bar"</code> with the <code>geom_dotsinterval()</code> family instead of
<code>smooth = "bar"</code> or <code>smooth = "discrete"</code>.
</p>
<p>Smooths <code>x</code> values where <code>x</code> is presumed to be discrete, returning a new <code>x</code>
of the same length. Both <code>smooth_discrete()</code> and <code>smooth_bar()</code> use the
<code>resolution()</code> of the data to apply smoothing around unique values in the
dataset; <code>smooth_discrete()</code> uses a kernel density estimator and <code>smooth_bar()</code>
places values in an evenly-spaced grid. Can be used with a dotplot
(e.g. <code>geom_dots</code><code>(smooth = ...)</code>) to create "bar dotplots".
</p>
<p>Supports automatic partial function application.
</p>


<h3>Usage</h3>

<pre><code class="language-R">smooth_discrete(
  x,
  kernel = c("rectangular", "gaussian", "epanechnikov", "triangular", "biweight",
    "cosine", "optcosine"),
  width = 0.7,
  ...
)

smooth_bar(x, width = 0.7, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a numeric vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel</code></td>
<td>
<p>string: the smoothing kernel to be used. This must partially
match one of <code>"gaussian"</code>, <code>"rectangular"</code>, <code>"triangular"</code>, <code>"epanechnikov"</code>,
<code>"biweight"</code>, <code>"cosine"</code>, or <code>"optcosine"</code>. See <code>stats::density()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>approximate width of the bars as a fraction of data <code>resolution()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters; <code>smooth_discrete()</code> passes these to
<code>smooth_unbounded()</code> and thereby to <code>density_unbounded()</code>; <code>smooth_bar()</code>
ignores them.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>smooth_discrete()</code> applies a kernel density estimator (default: rectangular)
to <code>x</code>. It automatically sets the bandwidth to be such that the kernel's
width (for each kernel type) is approximately <code>width</code> times the <code>resolution()</code>
of the data. This means it essentially creates smoothed bins around each
unique value. It calls down to <code>smooth_unbounded()</code>.
</p>
<p><code>smooth_bar()</code> generates an evenly-spaced grid of values spanning <code style="white-space: pre;">⁠+/- width/2⁠</code>
around each unique value in <code>x</code>.
</p>


<h3>Value</h3>

<p>A numeric vector of <code>length(x)</code>, where each entry is a smoothed version of
the corresponding entry in <code>x</code>.
</p>
<p>If <code>x</code> is missing, returns a partial application of itself. See automatic-partial-functions.
</p>


<h3>See Also</h3>

<p>Other dotplot smooths: 
<code>smooth_density</code>,
<code>smooth_none()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(ggplot2)

set.seed(1234)
x = rpois(1000, 2)

# automatic binwidth in basic dotplot on large counts in discrete
# distributions is very small
ggplot(data.frame(x), aes(x)) +
  geom_dots()

# NOTE: It is now recommended to use layout = "bar" instead of
# smooth = "discrete" or smooth = "bar"; the latter are retained because
# they can sometimes be useful in combination with other layouts for
# more specialized (but finicky) applications.
ggplot(data.frame(x), aes(x)) +
  geom_dots(layout = "bar")

# smooth_discrete() constructs wider bins of dots
ggplot(data.frame(x), aes(x)) +
  geom_dots(smooth = "discrete")

# smooth_bar() is an alternative approach to rectangular layouts
ggplot(data.frame(x), aes(x)) +
  geom_dots(smooth = "bar")

# adjust the shape by changing the kernel or the width. epanechnikov
# works well with side = "both"
ggplot(data.frame(x), aes(x)) +
  geom_dots(smooth = smooth_discrete(kernel = "epanechnikov", width = 0.8), side = "both")


</code></pre>


</div>