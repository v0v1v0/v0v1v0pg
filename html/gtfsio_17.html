<div class="container">

<table style="width: 100%;"><tr>
<td>import_gtfs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Import GTFS transit feeds</h2>

<h3>Description</h3>

<p>Imports GTFS transit feeds from either a local <code>.zip</code> file or an URL.
Columns are parsed according to the standards for reading and writing GTFS
feeds specified in <code>gtfs_reference</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">import_gtfs(
  path,
  files = NULL,
  fields = NULL,
  extra_spec = NULL,
  skip = NULL,
  quiet = TRUE,
  encoding = "unknown"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>A string. The path to a GTFS <code>.zip</code> file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>files</code></td>
<td>
<p>A character vector. The text files to be read from the GTFS,
without the <code>.txt</code> extension. If <code>NULL</code> (the default), all
existing text files are read.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields</code></td>
<td>
<p>A named list. The fields to be read from each text file, in the
format <code>list(file1 = c("field1", "field2"))</code>. If <code>NULL</code> (the
default), all fields from the files specified in <code>files</code> are read. If
a file is specified in <code>files</code> but not in <code>fields</code>, all fields
from that file will be read (i.e. you may specify in <code>fields</code> only
files whose fields you want to subset).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extra_spec</code></td>
<td>
<p>A named list. Custom specification used when reading
undocumented fields, in the format
<code>list(file1 = c(field1 = "type1", field2 = "type2"))</code>. If <code>NULL</code>
(the default), all undocumented fields are read as character. Similarly,
if an undocumented field is not specified in <code>extra_spec</code>, it is read
as character (i.e. you may specify in <code>extra_spec</code> only the fields
that you want to read as a different type). Only supports the
<code>character</code>, <code>integer</code> and <code>numeric</code> types.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip</code></td>
<td>
<p>A character vector. Text files that should not be read from the
GTFS, without the <code>.txt</code> extension. If <code>NULL</code> (the default), no
files are skipped. Cannot be used if <code>files</code> is set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>A logical. Whether to hide log messages and progress bars
(defaults to <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>A string. Passed to <code>fread</code>, defaults
to <code>"unknown"</code>. Other possible options are <code>"UTF-8"</code> and
<code>"Latin-1"</code>. Please note that this is not used to re-encode the input,
but to enable handling encoded strings in their native encoding.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A GTFS object: a named list of data frames, each one corresponding to
a distinct text file from the given GTFS feed.
</p>


<h3>See Also</h3>

<p><code>gtfs_reference</code>
</p>
<p>Other io functions: 
<code>export_gtfs()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">gtfs_path &lt;- system.file("extdata/ggl_gtfs.zip", package = "gtfsio")

# read all files and columns
gtfs &lt;- import_gtfs(gtfs_path)
names(gtfs)
names(gtfs$trips)

# read all columns from selected files
gtfs &lt;- import_gtfs(gtfs_path, files = c("trips", "stops"))
names(gtfs)
names(gtfs$trips)

# read specific columns from selected files
gtfs &lt;- import_gtfs(
  gtfs_path,
  files = c("trips", "stops"),
  fields = list(
    trips = c("route_id", "trip_id"),
    stops = c("stop_id", "stop_lat", "stop_lon")
  )
)

</code></pre>


</div>