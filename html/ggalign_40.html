<div class="container">

<table style="width: 100%;"><tr>
<td>align_gg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create ggplot object with a customized data</h2>

<h3>Description</h3>

<p><code>ggalign</code> is just an alias of <code>align_gg</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">align_gg(
  mapping = aes(),
  size = NULL,
  free_guides = waiver(),
  free_spaces = waiver(),
  plot_data = waiver(),
  theme = waiver(),
  free_labs = waiver(),
  data = NULL,
  limits = TRUE,
  facet = TRUE,
  set_context = TRUE,
  order = NULL,
  name = NULL
)

ggalign(
  mapping = aes(),
  size = NULL,
  free_guides = waiver(),
  free_spaces = waiver(),
  plot_data = waiver(),
  theme = waiver(),
  free_labs = waiver(),
  data = NULL,
  limits = TRUE,
  facet = TRUE,
  set_context = TRUE,
  order = NULL,
  name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mapping</code></td>
<td>
<p>Additional default list of aesthetic mappings to use for plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>Plot size, can be an unit object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>free_guides</code></td>
<td>
<p>Override the <code>guides</code> argument specified in the layout for
a plot. Options include:
</p>

<ul>
<li> <p><code>waiver()</code>: inherits behavior from the layout.
</p>
</li>
<li> <p><code>NULL</code>: no guide legends will be collected for the plot.
</p>
</li>
<li>
<p> A string containing one or more of <code>"t"</code>, <code>"l"</code>, <code>"b"</code>, and <code>"r"</code> indicates which side of guide legends should be collected for the plot..
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>free_spaces</code></td>
<td>
<p>A string with one or more of <code>"t"</code>, <code>"l"</code>, <code>"b"</code>, and <code>"r"</code>
indicating which border spaces should be removed. Defaults to
<code>waiver()</code>, which inherits from the parent layout. If no
parent, the default is <code>NULL</code>, meaning no spaces are removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_data</code></td>
<td>
<p>A function to transform plot data before rendering. Defaults
to <code>waiver()</code>, which inherits from the parent layout. If
no parent layout, the default is <code>NULL</code>, meaning the data won't be modified.
</p>
<p>Used to modify the data after layout has been created, which should be a data
frame, but before the data is handled of to the ggplot2 for rendering. Use
this hook if the you needs change the default data for all <code>geoms</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theme</code></td>
<td>
<p>Default plot theme: One of:
</p>

<ul>
<li> <p><code>waiver()</code>: will inherit from the parent layout.
</p>
</li>
<li> <p><code>NULL</code>: Use the default theme.
</p>
</li>
<li> <p><code>theme()</code>: will be added with the parent layout theme.
</p>
</li>
</ul>
<p><code style="white-space: pre;">⁠Note:⁠</code> The axis title and labels parallel to the layout axis will always be
removed by default. For vertical stack layouts, this refers to the <code>x-axis</code>,
and for horizontal stack layouts, this refers to the <code>y-axis</code>. If you want to
display the axis title or labels, you should manually add
theme() elements for the parallel axis title or labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>free_labs</code></td>
<td>
<p>A string with one or more of <code>"t"</code>, <code>"l"</code>, <code>"b"</code>, and <code>"r"</code> indicating
which axis titles should be free from alignment. Defaults to
<code>waiver()</code>, which inherits from the parent layout. If no
parent layout, no axis titles will be aligned. If <code>NULL</code>, all axis titles
will be aligned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A matrix, data frame, or a simple vector. If an atomic vector is
provided, it will be converted into a one-column matrix. When <code>data = NULL</code>,
the internal <code>layout</code> data will be used by default. Additionally, <code>data</code> can
be a function (including purrr-like lambdas), which will be applied to the
<code>layout</code> data.
</p>
<p>It is important to note that we consider the <code>rows</code> as the observations. It
means the <code>NROW(data)</code> must return the same number with the specific <code>layout</code>
axis (meaning the x-axis for vertical stack layout, or y-axis for horizontal
stack layout).
</p>

<ul>
<li> <p><code>heatmap_layout()</code>: for column annotation, the <code>layout</code> data will be
transposed before using (If data is a <code>function</code>, it will be applied with
the transposed matrix). This is necessary because column annotation uses
heatmap columns as observations, but we need rows.
</p>
</li>
<li> <p><code>stack_layout()</code>: the <code>layout</code> data will be used as it is since we place
all plots along a single axis.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limits</code></td>
<td>
<p>A boolean value indicates whether to set the layout limtis for
the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet</code></td>
<td>
<p>A boolean value indicates whether to set the layout facet for
the plot. If this is <code>FALSE</code>, <code>limits</code> will always be <code>FALSE</code> too.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set_context</code></td>
<td>
<p>A single boolean value indicates whether to set the active
context to current plot. If <code>TRUE</code>, all subsequent ggplot elements will be
added into this plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>An single integer for the plot area order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A string of the plot name. Used to switch the active context in
<code>hmanno()</code> or <code>stack_active()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>AlignGG</code> object.
</p>


<h3>ggplot2 specification</h3>

<p><code>align_gg</code> initializes a ggplot <code>data</code> and <code>mapping</code>.
</p>
<p><code>align_gg()</code> always applies a default mapping for the axis of the data index
in the layout. This mapping is <code>aes(y = .data$.y)</code> for horizontal stack
layout (including left and right heatmap annotation) and <code>aes(x = .data$.x)</code>
for vertical stack layout (including top and bottom heatmap annotation).
</p>
<p>For ggplot usage, matrix (including a simple vector) data is converted into a
long-format data frame. The data in the underlying <code>ggplot</code> object will
contain following columns:
</p>

<ul>
<li> <p><code>.panel</code>: the panel for current layout axis. It means <code>x-axis</code> for
vertical stack layout, <code>y-axis</code> for horizontal stack layout.
</p>
</li>
<li> <p><code>.x</code> or <code>.y</code>: the <code>x</code> or <code>y</code> coordinates
</p>
</li>
<li> <p><code>.row_names</code> and <code>.row_index</code>: A factor of the row names and an integer of
row index of the original matrix or data frame.
</p>
</li>
<li> <p><code>.column_names</code> and <code>.column_index</code>: the column names and column index of
the original matrix (only applicable if <code>data</code> is a <code>matrix</code>).
</p>
</li>
<li> <p><code>value</code>: the actual matrix value  (only applicable if <code>data</code> is a
<code>matrix</code>).
</p>
</li>
</ul>
<p>In the case where the input data is already a data frame, three additional
columns (<code>.row_names</code>, <code>.row_index</code>, and <code>.panel</code>) are added to the data
frame.
</p>
<p>If the data is inherit from <code>heatmap_layout()</code>, an additional column will be
added.
</p>

<ul><li> <p><code>.extra_panel</code>: the panel information for column (left or right
annotation) or row (top or bottom annotation).
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">ggheatmap(matrix(rnorm(81), nrow = 9)) +
    hmanno("top") +
    ggalign() +
    geom_point(aes(y = value))
</code></pre>


</div>