<div class="container">

<table style="width: 100%;"><tr>
<td>add_p.tbl_svysummary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add p-values</h2>

<h3>Description</h3>

<p>Adds p-values to tables created by <code>tbl_svysummary()</code> by comparing values across groups.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'tbl_svysummary'
add_p(
  x,
  test = list(all_continuous() ~ "svy.wilcox.test", all_categorical() ~ "svy.chisq.test"),
  pvalue_fun = label_style_pvalue(digits = 1),
  include = everything(),
  test.args = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(<code>tbl_svysummary</code>)<br>
table created with <code>tbl_svysummary()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>(<code>formula-list-selector</code>)<br>
List of formulas specifying statistical tests to perform.
Default is <code>list(all_continuous() ~ "svy.wilcox.test", all_categorical() ~ "svy.chisq.test")</code>.
</p>
<p>See below for details on default tests and ?tests for details on available
tests and creating custom tests.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvalue_fun</code></td>
<td>
<p>(<code>function</code>)<br>
Function to round and format p-values. Default is <code>label_style_pvalue()</code>.
The function must have a numeric vector input, and return a string that is
the rounded/formatted p-value (e.g. <code>pvalue_fun = label_style_pvalue(digits = 2)</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include</code></td>
<td>
<p>(<code>tidy-select</code>)<br>
Variables to include in output. Default is <code>everything()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.args</code></td>
<td>
<p>(<code>formula-list-selector</code>)<br>
Containing additional arguments to pass to tests that accept arguments.
For example, add an argument for all t-tests, use
<code>test.args = all_tests("t.test") ~ list(var.equal = TRUE)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a gtsummary table of class <code>"tbl_svysummary"</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Example 1 ----------------------------------
# A simple weighted dataset
survey::svydesign(~1, data = as.data.frame(Titanic), weights = ~Freq) |&gt;
  tbl_svysummary(by = Survived, include = c(Sex, Age)) |&gt;
  add_p()

# A dataset with a complex design
data(api, package = "survey")
d_clust &lt;- survey::svydesign(id = ~dnum, weights = ~pw, data = apiclus1, fpc = ~fpc)

# Example 2 ----------------------------------
tbl_svysummary(d_clust, by = both, include = c(api00, api99)) |&gt;
  add_p()

# Example 3 ----------------------------------
# change tests to svy t-test and Wald test
tbl_svysummary(d_clust, by = both, include = c(api00, api99, stype)) |&gt;
  add_p(
    test = list(
      all_continuous() ~ "svy.t.test",
      all_categorical() ~ "svy.wald.test"
    )
  )

</code></pre>


</div>