<div class="container">

<table style="width: 100%;"><tr>
<td>rank.probability</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculating rank-probabilities</h2>

<h3>Description</h3>

<p>Rank probabilities indicate the probability for each treatment to be best, second best, etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rank.probability(result, preferredDirection=1, covariate=NA)

## S3 method for class 'mtc.rank.probability'
print(x, ...)
## S3 method for class 'mtc.rank.probability'
plot(x, ...)

sucra(ranks)
rank.quantiles(ranks, probs=c("2.5%"=0.025, "50%"=0.5, "97.5%"=0.975))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>Object of S3 class <code>mtc.result</code> to be used in creation of the rank probability table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preferredDirection</code></td>
<td>
<p>Preferential direction of the outcome. Set 1 if higher values are preferred, -1 if lower values are preferred.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariate</code></td>
<td>
<p>(Regression analyses only) Value of the covariate at which to compute rank probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of S3 class <code>rank.probability</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ranks</code></td>
<td>
<p>A ranking matrix where the treatments are the rows (e.g. the result of rank.probability).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>Probabilities at which to give quantiles.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For each MCMC iteration, the treatments are ranked by their effect relative to an arbitrary baseline.
A frequency table is constructed from these rankings and normalized by the number of iterations to give the rank probabilities.
</p>


<h3>Value</h3>

<p><code>rank.probability</code>: A matrix (with class <code>mtc.rank.probability</code>) with the treatments as rows and the ranks as columns.
<code>sucra</code>: A vector of SUCRA values.
<code>rank.quantiles</code>: A matrix with treatments as rows and quantiles as columns, giving the quantile ranks (by default, the median and 2.5% and 97.5% ranks).
</p>


<h3>Author(s)</h3>

<p>Gert van Valkenhoef, JoÃ«l Kuiper</p>


<h3>See Also</h3>

<p><code>relative.effect</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">model &lt;- mtc.model(smoking)
# To save computation time we load the samples instead of running the model
## Not run: results &lt;- mtc.run(model)
results &lt;- readRDS(system.file("extdata/luades-smoking-samples.rds", package="gemtc"))

ranks &lt;- rank.probability(results)
print(ranks)
## Rank probability; preferred direction = 1
##       [,1]     [,2]     [,3]     [,4]
## A 0.000000 0.003000 0.105125 0.891875
## B 0.057875 0.175875 0.661500 0.104750
## C 0.228250 0.600500 0.170875 0.000375
## D 0.713875 0.220625 0.062500 0.003000

print(sucra(ranks))
##          A          B          C          D
## 0.03670833 0.39591667 0.68562500 0.88175000

print(rank.quantiles(ranks))
##   2.5% 50% 97.5%
## A    3   4     4
## B    1   3     4
## C    1   2     3
## D    1   1     3

plot(ranks) # plot a cumulative rank plot
plot(ranks, beside=TRUE) # plot a 'rankogram'
</code></pre>


</div>