<div class="container">

<table style="width: 100%;"><tr>
<td>parse_dist</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Parse distribution specifications into columns of a data frame</h2>

<h3>Description</h3>

<p>Parses simple string distribution specifications, like <code>"normal(0, 1)"</code>, into two columns of
a data frame, suitable for use with the <code>dist</code> and <code>args</code> aesthetics of <code>stat_slabinterval()</code>
and its shortcut stats (like <code>stat_halfeye()</code>). This format is output
by <code>brms::get_prior</code>, making it particularly useful for visualizing priors from
brms models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">parse_dist(
  object,
  ...,
  dist = ".dist",
  args = ".args",
  dist_obj = ".dist_obj",
  package = NULL,
  to_r_names = TRUE
)

## Default S3 method:
parse_dist(object, ...)

## S3 method for class 'data.frame'
parse_dist(
  object,
  dist_col,
  ...,
  dist = ".dist",
  args = ".args",
  dist_obj = ".dist_obj",
  package = NULL,
  lb = "lb",
  ub = "ub",
  to_r_names = TRUE
)

## S3 method for class 'character'
parse_dist(
  object,
  ...,
  dist = ".dist",
  args = ".args",
  dist_obj = ".dist_obj",
  package = NULL,
  to_r_names = TRUE
)

## S3 method for class 'factor'
parse_dist(
  object,
  ...,
  dist = ".dist",
  args = ".args",
  dist_obj = ".dist_obj",
  package = NULL,
  to_r_names = TRUE
)

## S3 method for class 'brmsprior'
parse_dist(
  object,
  dist_col = prior,
  ...,
  dist = ".dist",
  args = ".args",
  dist_obj = ".dist_obj",
  package = NULL,
  to_r_names = TRUE
)

r_dist_name(dist_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A character vector containing distribution specifications or a data frame with a column
containing distribution specifications.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to other implementations of <code>parse_dist</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>The name of the output column to contain the distribution name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>The name of the output column to contain the arguments to the distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist_obj</code></td>
<td>
<p>The name of the output column to contain a <span class="pkg">distributional</span> object representing the distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>package</code></td>
<td>
<p>The package or environment to search for distribution functions in.
Passed to <code>distributional::dist_wrap()</code>. One of:
</p>

<ul>
<li> <p><code>NULL</code>: use the calling environment
</p>
</li>
<li>
<p> a string: use the environment for the package with the given name
</p>
</li>
<li>
<p> an environment: use the given environment
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to_r_names</code></td>
<td>
<p>If <code>TRUE</code> (the default), certain common aliases for distribution names are
automatically translated into names that R can recognize (i.e., names which have functions starting
with <code>r</code>, <code>p</code>, <code>q</code>, and <code>d</code> representing random number generators, distribution
functions, etc. for that distribution), using the <code>r_dist_name</code> function. For example,
<code>"normal"</code> is translated into <code>"norm"</code> and <code>"lognormal"</code> is translated into <code>"lnorm"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist_col</code></td>
<td>
<p>A bare (unquoted) column or column expression that resolves to a character vector
of distribution specifications.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lb</code></td>
<td>
<p>The name of an input column (for <code>data.frame</code> and <code>brms::prior</code> objects) that contains
the lower bound of the distribution, which if present will produce a truncated distribution using
<code>dist_truncated()</code>. Ignored if <code>lb</code> is <code>NULL</code> or if <code>object[[lb]]</code> is <code>NA</code> for the corresponding
input row.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ub</code></td>
<td>
<p>The name of an input column (for <code>data.frame</code> and <code>brms::prior</code> objects) that contains
the upper bound of the distribution, which if present will produce a truncated distribution using
<code>dist_truncated()</code>. Ignored if <code>ub</code> is <code>NULL</code> or if <code>object[[ub]]</code> is <code>NA</code> for the corresponding
input row.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist_name</code></td>
<td>
<p>For <code>r_dist_name</code>, a character vector of distribution names to be translated into
distribution names R recognizes. Unrecognized names are left as-is.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>parse_dist()</code> can be applied to character vectors or to a data frame + bare column name of the
column to parse, and returns a data frame with <code>".dist"</code> and <code>".args"</code> columns added.
<code>parse_dist()</code> uses <code>r_dist_name()</code> to translate distribution names into names recognized
by R.
</p>
<p><code>r_dist_name()</code> takes a character vector of names and translates common names into R
distribution names. Names are first made into valid R names using <code>make.names()</code>,
then translated (ignoring character case, <code>"."</code>, and <code>"_"</code>). Thus, <code>"lognormal"</code>,
<code>"LogNormal"</code>, <code>"log_normal"</code>, <code>"log-Normal"</code>, and any number of other variants
all get translated into <code>"lnorm"</code>.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>parse_dist</code> returns a data frame containing at least two columns named after the <code>dist</code> and <code>args</code>
parameters. If the input is a data frame, the output is a data frame of the same length with those
two columns added. If the input is a character vector or factor, the output is a two-column data frame
with the same number of rows as the length of the input.
</p>
</li>
<li> <p><code>r_dist_name</code> returns a character vector the same length as the input containing translations of the
input names into distribution names R can recognize.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>See <code>stat_slabinterval()</code> and its shortcut stats, which can easily make use of
the output of this function using the <code>dist</code> and <code>args</code> aesthetics.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(dplyr)

# parse dist can operate on strings directly...
parse_dist(c("normal(0,1)", "student_t(3,0,1)"))

# ... or on columns of a data frame, where it adds the
# parsed specs back on as columns
data.frame(prior = c("normal(0,1)", "student_t(3,0,1)")) %&gt;%
  parse_dist(prior)

# parse_dist is particularly useful with the output of brms::prior(),
# which follows the same format as above

</code></pre>


</div>