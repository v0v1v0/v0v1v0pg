<div class="container">

<table style="width: 100%;"><tr>
<td>ci.balance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Experimental Function to Correct Confidence Intervals At or Near
Boundaries of the Parameter Space by 'Sliding' the Interval on the
Quantile Scale.</h2>

<h3>Description</h3>

<p>Experimental function to correct confidence intervals at or near
boundaries of the parameter space by 'sliding' the interval on the
quantile scale.</p>


<h3>Usage</h3>

<pre><code class="language-R">ci.balance(x, est, confidence=0.95, alpha=1-confidence, minval, maxval,
           na.rm=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Bootstrap parameter estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>Observed value of the parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confidence</code></td>
<td>
<p>Confidence level for the interval. Defaults to
0.95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Type I error rate (size) for the interval. Defaults to
1-<code>confidence</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minval</code></td>
<td>
<p>A numeric value specifying the lower bound of the
parameter space. Leave unspecified (the default) if
there is no lower bound.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxval</code></td>
<td>
<p>A numeric value specifying the upper bound of the
parameter space. Leave unspecified (the default) if
there is no upper bound.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p> logical. Should missing values be removed?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>EXPERIMENTAL FUNCTION:
</p>
<p>This function attempts to compute a proper <code>conf</code>*100%
confidence interval for parameters at or near the boundary of the
parameter space using bootstrapped parameter estimates by 'sliding'
the confidence interval on the quantile scale.
</p>
<p>This is accomplished by attempting to place a <code>conf</code> *100%
interval symmetrically *on the quantile scale* about the observed
value.  If a symmetric interval would exceed the observed data at the
upper (lower) end, a one-sided interval is computed with the upper
(lower) boundary fixed at the the upper (lower) boundary of the
parameter space.
</p>


<h3>Value</h3>

<p>A list containing:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>A 2-element vector containing the lower and upper confidence
limits.  The names of the elements of the vector give the actual
quantile values used for the interval or one of the character
strings "Upper Boundary" or "Lower Boundary".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overflow.upper, overflow.lower</code></td>
<td>
<p>The number of elements beyond
those observed that would be needed to compute a symmetric (on the
quantile scale) confidence interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.above, n.below</code></td>
<td>
<p>The number of bootstrap values which are above
(below) the observed value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower.n, upper.n</code></td>
<td>
<p>The index of the value used for the endpoint
of the confidence interval or the character string "Upper Boundary"
("Lower Boundary").</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p> Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a>
</p>


<h3>See Also</h3>

<p><code>boot</code>,
<code>bootstrap</code>,
Used by <code>diseq.ci</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># These are nonsensical examples which simply exercise the
# computation. See the code to diseq.ci for a real example.
#
# FIXME: Add real example using boot or bootstrap.  

set.seed(7981357)
x &lt;- abs(rnorm(100,1))
ci.balance(x,1, minval=0)
ci.balance(x,1)

x &lt;- rnorm(100,1)
x &lt;- ifelse(x&gt;1, 1, x)
ci.balance(x,1, maxval=1)
ci.balance(x,1)
</code></pre>


</div>