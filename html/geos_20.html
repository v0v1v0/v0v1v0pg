<div class="container">

<table style="width: 100%;"><tr>
<td>geos_basic_strtree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a basic GEOS STRTree</h2>

<h3>Description</h3>

<p>An experimental alternative to the <code>geos_strtree()</code> that provides a more
flexible interface and potentially faster spatial joins. Notably,
<code>geos_basic_strtree_insert()</code> uses <code>wk::wk_envelope()</code> instead of
<code>as_geos_geometry()</code> and does not keep the underlying geometry in memory.
For object types like <code>wk::xy()</code> with an optimized <code>wk::wk_envelope()</code>
method, this is very efficient.
</p>


<h3>Usage</h3>

<pre><code class="language-R">geos_basic_strtree(items = NULL, node_capacity = 10L)

geos_basic_strtree_size(tree)

geos_basic_strtree_finalized(tree)

geos_basic_strtree_insert(tree, items)

geos_basic_strtree_query(tree, query, limit = NA, fill = FALSE)

geos_basic_strtree_query_filtered(
  tree,
  query,
  tree_geom,
  fun,
  ...,
  .chunk_size = 65536
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>items</code></td>
<td>
<p>Items to add to the tree index</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>node_capacity</code></td>
<td>
<p>The maximum number of child nodes that a node may have.
The minimum recommended capacity value is 4. If unsure, use a
default node capacity of 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tree</code></td>
<td>
<p>A <code>geos_basic_strtree()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>Items with which to query the tree</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>The maximum number of matches in the tree to return</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>If <code>TRUE</code>, always returns <code>limit</code> matches per item in <code>query</code>
padded with <code>NA</code> if fewer than <code>limit</code> matches are found.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tree_geom</code></td>
<td>
<p>A vctr coercible to <code>geos_geometry()</code> whose indices
align with <code>tree</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>A vectorized binary predicate (e.g. <code>geos_intersects()</code>) that
will be called with the tree geometry, the query geometry and any <code>...</code>
args passed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed to <code>fun</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.chunk_size</code></td>
<td>
<p>The approximate number of comparisons to pass to <code>fun</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A geos_basic_strtree object
</p>


<h3>Examples</h3>

<pre><code class="language-R">tree &lt;- geos_basic_strtree(wk::xy(1:5, 1:5))
geos_basic_strtree_size(tree)
(geos_basic_strtree_insert(tree, wk::xy(6:10, 6:10)))
geos_basic_strtree_query(tree, as_geos_geometry("LINESTRING (3 0, 0 3)"))

</code></pre>


</div>