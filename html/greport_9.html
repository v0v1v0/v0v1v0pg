<div class="container">

<table style="width: 100%;"><tr>
<td>exReport</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Exclusion Report</h2>

<h3>Description</h3>

<p>Generates graphics for sequential exclusion criteria
</p>


<h3>Usage</h3>

<pre><code class="language-R">exReport(
  formula,
  data = NULL,
  subset = NULL,
  na.action = na.retain,
  ignoreExcl = NULL,
  ignoreRand = NULL,
  plotExRemain = TRUE,
  autoother = FALSE,
  sort = TRUE,
  whenapp = NULL,
  erdata = NULL,
  panel = "excl",
  subpanel = NULL,
  head = NULL,
  tail = NULL,
  apptail = NULL,
  h = 5.5,
  w = 6.5,
  hc = 4.5,
  wc = 5,
  adjustwidth = "-0.75in",
  append = FALSE,
  popts = NULL,
  app = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula with only a right-hand side, possibly containing a term of the form <code>pending(x)</code> to inform the function of which subjects have incomplete randomization ("randomization pending").  The <code>pending</code> variable is ignored if a subject has an exclusion marked.  A <code>randomized</code> variable is an optional <code>logical</code> vector specifying which subjects are considered to have been randomized.  The presence of this variable causes consistency checking against exclusions.  One or more <code>cond</code> variables provide binary/logical vectors used to define subsets of subjects for which denominators are used to compute additional fractions of exclusions that are reported in a detailed table.  The arguments of the <code>cond</code> function are the name of the original variable (assumed to be provided as a regular variable in <code>formula</code>, a single character string giving the label for the condition, and the vector of essentially binary values that specify the condition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>input data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>subsetting criteria</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>function for handling <code>NA</code>s when creating analysis frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignoreExcl</code></td>
<td>
<p>a formula with only a right-hand side, specifying the names of exclusion variable names that are to be ignored when counting exclusions (screen failures)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignoreRand</code></td>
<td>
<p>a formula with only a right-hand side, specifying the names of exclusion variable names that are to be ignored when counting randomized subjects marked as exclusions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotExRemain</code></td>
<td>
<p>set to <code>FALSE</code> to suppress plotting a 2-panel dot plot showing the number of subjects excluded and the fraction of enrolled subjects remaining</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autoother</code></td>
<td>
<p>set to <code>TRUE</code> to add another exclusion <code>Unspecified</code> that is set to <code>TRUE</code> for non-pending subjects that have no other exclusions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>set to <code>FALSE</code> to not sort variables by descending exclusion frequency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whenapp</code></td>
<td>
<p>a named character vector (with names equal to names of variables in formula).  For each variable that is only assessed (i.e., is not <code>NA</code>) under certain conditions, add an element to this vector naming the condition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>erdata</code></td>
<td>
<p>a data frame that is subsetted on the combination of <code>id</code> variables when <code>randomized</code> is present, to print auxiliary information about randomized subjects who have exclusion criteria</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>panel</code></td>
<td>
<p>panel string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subpanel</code></td>
<td>
<p>If calling <code>exReport</code> more than once (e.g., for different values of <code>sort</code>), specify <code>subpanel</code> to distinguish the multiple calls.  In that case, <code>-subpanel</code> will be appended to <code>panel</code> when creating figure labels and cross-references.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>head</code></td>
<td>
<p>character string.  Specifies initial text in the figure caption, otherwise a default is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tail</code></td>
<td>
<p>a character string to add to end of automatic caption</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apptail</code></td>
<td>
<p>a character string to add to end of automatic caption for appendix table with listing of subject IDs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>height of 2-panel graph</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>width of 2-panel graph</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hc</code></td>
<td>
<p>height of cumulative exclusion 1-panel graph</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wc</code></td>
<td>
<p>width of this 1-panel graph</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjustwidth</code></td>
<td>
<p>used to allow wide detailed exclusion table to go into left margin in order to be centered on the physical page.  The default is <code>'-0.75in'</code>, which works well when using article document class with default page width.  To use the geometry package in LaTeX with margin=.45in specify <code>adjustwidth='+.90in'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>set to <code>TRUE</code> if adding to an existing sub-report</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>popts</code></td>
<td>
<p>a list of options to pass to graphing functions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>app</code></td>
<td>
<p>set to <code>FALSE</code> to prevent writing appendix information</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>With input being a series of essentially binary variables with positive indicating that a subject is excluded for a specific reason, orders the reasons so that the first excludes the highest number of subjects, the second excludes the highest number of remaining subjects, and so on.  If a randomization status variable is present, actually randomized (properly or not) subjects are excluded from counts of exclusions.  First draws a single vertical axis graph showing cumulative exclusions, then creates a 2-panel dot chart with the first panel showing that information, along with the marginal frequencies of exclusions and the second showing the number of subjects remaining in the study after the sequential exclusions.  A pop-up table is created showing those quantities plus fractions.  There is an option to not sort by descending exclusion frequencies but instead to use the original variable order.  Assumes that any factor variable exclusions that have only one level and that level indicates a positive finding, that variable has a denominator equal to the overall number of subjects.
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class="language-R"># See test.Rnw in tests directory
</code></pre>


</div>