<div class="container">

<table style="width: 100%;"><tr>
<td>getReStruc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate random effect structure
Calculates number of random effects, number of parameters,
block size and number of blocks.  Mostly for internal use.</h2>

<h3>Description</h3>

<p>Calculate random effect structure
Calculates number of random effects, number of parameters,
block size and number of blocks.  Mostly for internal use.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getReStruc(reTrms, ss = NULL, aa = NULL, reXterms = NULL, fr = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>reTrms</code></td>
<td>
<p>random-effects terms list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ss</code></td>
<td>
<p>a vector of character strings indicating a valid covariance structure (one for each RE term).
Must be one of <code>names(glmmTMB:::.valid_covstruct)</code>;
default is to use an unstructured  variance-covariance
matrix (<code>"us"</code>) for all blocks).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aa</code></td>
<td>
<p>additional arguments (i.e. rank, or var-cov matrix)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reXterms</code></td>
<td>
<p>terms objects corresponding to each RE term</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fr</code></td>
<td>
<p>model frame</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list
</p>
<table>
<tr style="vertical-align: top;">
<td><code>blockNumTheta</code></td>
<td>
<p>number of variance covariance parameters per term</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blockSize</code></td>
<td>
<p>size (dimension) of one block</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blockReps</code></td>
<td>
<p>number of times the blocks are repeated (levels)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covCode</code></td>
<td>
<p>structure code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simCode</code></td>
<td>
<p>simulation code; should we "zero" (set to zero/ignore), "fix" (set to existing parameter values), "random" (draw new random deviations)?</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">data(sleepstudy, package="lme4")
rt &lt;- lme4::lFormula(Reaction~Days+(1|Subject)+(0+Days|Subject),
                    sleepstudy)$reTrms
rt2 &lt;- lme4::lFormula(Reaction~Days+(Days|Subject),
                    sleepstudy)$reTrms
getReStruc(rt)
getReStruc(rt2)
</code></pre>


</div>