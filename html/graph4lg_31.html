<div class="container">

<table style="width: 100%;"><tr>
<td>graphab_capacity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Computes custom capacities of patches in the Graphab project</h2>

<h3>Description</h3>

<p>The function computes custom capacities of patches
in the Graphab project
</p>


<h3>Usage</h3>

<pre><code class="language-R">graphab_capacity(
  proj_name,
  mode = "area",
  patch_codes = NULL,
  exp = NULL,
  ext_file = NULL,
  thr = NULL,
  linkset = NULL,
  codes = NULL,
  cost_conv = FALSE,
  weight = FALSE,
  proj_path = NULL,
  alloc_ram = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>proj_name</code></td>
<td>
<p>A character string indicating the Graphab project name.
The project name is also the name of the project directory in which the
file proj_name.xml is. It can be created with <code>graphab_project</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>A character string indicating the way capacities are
computed. It must be either:</p>

<ul>
<li>
<p><code>mode='area'</code>(default): The capacity of the patches is computed
as the area of each habitat patch. The argument <code>exp</code> makes it
possible to raise area to a power given by an exposant.
</p>
</li>
<li>
<p><code>mode='ext_file'</code>: The capacity of the patches is given by an
external .csv file. See argument <code>ext_file</code> below.
</p>
</li>
<li>
<p><code>mode='neigh'</code>: The capacity is computed depending on the
neighbouring raster cells from each habitat patch. The number of cells
with a value given by <code>codes</code> argument is summed up to the
distance <code>thr</code>. This number can be weighted according to the
<code>weight</code> argument.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>patch_codes</code></td>
<td>
<p>(optional, default=NULL) An integer value or vector
specifying the codes corresponding to the habitat pixel whose corresponding
patches are included to compute the capacity as the area of the habitat
when <code>mode='area'</code>. Patches corresponding to other initial habitat
codes are weighted by 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exp</code></td>
<td>
<p>An integer value specifying the power to which patch area are
raised when <code>mode='area'</code>. When not specified, <code>exp=1</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ext_file</code></td>
<td>
<p>A character string specifying the name of the .csv file in
which patch capacities are stored. It must be located either in the working
directory or in the directory defined by <code>proj_path</code>. It must have
as many rows as there are patches in the project and its column names
must include 'Id' and 'Capacity'. The 'Id' column must correspond to the
patch ID in the 'patches' layer (see <code>get_graphab_metric</code>).
The 'Capacity' column must contain the corresponding patch capacities to
assign each patch.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thr</code></td>
<td>
<p>(optional, default=NULL) An integer or numeric value indicating
the maximum distance in cost distance units (except when
<code>cost_conv = TRUE</code>) at which cells are considered for computing the
capacity when <code>mode='neigh'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linkset</code></td>
<td>
<p>(optional, default=NULL) A character string indicating the
name of the link set used to take distance into account when computing
the capacity. Only used when <code>mode='neigh'</code>. Link sets can be
created with <code>graphab_link</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>codes</code></td>
<td>
<p>An integer value or a vector of integer values specifying the
codes of the raster cells taken into account when computing the capacity in
the neighbourhood of the patches, when <code>mode='neigh'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cost_conv</code></td>
<td>
<p>FALSE (default) or TRUE. Logical indicating whether numeric
<code>thr</code> values are converted from cost-distance into Euclidean distance
using a log-log linear regression. See also <code>convert_cd</code>
function. Only used when <code>mode='neigh'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>A logical indicating whether the cells are weighted by a
weight decreasing with the distance from the patches (TRUE) or not (FALSE).
The weights follow a negative exponential decline such that
wi = exp(-alpha*di), where wi is the weight of cell i, di its distance from
the patch and alpha a parameter determined such that wi = 0.05 when di = thr.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proj_path</code></td>
<td>
<p>(optional) A character string indicating the path to the
directory that contains the project directory. It should be used when the
project directory is not in the current working directory. Default is NULL.
When 'proj_path = NULL', the project directory is equal to <code>getwd()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alloc_ram</code></td>
<td>
<p>(optional, default = NULL) Integer or numeric value
indicating RAM gigabytes allocated to the java process. Increasing this
value can speed up the computations. Too large values may not be compatible
with your machine settings.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See more information in Graphab 2.8 manual:
<a href="https://sourcesup.renater.fr/www/graphab/download/manual-2.8-en.pdf">https://sourcesup.renater.fr/www/graphab/download/manual-2.8-en.pdf</a>
Be careful, when capacity has been changed. The last changes are taken into
account for subsequent calculations in a project.
</p>


<h3>Author(s)</h3>

<p>P. Savary
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
graphab_capacity(proj_name = "grphb_ex",
                 mode = "area")

## End(Not run)
</code></pre>


</div>