<div class="container">

<table style="width: 100%;"><tr>
<td>gl_connection</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Connect to a specific GitLab instance API</h2>

<h3>Description</h3>

<p>Creates a function that can be used to issue requests to the specified
GitLab API instance with the specified user private token and (for <code>gl_project_connection</code>)
only to a specified project.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gl_connection(
  gitlab_url,
  private_token,
  api_version = 4,
  api_location = paste0("/api/v", api_version, "/")
)

gl_project_connection(
  gitlab_url,
  project,
  private_token,
  api_version = 4,
  api_location = paste0("/api/v", api_version, "/")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gitlab_url</code></td>
<td>
<p>URL to the GitLab instance
(e.g. <code style="white-space: pre;">⁠https://gitlab.myserver.com⁠</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>private_token</code></td>
<td>
<p>private_token with which to identify.
You can generate one in the web interface under
<code style="white-space: pre;">⁠GITLABINSTANCEURL/-/profile/personal_access_tokens.html⁠</code> when logged on.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_version</code></td>
<td>
<p>Currently "4" for the latest GitLab API version.
See Details section on API versions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_location</code></td>
<td>
<p>location of the GitLab API under the <code>gitlab_url</code>,
usually and by default "/api/&lt;&lt;api_version&gt;&gt;/"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>project</code></td>
<td>
<p>id (preferred way) or name of the project.
Not repository name.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The returned function should serve as the primary way to access the GitLab
API in the following. It can take vector/character arguments in the same way
as the function <code>gitlab()</code> does, as well as the convenience functions
provided by this package or written by the user. If it is passed such that
function it calls it with the arguments provided in <code>...</code> and the GitLab
URL, api location and private_token provided when creating it via <code>gl_connection</code>.
</p>
<p>Note: currently GitLab API v4 is supported. GitLab API v3 is no longer supported, but
you can give it a try.
</p>


<h3>Value</h3>

<p>A function to access a specific GitLab API
as a specific user, see details
</p>


<h3>API versions</h3>

<p>"v4" is the standard API since GitLab version 9.0
and only this version is officially supported by
'gitlabr' since version 1.1.6. "v3" as a parameter value
is not removed, since for many instances, 'gitlabr'
code will still work if you try.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Set the connection for the session
set_gitlab_connection("https://gitlab.com", private_token = Sys.getenv("GITLAB_COM_TOKEN"))
# Get list of projects
gl_list_projects(max_page = 1)
# Unset the connection for the session
unset_gitlab_connection()

# Set connection for a specific project
my_project &lt;- gl_project_connection(
  gitlab_url = "https://gitlab.com",
  project = 1234,
  private_token = Sys.getenv("GITLAB_COM_TOKEN")
)
# List files of a project
my_project_list_files &lt;- my_project(gl_list_files, max_page = 1)

## End(Not run)

</code></pre>


</div>