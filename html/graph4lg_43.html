<div class="container">

<table style="width: 100%;"><tr>
<td>graph_node_compar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare the local properties of the nodes from two graphs</h2>

<h3>Description</h3>

<p>The function computes a correlation coefficient between the
graph-theoretic metric values computed at the node-level in two graphs
sharing the same nodes. It allows to assess whether the connectivity
properties of the nodes in one graph are similar to that of the same nodes
in the other graph. Alternatively, the correlation is computed between
a graph-theoretic metric values and the values of an attribute associated
to the nodes of a graph.
</p>


<h3>Usage</h3>

<pre><code class="language-R">graph_node_compar(
  x,
  y,
  metrics = c("siw", "siw"),
  method = "spearman",
  weight = TRUE,
  test = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>igraph</code>.
Its nodes must have the same names as in graph <code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>An object of class <code>igraph</code>.
Its nodes must have the same names as in graph <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metrics</code></td>
<td>
<p>Two-element character vector specifying the graph-theoretic
metrics computed at the node-level in the graphs or the node attribute
values to be correlated to these metrics.
Graph-theoretic metrics can be:
</p>

<ul>
<li>
<p>Degree (<code>metrics = c("deg", ...)</code>)
</p>
</li>
<li>
<p>Closeness centrality index (<code>metrics = c("close",...)</code>)
</p>
</li>
<li>
<p>Betweenness centrality index (<code>metrics = c("btw",...)</code>)
</p>
</li>
<li>
<p>Strength (sum of the weights of the links connected to a node)
(<code>metrics = c("str",...)</code>)
</p>
</li>
<li>
<p>Sum of the inverse weights of the links connected to a
node (<code>metrics = c("siw", ...)</code>, default)
</p>
</li>
<li>
<p>Mean of the inverse weights of the links connected to a
node (<code>metrics = c("miw", ...)</code>)
</p>
</li>
</ul>
<p>Node attributes must have the same names as in the <code>igraph</code> object,
and must refer to an attribute with numerical values.
The vector <code>metrics</code> is composed of two character values.
When a node attribute has the same name as a metric computable from the
graph, node attributes are given priority.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A character string indicating which correlation coefficient
is to be computed (<code>"pearson"</code>, <code>"kendall"</code> or
<code>"spearman"</code> (default)).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>Logical which indicates whether the links are weighted during
the calculation of the centrality indices betweenness and closeness.
(default: <code>weight = TRUE</code>). Link weights are interpreted as distances
when computing the shortest paths. They should then be inversely proportional
to the strength of the relationship between nodes (e.g. to fluxes).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>Logical. Should significance testing be performed?
(default = TRUE)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The correlation coefficients between the metrics can be computed
in different ways, as initial assumptions (e.g. linear relationship) are
rarely verified. Pearson's r, Spearman's rho and Kendall's tau can be
computed (from function <code>cor</code>).
When <code>x</code> is similar to <code>y</code>, then the correlation is computed
between two metrics characterizing the nodes of the same graph.
</p>


<h3>Value</h3>

<p>A <code>list</code> summarizing the correlation analysis.
</p>


<h3>Author(s)</h3>

<p>P. Savary
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(data_ex_genind)
data(pts_pop_ex)
mat_dist &lt;- suppressWarnings(graph4lg::mat_geo_dist(data = pts_pop_ex,
      ID = "ID",
      x = "x",
      y = "y"))
mat_dist &lt;- mat_dist[order(as.character(row.names(mat_dist))),
                      order(as.character(colnames(mat_dist)))]
graph_obs &lt;- gen_graph_thr(mat_w = mat_dist, mat_thr = mat_dist,
                           thr = 9500, mode = "larger")
mat_gen &lt;- mat_gen_dist(x = data_ex_genind, dist = "DPS")
graph_pred &lt;- gen_graph_topo(mat_w = mat_gen, mat_topo = mat_dist,
                            topo = "gabriel")
res_cor &lt;- graph_node_compar(x = graph_obs, y = graph_pred,
                             metrics = c("siw", "siw"), method = "spearman",
                             test = TRUE, weight = TRUE)
</code></pre>


</div>