<div class="container">

<table style="width: 100%;"><tr>
<td>gkmsvm_trainCV</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Training the SVM model, using repeated CV to tune parameter C and plot ROC curves</h2>

<h3>Description</h3>

<p>Using the kernel matrix created by 'gkmsvm_kernel', this function trains the SVM classifier. 
It uses repeated CV to find optimum SVM parameter C. Also generates ROC and PRC curves.</p>


<h3>Usage</h3>

<pre><code class="language-R">gkmsvm_trainCV(kernelfn, posfn, negfn, svmfnprfx=NA, 
  nCV=5, nrepeat=1, cv=NA, Type="C-svc", C=1, shrinking=FALSE, 
  showPlots=TRUE, outputPDFfn=NA,  outputCVpredfn=NA, outputROCfn=NA, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>kernelfn</code></td>
<td>
<p>kernel matrix file name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posfn</code></td>
<td>
<p>positive sequences file name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>negfn</code></td>
<td>
<p>negative sequences file name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svmfnprfx</code></td>
<td>
<p>(optional) output SVM model file name prefix </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nCV</code></td>
<td>
<p>(optional) number of CV folds</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrepeat</code></td>
<td>
<p>(optional) number of repeated CVs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv</code></td>
<td>
<p>(optional) CV group label. An array of length (npos+nneg), containing CV group number (between 1 an nCV) for each sequence</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Type</code></td>
<td>
<p>(optional) SVM type (default='C-svc'), see 'kernlab' documentation for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>C</code></td>
<td>
<p>(optional)a vector of all values of C (SVM parameter) to be tested. (default=1), see 'kernlab' documentation for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shrinking</code></td>
<td>
<p>optional: shrinking parameter for kernlab (default=FALSE), see 'kernlab' documentation for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showPlots</code></td>
<td>
<p>generate plots (default==TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputPDFfn</code></td>
<td>
<p>filename for output PDF, default=NA (no PDF output)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputCVpredfn</code></td>
<td>
<p>filename for output cvpred (predicted CV values), default=NA (no output)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputROCfn</code></td>
<td>
<p>filename for output auROC (Area Under an ROC Curve) and auPRC (Area Under the Precision Recall Curve) values, default=NA (no output)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional: additional SVM parameters, see 'kernlab' documentation for more details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Trains SVM classifier and generates two files: [svmfnprfx]_svalpha.out for SVM alphas and the other for the corresponding SV sequences ([svmfnprfx]_svseq.fa) </p>


<h3>Author(s)</h3>

<p>Mahmoud Ghandi</p>


<h3>Examples</h3>

<pre><code class="language-R">  #Input file names:  
  posfn= 'test_positives.fa'   #positive set (FASTA format)
  negfn= 'test_negatives.fa'   #negative set (FASTA format)
  testfn= 'test_testset.fa'    #test set (FASTA format)
  
  #Output file names:  
  kernelfn= 'test_kernel.txt' #kernel matrix
  svmfnprfx= 'test_svmtrain'  #SVM files 
  outfn =   'output.txt'      #output scores for sequences in the test set       

#  gkmsvm_kernel(posfn, negfn, kernelfn);                #computes kernel 
#  cvres = gkmsvm_trainCV(kernelfn,posfn, negfn, svmfnprfx, 
#      outputPDFfn='ROC.pdf', outputCVpredfn='cvpred.out');    
#      #trains SVM, plots ROC and PRC curves, and outputs model predictions.
#  gkmsvm_classify(testfn, svmfnprfx, outfn);            #scores test sequences 
</code></pre>


</div>