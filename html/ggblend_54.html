<div class="container">

<table style="width: 100%;"><tr>
<td>operation-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Layer operations</h2>

<h3>Description</h3>

<p>Layer operations are composable transformations that can be applied to <span class="pkg">ggplot2</span>
layer-like objects, such as <code>stat</code>s, <code>geom</code>s, and lists of <code>stat</code>s and
<code>geom</code>s; see the layer-like documentation page for a description of valid
layer-like objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'operation'
show(object)

## S4 method for signature 'operation'
format(x, ...)

## S4 method for signature 'adjust'
format(x, ...)

## S4 method for signature 'affine_transform'
format(x, ...)

## S4 method for signature 'blend'
format(x, ...)

## S4 method for signature 'operation_composition'
format(x, ...)

## S4 method for signature 'nop'
format(x, ...)

## S4 method for signature 'operation_product'
format(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, object</code></td>
<td>
<p>An operation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>operations can be composed using the <code>+</code> and <code>*</code> operators (see operation_sum
and operation_product). Addition and multiplication of operations and layer-like
objects obeys the distributive law.
</p>
<p>operations can be applied to layer-like objects using <code>*</code> or <code style="white-space: pre;">⁠|&gt;⁠</code>, with slightly
different results:
</p>

<ul>
<li>
<p> Using <code>*</code>, application of operations to a list of layer-like objects <em>is</em> distributive. For example,
<code>list(geom_line(), geom_point()) * blend("multiply")</code> is
equivalent to <code>list(geom_line() * blend("multiply"), geom_point() * blend("multiply"))</code>;
i.e. it multiply-blends the contents of the two layers individually.
</p>
</li>
<li>
<p> Using <code style="white-space: pre;">⁠|&gt;⁠</code>, application of operations to a list of layer-like objects is <em>not</em>
distributive (unless the only reasonable interpretation of applying the
transformation is necessarily distributive; e.g. <code>adjust()</code>). For example,
<code>list(geom_line(), geom_point()) |&gt; blend("multiply")</code> would multiply-blend
both layers together, rather than multiply-blending the contents of the
two layers individually.
</p>
</li>
</ul>
<h3>Value</h3>

<p>For <code>show()</code>, an <code>invisible()</code> copy of the input.
</p>
<p>For <code>format()</code>, a character string representing the input.
</p>


<h3>Methods (by generic)</h3>


<ul>
<li> <p><code>show(operation)</code>: Print an operation.
</p>
</li>
<li> <p><code>format(operation)</code>: Format an operation for printing.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">library(ggplot2)

# operations can stand alone
adjust(aes(color = x))

# they can also be applied to layers through multiplication or piping
geom_line() |&gt; adjust(aes(color = x))
geom_line() * adjust(aes(color = x))

# layer operations act as a small algebra, and can be combined through
# multiplication and addition
(adjust(fill = "green") + 1) * blend("multiply")

</code></pre>


</div>