<div class="container">

<table style="width: 100%;"><tr>
<td>compare_daa_results</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare the Consistency of Statistically Significant Features</h2>

<h3>Description</h3>

<p>This function compares the consistency and inconsistency of statistically significant features obtained
using different methods in 'pathway_daa' from the 'ggpicrust2' package. It creates a report showing the number of common and
different features identified by each method, and the features themselves.
</p>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>daa_results_list</code></td>
<td>
<p>A list of data frames containing statistically significant features obtained using different methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method_names</code></td>
<td>
<p>A character vector of names for each method used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_values_threshold</code></td>
<td>
<p>A numeric value representing the threshold for the p-values. Features with p-values less than this
threshold are considered statistically significant. Default is 0.05.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame with the comparison results. The data frame has the following columns:
</p>

<ul>
<li> <p><code>method</code>: The name of the method.
</p>
</li>
<li> <p><code>num_features</code>: The total number of statistically significant features obtained by the method.
</p>
</li>
<li> <p><code>num_common_features</code>: The number of features that are common to other methods.
</p>
</li>
<li> <p><code>num_diff_features</code>: The number of features that are different from other methods.
</p>
</li>
<li> <p><code>diff_features</code>: The names of the features that are different from other methods.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
library(magrittr)
library(ggpicrust2)
library(tibble)
data("metacyc_abundance")
data("metadata")

# Run pathway_daa function for multiple methods
methods &lt;- c("DESeq2", "edgeR","Maaslin2")
daa_results_list &lt;- lapply(methods, function(method) {
pathway_daa(abundance = metacyc_abundance %&gt;% column_to_rownames("pathway"),
metadata = metadata, group = "Environment", daa_method = method)
})

names(daa_results_list) &lt;- methods
# Correct Maaslin2 feature names by replacing dots with hyphens.
# Note: When using Maaslin2 as the differential abundance analysis method,
# it modifies the original feature names by replacing hyphens (-) with dots (.).
# This replacement can cause inconsistencies when trying to compare results from Maaslin2
# with those from other methods that do not modify feature names.
# Therefore, this line of code reverses that replacement, converting the dots back into
# hyphens for accurate and consistent comparisons across different methods.
daa_results_list[["Maaslin2"]]$feature &lt;- gsub("\\.", "-", daa_results_list[["Maaslin2"]]$feature)

# Compare results across different methods
comparison_results &lt;- compare_daa_results(daa_results_list = daa_results_list,
method_names = c("DESeq2", "edgeR", "Maaslin2"))

</code></pre>


</div>