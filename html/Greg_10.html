<div class="container">

<table style="width: 100%;"><tr>
<td>forestplotCombineRegrObj</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compares different scores in different regression objects.</h2>

<h3>Description</h3>

<p>Creates a composite from different regression objects into
one forestplot where you can choose the variables of interest
to get an overview and easier comparison.
</p>


<h3>Usage</h3>

<pre><code class="language-R">forestplotCombineRegrObj(
  regr.obj,
  variablesOfInterest.regexp = NULL,
  estimate.txt = NULL,
  add_first_as_ref = FALSE,
  ref_txt = "ref.",
  digits = 1,
  post_process_data = function(x) x,
  is.summary = NULL,
  xlab = NULL,
  zero = NULL,
  xlog = NULL,
  exp = xlog,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>regr.obj</code></td>
<td>
<p>A list with all the fits that have variables that are to
be identified through the regular expression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variablesOfInterest.regexp</code></td>
<td>
<p>A regular expression identifying the variables
that are of interest of comparing. For instance it can be "(score|index|measure)"
that finds scores in different models that should be compared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate.txt</code></td>
<td>
<p>The text of the estimate, usually HR for hazard ratio, OR for
odds ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_first_as_ref</code></td>
<td>
<p>If you want that the first variable should be reference for
that group of variables. The ref is a variable with the estimate 1 or 0 depending
if exp() and the confidence interval 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_txt</code></td>
<td>
<p>Text instead of estimate number</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Number of digits to use for the estimate output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>post_process_data</code></td>
<td>
<p>A function that takes the data frame just prior to calling 'forestplot'
and allows you to manipulate it. Primarily used for changing the 'column_label'
that has the names shown in the final plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is.summary</code></td>
<td>
<p>A vector indicating by <code>TRUE</code>/<code>FALSE</code> if
the value is a summary value which means that it will have a different
font-style</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>x-axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero</code></td>
<td>
<p>Indicates what is zero effect. For survival/logistic fits the zero is
1 while in most other cases it's 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlog</code></td>
<td>
<p>If TRUE, x-axis tick marks are to follow a logarithmic scale, e.g. for
logistic regression (OR), survival estimates (HR), Poisson regression etc.
<em>Note:</em> This is an intentional break with the original <code>forestplot</code>
function as I've found that exponentiated ticks/clips/zero effect are more
difficult to for non-statisticians and there are sometimes issues with rounding
the tick marks properly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exp</code></td>
<td>
<p>Report in exponential form. Default true since the function was built for
use with survival models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed to <code>forestplot()</code></p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Other forestplot wrappers: 
<code>forestplotRegrObj()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">org.par &lt;- par("ask" = TRUE)

# simulated data to test
library(tidyverse)
set.seed(10)
cov &lt;- tibble(ftime = rexp(200),
              fstatus = sample(0:1, 200, replace = TRUE),
              x1 = runif(200),
              x2 = runif(200),
              x3 = runif(200)) |&gt; 
  # Add some column labels
  Gmisc::set_column_labels(x1 = "First variable",
                           x2 = "Second variable")

library(rms)
ddist &lt;- datadist(cov)
options(datadist = "ddist")

fit1 &lt;- cph(Surv(ftime, fstatus) ~ x1 + x2, data = cov)
fit2 &lt;- cph(Surv(ftime, fstatus) ~ x1 + x3, data = cov)

list(`First model` = fit1, 
     `Second model` = fit2) |&gt; 
  forestplotCombineRegrObj(variablesOfInterest.regexp = "(x2|x3)") |&gt; 
  fp_set_style(lines = "steelblue",
               box = "darkblue")

# How to add expressions to the plot label
list(fit1, fit2) |&gt; 
  forestplotCombineRegrObj(variablesOfInterest.regexp = "(x2|x3)",
                           reference.names = c("First model", "Second model"),
                           post_process_data = \(data) {
                             data$column_label[4] &lt;- c(rlang::expr(expression(Fever &gt;= 38.5)))
                             return(data)
                           })

par(org.par)
</code></pre>


</div>