<div class="container">

<table style="width: 100%;"><tr>
<td>handle_brush</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Handle brush events on a visualisation.</h2>

<h3>Description</h3>

<p>Currently for brush events to be triggered on a visualisation, you must
use a <code>.brush</code> property. This limitation will be lifted in the future.
</p>


<h3>Usage</h3>

<pre><code class="language-R">handle_brush(vis, on_move = NULL, fill = "black")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vis</code></td>
<td>
<p>Visualisation to listen to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on_move</code></td>
<td>
<p>Callback function with arguments:
</p>

<dl>
<dt>items</dt>
<dd>
<p>A data frame containing information about the items
under the plot. An empty data.frame if no points under the brush.</p>
</dd>
<dt>page_loc</dt>
<dd>
<p>Location of the brush with repsect to the page</p>
</dd>
<dt>plot_loc</dt>
<dd>
<p>Location of the brush with respect to the plot</p>
</dd>
<dt>session</dt>
<dd>
<p>The session, used to communicate with the browser</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>Colour of the brush.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># Display tooltip when objects are brushed
mtcars %&gt;%
  ggvis(x = ~wt, y = ~mpg, size.brush := 400) %&gt;%
  layer_points() %&gt;%
  handle_brush(function(items, page_loc, session, ...) {
    show_tooltip(session, page_loc$r + 5, page_loc$t, html = nrow(items))
  })
</code></pre>


</div>