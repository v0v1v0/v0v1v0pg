<div class="container">

<table style="width: 100%;"><tr>
<td>gcs_auth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Authenticate with Google Cloud Storage API</h2>

<h3>Description</h3>

<p>Authenticate with Google Cloud Storage API
</p>


<h3>Usage</h3>

<pre><code class="language-R">gcs_auth(json_file = NULL, token = NULL, email = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>json_file</code></td>
<td>
<p>Authentication json file you have downloaded from your Google Project</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>An existing authentication token you may have by other means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>email</code></td>
<td>
<p>The email to default authenticate through</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The best way to authenticate is to use an environment argument pointing at your authentication file, making this function unnecessary.
</p>
<p>Set the file location of your download Google Project JSON file in a <code>GCS_AUTH_FILE</code> argument
</p>
<p>Then, when you load the library you should auto-authenticate
</p>
<p>However, you can authenticate directly using this function pointing at your JSON auth file.  You will still need the two JSON files - the client JSON and the authentication key JSON.  gcs_setup can help set-up the latter, the client JSON you will need to download from your Google Cloud Project.
</p>
<p>If using JSON files from another source, ensure it has either <code>"https://www.googleapis.com/auth/devstorage.full_control" or "https://www.googleapis.com/auth/cloud-platform"</code> scopes.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
# on first run, generate a auth key via gcs_setup()

# the json file for the auth key you are using
library(googleCloudStorageR)
gcs_auth("location_of_json_file.json")

#' # to use your own Google Cloud Project credentials
# go to GCP console and download client credentials JSON 
# ideally set this in .Renviron file, not here but just for demonstration
Sys.setenv("GAR_CLIENT_JSON" = "location/of/file.json")
library(googleCloudStorageR)
# should now be able to log in via your own GCP project
gcs_auth()

# reauthentication
# Once you have authenticated, set email to skip the interactive message
gcs_auth(email = "my@email.com")

# or leave unset to bring up menu on which email to auth with
gcs_auth()
# The googleCLoudStorageR package is requesting access to your Google account. 
# Select a pre-authorised account or enter '0' to obtain a new token.
# Press Esc/Ctrl + C to abort.
#1: my@email.com
#2: work@mybusiness.com
# you can set authentication for many emails, then switch between them e.g.
gcs_auth(email = "my@email.com")
gcs_list_buckets("my-project") # lists what buckets you have access to
gcs_auth(email = "work@mybusiness.com") 
gcs_list_buckets("my-project") # lists second set of buckets


## End(Not run)
</code></pre>


</div>