<div class="container">

<table style="width: 100%;"><tr>
<td>get_dfp_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Downloads and reads DFP datasets</h2>

<h3>Description</h3>

<p>The DFP (demonstrativos financeiros padronizados) is the annual reporting system of companies
traded at B3. This function will access the CVM ftp and parse all available files according to user
choices
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_dfp_data(
  companies_cvm_codes = NULL,
  first_year = 2010,
  last_year = lubridate::year(Sys.Date()),
  type_docs = c("BPA", "BPP", "DRE"),
  type_format = c("con", "ind"),
  clean_data = TRUE,
  use_memoise = FALSE,
  cache_folder = "gdfpd2_cache",
  do_shiny_progress = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>companies_cvm_codes</code></td>
<td>
<p>Numeric CVM code  of companies. IF set to NULL (default), will return data for all available companies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>first_year</code></td>
<td>
<p>First year of selected data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>last_year</code></td>
<td>
<p>Last year of selected data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type_docs</code></td>
<td>
<p>Type of financial documents. E.g. c('DRE', 'BPA'). Definitions: '*' = fetch all docs,  'BPA' = Assets (ativos),
'BPP' = Liabilities (passivo),
'DRE' = income statement (demonstrativo de resultados),
'DFC_MD' = cash flow by direct method (fluxo de caixa pelo metodo direto),
'DFC_MI' = cash flow by indirect method (fluxo de caixa pelo metodo indireto),
'DMPL' = statement of changes in equity (mutacoes do patrimonio liquido),
'DVA' = value added report (desmonstrativo de valor agregado)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type_format</code></td>
<td>
<p>Type of format of document (con = consolidated, ind = individual). Default = c('con', 'ind')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean_data</code></td>
<td>
<p>Clean data or return raw data? See read_dfp|itr_csv() for details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_memoise</code></td>
<td>
<p>Use memoise caching? If no (default), the function will read all .csv files. If yes, will use package
memoise for caching results (execution speed increases significantly)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache_folder</code></td>
<td>
<p>Path of cache folder to keep memoise and zip files</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do_shiny_progress</code></td>
<td>
<p>Whether to use shiny progress indicator (default = FALSE)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of tibbles containing all requested financial data. Each element of the list is a table from DFP.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
df_dfp &lt;- get_dfp_data(companies_cvm_codes = NULL)

## End(Not run)
</code></pre>


</div>