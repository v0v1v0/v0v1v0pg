<div class="container">

<table style="width: 100%;"><tr>
<td>runs_info</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get runs information</h2>

<h3>Description</h3>

<p>Returns a dataframe with information about the guild runs stored in guild
home. Guild home is determined either by consulting the env var
<code>Sys.getenv("GUILD_HOME")</code>, or if unset, by looking for a <code>.guild</code>
directory, starting from the current working directory and walking up
parent directories up to <code>~</code> or <code>/</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">runs_info(
  runs = NULL,
  ...,
  filter = NULL,
  operation = NULL,
  label = NULL,
  unlabeled = NA,
  tag = NULL,
  comment = NULL,
  marked = NA,
  unmarked = NA,
  started = NULL,
  digest = NULL,
  running = NA,
  completed = NA,
  error = NA,
  terminated = NA,
  pending = NA,
  staged = NA,
  deleted = NA,
  include_batch = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>runs</code></td>
<td>
<p>a runs specification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed on to <code>guild</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>(character vector) Filter runs using a guild filter expression. See details section.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>operation</code></td>
<td>
<p>(character vector) Filter runs with matching <code>operation</code>s. A run is
only included if any part of its full operation name matches the value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>(character vector) Filter runs with matching labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unlabeled</code></td>
<td>
<p>(bool) Filter only runs without labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tag</code></td>
<td>
<p>(character vector) Filter runs with <code>tag</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comment</code></td>
<td>
<p>(character vector) Filter runs with comments matching.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marked</code></td>
<td>
<p>(bool) Filter only marked runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unmarked</code></td>
<td>
<p>(bool) Filter only unmarked runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>started</code></td>
<td>
<p>(string) Filter only runs started within RANGE. See details for valid time ranges.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digest</code></td>
<td>
<p>(string) Filter only runs with a matching source code digest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>running</code></td>
<td>
<p>(bool) Filter only runs that are still running.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>completed</code></td>
<td>
<p>(bool) Filter only completed runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error</code></td>
<td>
<p>(bool) Filter only runs that exited with an error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>terminated</code></td>
<td>
<p>(bool) Filter only runs terminated by the user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pending</code></td>
<td>
<p>(bool) Filter only pending runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>staged</code></td>
<td>
<p>(bool) Filter only staged runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deleted</code></td>
<td>
<p>(bool) Show deleted runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_batch</code></td>
<td>
<p>(bool) Include batch runs.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Guild has support for a custom filter expression syntax. This syntax is
primarily useful in the terminal, and R users will generally prefer to
filter the returned dataframe directly using <code>dplyr::filter()</code> or <code>[</code>.
Nevertheless, R users can supply guild filter expressions here as well.
</p>


<h4>Filter by Expression</h4>

<p>Use <code>filter</code> to limit runs that match a filter
expressions. Filter expressions compare run attributes, flag
values, or scalars to target values. They may include multiple
expressions with logical operators.
</p>
<p>For example, to match runs with flag <code>batch-size</code> equal to 100
that have <code>loss</code> less than 0.8, use:
</p>
<div class="sourceCode"><pre>runs_info(filter = "batch-size = 10 and loss &lt; 0.8")
</pre></div>
<p>Target values may be numbers, strings or lists containing numbers
and strings. Lists are defined
using square braces where each item is separated by a comma.
</p>
<p>Comparisons may use the following operators:
'=', '!=', '&lt;', '&lt;=', '&gt;', '&gt;='.
</p>
<p>Text comparisons may use 'contains' to test
for case-insensitive string membership. A value may be tested for
membership or not in a list using 'in' or 'not in'
respectively. An value may be tested for undefined using 'is
undefined' or defined using 'is not undefined'.
</p>
<p>Logical operators include 'or' and 'and'. An expression may be
negated by preceding it with 'not'. Parentheses may be used to
control the order of precedence when expressions are evaluated.
</p>
<p>If a value reference matches more than one type of run information
(e.g. a flag is named 'label', which is also a run attribute), the
value is read in order of run attribute, then flag value, then
scalar. To disambiguate the reference, use a prefix <code style="white-space: pre;">⁠attr:⁠</code>,
<code style="white-space: pre;">⁠flag:⁠</code>, or <code style="white-space: pre;">⁠scalar:⁠</code> as needed. For example, to filter using a
flag value named 'label', use 'flag:label'.
</p>
<p>Other examples:
</p>
<div class="sourceCode"><pre>"operation = train and acc &gt; 0.9"
"operation = train and (acc &gt; 0.9 or loss &lt; 0.3)"
"batch-size = 100 or batch-size = 200"
"batch-size in [100,200]"
"batch-size not in [400,800]"
"batch-size is undefined"
"batch-size is not undefined"
"label contains best and operation not in [test,deploy]"
"status in [error,terminated]"
</pre></div>
<p><strong>NOTE:</strong> Comments and tags are not supported in filter
expressions at this time. Use <code>comment</code> and <code>tag</code> options
along with filter expressions to further refine a selection.
</p>



<h4>Filter by Run Start Time</h4>

<p>Use <code>started</code> to limit runs to those that have started within a
specified time range.
</p>
<div class="sourceCode"><pre>runs_info(started = 'last hour')
</pre></div>
<p>You can specify a time range using several different forms:
</p>
<div class="sourceCode"><pre>"after DATETIME"
"before DATETIME"
"between DATETIME and DATETIME"
"last N minutes|hours|days"
"today|yesterday"
"this week|month|year"
"last week|month|year"
"N days|weeks|months|years ago"
</pre></div>
<p><code>DATETIME</code> may be specified as a date in the format <code>YY-MM-DD</code>
(the leading <code style="white-space: pre;">⁠YY-⁠</code> may be omitted) or as a time in the format
<code>HH:MM</code> (24 hour clock). A date and time may be specified
together as <code style="white-space: pre;">⁠DATE TIME⁠</code>.
</p>
<p>When using <code style="white-space: pre;">⁠between DATETIME and DATETIME⁠</code>, values for
<code>DATETIME</code> may be specified in either order.
</p>
<p>When specifying values like <code>minutes</code> and <code>hours</code> the trailing
<code>s</code> may be omitted to improve readability. You may also use
<code>min</code> instead of <code>minutes</code> and <code>hr</code> instead of <code>hours</code>.
</p>
<p>Examples:
</p>
<div class="sourceCode"><pre>"after 7-1"
"after 9:00"
"between 1-1 and 4-30"
"between 10:00 and 15:00"
"last 30 min"
"last 6 hours"
"today"
"this week"
"last month"
"3 weeks ago"
</pre></div>



<h4>Filter by Run Status</h4>

<p>Runs may also be filtered by specifying one or more status
filters: <code>running</code>, <code>completed</code>, <code>error</code>, and
<code>terminated</code>. These may be used together to include runs that
match any of the filters. For example to only include runs that
were either terminated or exited with an error, use
</p>
<div class="sourceCode"><pre>runs_info(terminated = TRUE, error = TRUE)
</pre></div>
<p>Status filters are applied before <code>RUN</code> indexes are resolved. For
example, a run index of <code>1</code>
(as in, <code>runs_info(1, terminated = TRUE, error = TRUE)</code> is the latest run
that matches the status filters.
</p>



<h3>Value</h3>

<p>A dataframe (tibble) of runs
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
withr::with_package("dplyr", {

runs_info() # get the full set of runs
runs_info(1) # get the most recent run
runs_info(1:3) # get the last 3 runs

# some other examples for passing filter expressions
runs_info(staged = TRUE) # list only staged runs
runs_info(tag = c("convnet", "keras"), started = "last hour")
runs_info(error = TRUE)

runs &lt;- runs_info()

# filter down the runs list to ones of interest
runs &lt;- runs %&gt;%
  filter(exit_status == 0) %&gt;% # run ended without an error code
  filter(scalars$test_accuracy &gt; .8) %&gt;%
  filter(flags$epochs &gt; 10) %&gt;%
  arrange(scalars$test_loss) %&gt;%
  select(id, flags, scalars)

# retrieve full scalars history from the runs of interest
runs$id %&gt;%
  runs_scalars()

# export the best run
best_runs_dir &lt;- tempfile()
dir.create(best_runs_dir)
runs %&gt;%
  slice_max(scalars$test_accuracy) %&gt;%
  runs_tag("best") %&gt;%
  runs_export(best_runs_dir)

})

## End(Not run)
</code></pre>


</div>