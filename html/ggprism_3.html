<div class="container">

<table style="width: 100%;"><tr>
<td>annotation_ticks</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add ticks as ggplot annotation</h2>

<h3>Description</h3>

<p>This is an annotation function to add tick marks (major, minor, or both) to
a ggplot. Clipping must be turned off if the ticks are to appear outside the
plotting area, for example with: <code>coord_cartesian(clip = "off")</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">annotation_ticks(
  sides = "b",
  type = "both",
  outside = FALSE,
  tick.length = unit(4.8, "pt"),
  minor.length = unit(2.4, "pt"),
  linewidth = 0.6,
  colour = "black",
  color = NULL,
  linetype = 1,
  lineend = "butt",
  alpha = 1,
  data = data.frame(x = NA)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sides</code></td>
<td>
<p><code>string</code>. Indicates which sides of the plot should ticks
appear. Can be any of <code>"trbl"</code>, for top, right, bottom, left.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p><code>string</code>. Types of ticks that appear. One of
<code>"major"</code>, <code>"minor"</code>, or <code>"both"</code>. Control number of ticks
by controlling the <code>breaks</code> and <code>minor_breaks</code> arguments in the
various ggplot2 <code style="white-space: pre;">⁠scale_(x|y)_⁠</code> functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outside</code></td>
<td>
<p><code>logical</code>. Should the ticks point outside of the plotting
area? If <code>TRUE</code> clipping must be turned off.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tick.length</code></td>
<td>
<p>a <code>unit</code> object specifying the length
of major ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minor.length</code></td>
<td>
<p>a <code>unit</code> object specifying the length
of minor ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linewidth</code></td>
<td>
<p><code>numeric</code>. Linewidth of ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colour, color</code></td>
<td>
<p><code>string</code>. Colour of ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linetype</code></td>
<td>
<p><code>string</code> or <code>numeric</code>. Linetype of tick marks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lineend</code></td>
<td>
<p><code>string</code>. Lineend of ticks. One of <code>"square"</code>
(default), <code>"butt"</code>, or <code>"round"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p><code>numeric</code>. Transparency of ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code>. Use this argument to control the appearance of
ticks on different facets. Pass a data.frame containing the levels from the
faceting variable you want to annotate specifically.
See <a href="https://stackoverflow.com/questions/20128582">here</a> for an example.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a <em>layer</em> ggproto object with <code>geom = GeomTicks</code>.
</p>


<h3>Source</h3>

<p>The code is a slightly modified version of the answer to this
<a href="https://stackoverflow.com/questions/58485334">Stack Overflow</a> question,
which is itself a refactored version of this
<a href="https://github.com/hrbrmstr/ggalt/blob/master/R/annotation_ticks.r"><code>annotation_ticks()</code></a>
function.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Generally it is better to use the guide_prism_minor function.
## However annotation_ticks is useful in a few specific situations.
library(ggplot2)

## easily put ticks without labels around a plot with a border
ggplot(mtcars, aes(x = mpg, y = disp)) +
  geom_point() +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off") +
  annotation_ticks(sides = "tr", type = "major", outside = TRUE) +
  theme(plot.margin = unit(c(4, 4, 4, 4), "mm"))

# the same but with minor ticks as well
ggplot(mtcars, aes(x = mpg, y = disp)) +
  geom_point() +
  scale_x_continuous(guide = "prism_minor") +
  scale_y_continuous(guide = "prism_minor") +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off") +
  annotation_ticks(sides = "tr", type = "both", outside = TRUE) +
  theme(plot.margin = unit(c(4, 4, 4, 4), "mm"))

# you can adjust the appearance of annotation_ticks
ggplot(mtcars, aes(x = mpg, y = disp)) +
  geom_point() +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off") +
  annotation_ticks(
    sides = "tr",
    type = "major",
    outside = TRUE,
    tick.length = unit(10, "pt"),
    colour = "red",
    linewidth = 2,
    linetype = "dashed",
    lineend = "round"
  ) +
  theme(plot.margin = unit(c(4, 4, 4, 4), "mm"))

## Unfortunately, due to the way they work, secondary axes don't always play
## well with the minor tick axes guides in this package.
## So we can use annotation_ticks instead.
sample.data &lt;- data.frame(
  day = as.Date("2019-01-01") + 0:99,
  temperature = runif(100) + seq(1, 100)^2.5 / 10000,
  price = runif(100) + seq(100, 1)^1.5 / 10
)

# sample graph with secondary axis
ggplot(sample.data, aes(x = day)) +
  geom_line(aes(y = temperature), colour = "magenta") +
  geom_line(aes(y = price / 10), colour = "blue") +
  scale_y_continuous(sec.axis = sec_axis(~. * 10, name = "price")) +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off")

# guide_prism_minor only works with the main axis in this case
ggplot(sample.data, aes(x = day)) +
  geom_line(aes(y = temperature), colour = "magenta") +
  geom_line(aes(y = price / 10), colour = "blue") +
  scale_y_continuous(
    sec.axis = sec_axis(~. * 10, name = "price"),
    guide = "prism_minor"
  ) +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off")

# we use annotation_ticks to draw the minor ticks on the secondary axis
ggplot(sample.data, aes(x = day)) +
  geom_line(aes(y = temperature), colour = "magenta") +
  geom_line(aes(y = price / 10), colour = "blue") +
  scale_y_continuous(
    sec.axis = sec_axis(~. * 10, name = "price"),
    guide = "prism_minor"
  ) +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off") +
  annotation_ticks(sides = "r", type = "minor", outside = TRUE)
</code></pre>


</div>