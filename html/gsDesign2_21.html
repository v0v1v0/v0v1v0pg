<div class="container">

<table style="width: 100%;"><tr>
<td>fixed_design_ahr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fixed design under non-proportional hazards</h2>

<h3>Description</h3>

<p>Computes fixed design sample size (given power)
or power (given sample size) by:
</p>

<ul>
<li> <p><code>fixed_design_ahr()</code> - Average hazard ratio method.
</p>
</li>
<li> <p><code>fixed_design_fh()</code> - Weighted logrank test with Fleming-Harrington
weights (Farrington and Manning, 1990).
</p>
</li>
<li> <p><code>fixed_design_mb()</code> - Weighted logrank test with Magirr-Burman weights.
</p>
</li>
<li> <p><code>fixed_design_lf()</code> - Lachin-Foulkes method (Lachin and Foulkes, 1986).
</p>
</li>
<li> <p><code>fixed_design_maxcombo()</code> - MaxCombo method.
</p>
</li>
<li> <p><code>fixed_design_rmst()</code> - RMST method.
</p>
</li>
<li> <p><code>fixed_design_milestone()</code> - Milestone method.
</p>
</li>
</ul>
<p>Additionally, <code>fixed_design_rd()</code> provides fixed design for binary endpoint
with treatment effect measuring in risk difference.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fixed_design_ahr(
  enroll_rate,
  fail_rate,
  alpha = 0.025,
  power = NULL,
  ratio = 1,
  study_duration = 36,
  event = NULL
)

fixed_design_fh(
  alpha = 0.025,
  power = NULL,
  ratio = 1,
  study_duration = 36,
  enroll_rate,
  fail_rate,
  rho = 0,
  gamma = 0
)

fixed_design_lf(
  alpha = 0.025,
  power = NULL,
  ratio = 1,
  study_duration = 36,
  enroll_rate,
  fail_rate
)

fixed_design_maxcombo(
  alpha = 0.025,
  power = NULL,
  ratio = 1,
  study_duration = 36,
  enroll_rate,
  fail_rate,
  rho = c(0, 0, 1),
  gamma = c(0, 1, 0),
  tau = rep(-1, 3)
)

fixed_design_mb(
  alpha = 0.025,
  power = NULL,
  ratio = 1,
  study_duration = 36,
  enroll_rate,
  fail_rate,
  tau = 6
)

fixed_design_milestone(
  alpha = 0.025,
  power = NULL,
  ratio = 1,
  enroll_rate,
  fail_rate,
  study_duration = 36,
  tau = NULL
)

fixed_design_rd(
  alpha = 0.025,
  power = NULL,
  ratio = 1,
  p_c,
  p_e,
  rd0 = 0,
  n = NULL
)

fixed_design_rmst(
  alpha = 0.025,
  power = NULL,
  ratio = 1,
  study_duration = 36,
  enroll_rate,
  fail_rate,
  tau = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>enroll_rate</code></td>
<td>
<p>Enrollment rates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fail_rate</code></td>
<td>
<p>Failure and dropout rates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>One-sided Type I error (strictly between 0 and 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>Power (<code>NULL</code> to compute power or strictly between 0
and <code>1 - alpha</code> otherwise).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio</code></td>
<td>
<p>Experimental:Control randomization ratio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>study_duration</code></td>
<td>
<p>Study duration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event</code></td>
<td>
<p>Targeted event at each analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>A vector of numbers paring with gamma and tau for maxcombo test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>A vector of numbers paring with rho and tau for maxcombo test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>Test parameter in RMST.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_c</code></td>
<td>
<p>A numerical value of the control arm rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_e</code></td>
<td>
<p>A numerical value of the experimental arm rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rd0</code></td>
<td>
<p>Risk difference under null hypothesis, default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Sample size. If NULL with power input, the sample size will be
computed to achieve the targeted power</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of design characteristic summary.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># AHR method ----
library(dplyr)

# Example 1: given power and compute sample size
x &lt;- fixed_design_ahr(
  alpha = .025, power = .9,
  enroll_rate = define_enroll_rate(duration = 18, rate = 1),
  fail_rate = define_fail_rate(
    duration = c(4, 100),
    fail_rate = log(2) / 12,
    hr = c(1, .6),
    dropout_rate = .001
  ),
  study_duration = 36
)
x %&gt;% summary()

# Example 2: given sample size and compute power
x &lt;- fixed_design_ahr(
  alpha = .025,
  enroll_rate = define_enroll_rate(duration = 18, rate = 20),
  fail_rate = define_fail_rate(
    duration = c(4, 100),
    fail_rate = log(2) / 12,
    hr = c(1, .6),
    dropout_rate = .001
  ),
  study_duration = 36
)
x %&gt;% summary()

# WLR test with FH weights ----
library(dplyr)

# Example 1: given power and compute sample size
x &lt;- fixed_design_fh(
  alpha = .025, power = .9,
  enroll_rate = define_enroll_rate(duration = 18, rate = 1),
  fail_rate = define_fail_rate(
    duration = c(4, 100),
    fail_rate = log(2) / 12,
    hr = c(1, .6),
    dropout_rate = .001
  ),
  study_duration = 36,
  rho = 1, gamma = 1
)
x %&gt;% summary()

# Example 2: given sample size and compute power
x &lt;- fixed_design_fh(
  alpha = .025,
  enroll_rate = define_enroll_rate(duration = 18, rate = 20),
  fail_rate = define_fail_rate(
    duration = c(4, 100),
    fail_rate = log(2) / 12,
    hr = c(1, .6),
    dropout_rate = .001
  ),
  study_duration = 36,
  rho = 1, gamma = 1
)
x %&gt;% summary()

# LF method ----
library(dplyr)

# Example 1: given power and compute sample size
x &lt;- fixed_design_lf(
  alpha = .025, power = .9,
  enroll_rate = define_enroll_rate(duration = 18, rate = 1),
  fail_rate = define_fail_rate(
    duration = 100,
    fail_rate = log(2) / 12,
    hr = .7,
    dropout_rate = .001
  ),
  study_duration = 36
)
x %&gt;% summary()

# Example 2: given sample size and compute power
x &lt;- fixed_design_fh(
  alpha = .025,
  enroll_rate = define_enroll_rate(duration = 18, rate = 20),
  fail_rate = define_fail_rate(
    duration = 100,
    fail_rate = log(2) / 12,
    hr = .7,
    dropout_rate = .001
  ),
  study_duration = 36
)
x %&gt;% summary()

# MaxCombo test ----
library(dplyr)

# Example 1: given power and compute sample size
x &lt;- fixed_design_maxcombo(
  alpha = .025, power = .9,
  enroll_rate = define_enroll_rate(duration = 18, rate = 1),
  fail_rate = define_fail_rate(
    duration = c(4, 100),
    fail_rate = log(2) / 12,
    hr = c(1, .6),
    dropout_rate = .001
  ),
  study_duration = 36,
  rho = c(0, 0.5), gamma = c(0, 0), tau = c(-1, -1)
)
x %&gt;% summary()

# Example 2: given sample size and compute power
x &lt;- fixed_design_maxcombo(
  alpha = .025,
  enroll_rate = define_enroll_rate(duration = 18, rate = 20),
  fail_rate = define_fail_rate(
    duration = c(4, 100),
    fail_rate = log(2) / 12,
    hr = c(1, .6),
    dropout_rate = .001
  ),
  study_duration = 36,
  rho = c(0, 0.5), gamma = c(0, 0), tau = c(-1, -1)
)
x %&gt;% summary()

# WLR test with MB weights ----
library(dplyr)

# Example 1: given power and compute sample size
x &lt;- fixed_design_mb(
  alpha = .025, power = .9,
  enroll_rate = define_enroll_rate(duration = 18, rate = 1),
  fail_rate = define_fail_rate(
    duration = c(4, 100),
    fail_rate = log(2) / 12,
    hr = c(1, .6),
    dropout_rate = .001
  ),
  study_duration = 36,
  tau = 4
)
x %&gt;% summary()

# Example 2: given sample size and compute power
x &lt;- fixed_design_mb(
  alpha = .025,
  enroll_rate = define_enroll_rate(duration = 18, rate = 20),
  fail_rate = define_fail_rate(
    duration = c(4, 100),
    fail_rate = log(2) / 12,
    hr = c(1, .6),
    dropout_rate = .001
  ),
  study_duration = 36,
  tau = 4
)
x %&gt;% summary()

# Milestone method ----
library(dplyr)

# Example 1: given power and compute sample size
x &lt;- fixed_design_milestone(
  alpha = .025, power = .9,
  enroll_rate = define_enroll_rate(duration = 18, rate = 1),
  fail_rate = define_fail_rate(
    duration = 100,
    fail_rate = log(2) / 12,
    hr = .7,
    dropout_rate = .001
  ),
  study_duration = 36,
  tau = 18
)
x %&gt;% summary()

# Example 2: given sample size and compute power
x &lt;- fixed_design_milestone(
  alpha = .025,
  enroll_rate = define_enroll_rate(duration = 18, rate = 20),
  fail_rate = define_fail_rate(
    duration = 100,
    fail_rate = log(2) / 12,
    hr = .7,
    dropout_rate = .001
  ),
  study_duration = 36,
  tau = 18
)
x %&gt;% summary()

# Binary endpoint with risk differences ----
library(dplyr)

# Example 1: given power and compute sample size
x &lt;- fixed_design_rd(
  alpha = 0.025, power = 0.9, p_c = .15, p_e = .1,
  rd0 = 0, ratio = 1
)
x %&gt;% summary()

# Example 2: given sample size and compute power
x &lt;- fixed_design_rd(
  alpha = 0.025, power = NULL, p_c = .15, p_e = .1,
  rd0 = 0, n = 2000, ratio = 1
)
x %&gt;% summary()

# RMST method ----
library(dplyr)

# Example 1: given power and compute sample size
x &lt;- fixed_design_rmst(
  alpha = .025, power = .9,
  enroll_rate = define_enroll_rate(duration = 18, rate = 1),
  fail_rate = define_fail_rate(
    duration = 100,
    fail_rate = log(2) / 12,
    hr = .7,
    dropout_rate = .001
  ),
  study_duration = 36,
  tau = 18
)
x %&gt;% summary()

# Example 2: given sample size and compute power
x &lt;- fixed_design_rmst(
  alpha = .025,
  enroll_rate = define_enroll_rate(duration = 18, rate = 20),
  fail_rate = define_fail_rate(
    duration = 100,
    fail_rate = log(2) / 12,
    hr = .7,
    dropout_rate = .001
  ),
  study_duration = 36,
  tau = 18
)
x %&gt;% summary()
</code></pre>


</div>