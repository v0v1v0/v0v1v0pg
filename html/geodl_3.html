<div class="container">

<table style="width: 100%;"><tr>
<td>assessRaster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>assessRaster</h2>

<h3>Description</h3>

<p>Assess semantic segmentation model using categorical raster grids (wall-to-wall
reference data and predictions)
</p>


<h3>Usage</h3>

<pre><code class="language-R">assessRaster(
  reference,
  predicted,
  multiclass = TRUE,
  mappings = levels(as.factor(reference)),
  decimals = 4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>reference</code></td>
<td>
<p>SpatRaster object of reference class codes/indices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predicted</code></td>
<td>
<p>SpatRaster object of reference class codes/indices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiclass</code></td>
<td>
<p>TRUE or FALSE. If more than two classes are differentiated,
use TRUE. If only two classes are differentiated and there are positive and
background/negative classes, use FALSE. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mappings</code></td>
<td>
<p>Vector of class names. These must be in the same order
as the class indices or class names so that they are correctly matched to the correct category.
If no mappings are provided, then the factor levels or class indices are used by default.
For a binary classification, it is assumed that the first class is "Background" and
the second class is "Positive".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decimals</code></td>
<td>
<p>Number of decimal places to return for assessment metrics. Default is 4.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function generates a set of summary assessment metrics when provided
reference and predicted classes. Results are returned as a list object. For
multiclass assessment, the class names ($Classes), count of samples per class
in the reference data ($referenceCounts), count of samples per class in the
predictions ($predictionCounts), confusion matrix ($confusionMatrix),
aggregated assessment metrics ($aggMetrics) (OA = overall accuracy, macroF1 = macro-averaged
class aggregated F1-score, macroPA = macro-averaged class aggregated producer's
accuracy or recall, and macroUA = macro-averaged class aggregated user's accuracy or
precision), class-level user's accuracies or precisions ($userAccuracies),
class-level producer's accuracies or recalls ($producerAccuracies), and class-level
F1-scores ($F1Scores). For a binary case, the $Classes, $referenceCounts,
$predictionCounts, and $confusionMatrix objects are also returned; however, the $aggMets
object is replaced with $Mets, which stores the following metrics: overall accuracy, recall,
precision, specificity, negative predictive value (NPV), and F1-score.
For binary cases, the second class is assumed to be the positive case.
</p>


<h3>Value</h3>

<p>List object containing the resulting metrics and ancillary information.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(requireNamespace("terra", quietly = TRUE)){
require(torch)
require(terra)
#Multiclass example

#Generate example data as SpatRasters
ref &lt;- terra::rast(matrix(sample(c(1, 2, 3), 625, replace=TRUE), nrow=25, ncol=25))
pred &lt;- terra::rast(matrix(sample(c(1, 2, 3), 625, replace=TRUE), nrow=25, ncol=25))

#Calculate metrics
metsOut &lt;- assessRaster(reference=ref,
                        predicted=pred,
                        multiclass=TRUE,
                        mappings=c("Class A", "Class B", "Class C"),
                        decimals=4)

print(metsOut)

#Binary example

#Generate example data as SpatRasters
ref &lt;- terra::rast(matrix(sample(c(0, 1), 625, replace=TRUE), nrow=25, ncol=25))
pred &lt;- terra::rast(matrix(sample(c(0, 1), 625, replace=TRUE), nrow=25, ncol=25))

#Calculate metrics
metsOut &lt;- assessRaster(reference=ref,
                        predicted=pred,
                        multiclass=FALSE,
                        mappings=c("Background", "Positive"),
                        decimals=4)

print(metsOut)
}
</code></pre>


</div>