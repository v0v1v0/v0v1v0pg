<div class="container">

<table style="width: 100%;"><tr>
<td>gwqs_barplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots and tables functions</h2>

<h3>Description</h3>

<p>Functions that allow to generate plots and tables helping in visualizing and summarise Weighted Quantile Sum (WQS) regression results.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gwqs_barplot(object, tau, ...)

gwqs_scatterplot(object, ...)

gwqs_fitted_vs_resid(object, sumtype = c("norm", "perc"), ...)

gwqs_levels_scatterplot(object, ...)

gwqs_ROC(object, newdata, sumtype = c("norm", "perc"), ...)

gwqs_boxplot(object, tau, ...)

gwqs_summary_tab(object, sumtype = c("norm", "perc"), ...)

gwqs_weights_tab(object, ...)

selectdatavars(data, na.action, formula, mix_name, ...)

gwqs_rank(data, mix_name, q)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class "gwqs" as returned by gwqs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>A number identifying the cutoff for the significant weights. Is tau is missing then reciprocal of
the number of elements in the mixture is considered. To avoid printing the threshold line set <code>tau = NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to be passed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sumtype</code></td>
<td>
<p>Type of summary statistic to be used: "norm" takes the mean of the estimated parameters on the
validation sets and the 95
as the parameters estimates and the 2.5, 97.5 percentiles as CI. This option is only available for objects of
class <code>gwqsrh</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>A data frame in which to look for variables with which to predict and generate the
ROC curve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Dataset from which you want to select the variables you are interested in.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>Allows to choose what action has to be taken to deal with NAs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Formula used in the model to specify the dependent and independent variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_name</code></td>
<td>
<p>Vector containing element names included in the mixture.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>An <code>integer</code> to specify how mixture variables will be ranked, e.g. in quartiles
(<code>q = 4</code>), deciles (<code>q = 10</code>), or percentiles (<code>q = 100</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>gwqs_barplot</code>, <code>gwqs_scatterplot</code>, <code>gwqs_fitted_vs_resid</code>, <code>gwqs_levels_scatterplot</code>,
<code>gwqs_ROC</code> and <code>gwqs_boxplot</code> functions produce five figures through the <code>ggplot</code> function.
</p>
<p>The <code>gwqs_summary_tab</code> and <code>gwqs_weights_tab</code> functions produce two tables in the viewr pane
through the use of the <code>kable</code> and <code>kable_styling</code> functions.
</p>
<p>The <code>gwqs_barplot</code>, <code>gwqs_scatterplot</code> plots are available for all family types while
<code>gwqs_fitted_vs_resid</code> is not available when <code>family = binomial</code> or <code>"multinomial"</code>.
<code>gwqs_levels_scatterplot</code> plot is only available when <code>family = "multinomial"</code> and <code>gwqs_ROC</code>
when <code>family = binomial</code>. The <code>gwqs_boxplot</code> can be used when the parameter <code>rh</code> within
the <code>gwqs</code> function is set greater than 1.
</p>
<p>The <code>gwqs_rank</code> function allows to split the variables selected through the vector <code>mix_name</code>
in quantiles (depending by the value assigned to <code>q</code>).
</p>


<h3>Value</h3>

<p>All the plot functions print the output in the Plots pane while the table functions print
the output in the Viewer pane.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Qm</code></td>
<td>
<p>The matrix containing the quantiled variables of the elements included in the mixture.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qi</code></td>
<td>
<p>A list of vectors containing the cut points used to determine the quantiled variables.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Stefano Renzetti, Paul Curtin, Allan C Just, Ghalib Bello, Chris Gennings
</p>


<h3>Examples</h3>

<pre><code class="language-R">toxic_chems = names(wqs_data)[1:34]
results = gwqs(yLBX ~ wqs, mix_name = toxic_chems, data = wqs_data, q = 4, validation = 0.6,
               b = 2, b1_pos = TRUE, b_constr = FALSE, family = gaussian)

# barplot
gwqs_barplot(results)

# scatterplot
gwqs_scatterplot(results)

# fitted values vs rediduals scatterplot
gwqs_fitted_vs_resid(results)

</code></pre>


</div>