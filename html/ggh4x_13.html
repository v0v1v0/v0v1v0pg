<div class="container">

<table style="width: 100%;"><tr>
<td>facetted_pos_scales</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set individual scales in facets</h2>

<h3>Description</h3>

<p>This function allows the tweaking of the position scales (x and y) of
individual facets. You can use it to fine-tune limits, breaks and other scale
parameters for individual facets, provided the facet allows free scales.
</p>


<h3>Usage</h3>

<pre><code class="language-R">facetted_pos_scales(x = NULL, y = NULL)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>
<p>A <code>list</code> wherein elements are either x/y position scales or
<code>NULL</code>s. Alternatively, a list of formulae (see details).</p>
</td>
</tr></table>
<h3>Details</h3>

<p>It is intended that this function works with both
<code>ggplot2::facet_wrap()</code> and <code>ggplot2::facet_grid()</code>.
For <code>facet_wrap</code>, the scales are used for each individual panel. For
<code>facet_grid</code>, the scales are used for the rows and columns. Note that
these facets must be used with <code>scales = "free"</code> or <code>"free_x"</code> or
<code>"free_y"</code>, depending on what scales are added.
</p>
<p>Axis titles are derived from the first scale in the list (or the default
position scale when the first list element is <code>NULL</code>).
</p>


<h4>Scale transformations</h4>

<p>It is allowed to use individual scale
transformations for facets, but this functionality comes with the trade-off
that the out of bounds (<code>oob</code>) argument for individual scales is
ignored. Values that are out of bounds will be clipped. Whereas the
<code>stat</code> part of a ggplot layer is typically calculated after scale
transformations, the calculation of the <code>stat</code> happens before scale
transformation with this function, which can lead to some awkward results.
The suggested workaround is to pre-transform the data for layers with
non-identity <code>stat</code> parts.</p>



<h4>Scale list input</h4>

<p><code>NULL</code>s are valid list elements and
signal that the default position scale should be used at the position in
the list where the <code>NULL</code> occurs. Since transformations are applied
before facet scales are initiated, it is not recommended to use a default
position (either the first in the list, or defined outside
<code>facetted_pos_scales()</code>) scale with a transformation other than
<code>trans = "identity"</code> (the default).</p>



<h4>Formula list input</h4>

<p>The <code>x</code> and <code>y</code> arguments also
accept a list of two-sided formulas. The left hand side of a formula should
evaluate to a <code>logical</code> vector. The right hand side of the formula
should evaluate to a position scale, wherein the <code>x</code> argument accepts
x-position scales and the <code>y</code> argument accepts y-position scales.
Notably, the left hand side of the formula is evaluated using the tidy
evaluation framework, whereby the <code>data.frame</code> with the plot's layout
is given priority over the environment in which the formula was created. As
a consequence, variables (columns) that define faceting groups can be
references directly.</p>



<h3>Value</h3>

<p>A <em>facetted_pos_scales</em> object, instructing a ggplot how to
adjust the scales per facet.
</p>


<h3>See Also</h3>

<p><code>ggplot2::scale_x_continuous()</code> and <code>scale_x_discrete</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">plot &lt;- ggplot(iris, aes(Sepal.Width, Sepal.Length)) +
  geom_point(aes(colour = Species)) +
  facet_wrap(Species ~ ., scales = "free_y")

# Reversing the y-axis in the second panel. When providing a list of scales,
# NULL indicates to use the default, global scale
plot +
  facetted_pos_scales(
    y = list(NULL, scale_y_continuous(trans = "reverse"))
  )

# Alternative for specifying scales with formula lists. The LHS can access
# columns in the plot's layout.
plot +
  facetted_pos_scales(
    y = list(
      Species == "virginica" ~ scale_y_continuous(breaks = c(6, 7)),
      Species == "versicolor" ~ scale_y_reverse()
    )
  )
</code></pre>


</div>