<div class="container">

<table style="width: 100%;"><tr>
<td>synsort</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sorting functions for synoptic tables</h2>

<h3>Description</h3>

<p>This function sorts synoptic tables from <code>syntable</code> function output. Sorting criteria
can be either numerical values in synoptic tables, such as cluster-wise frequencies or fidelity
measures, as well as combined criteria that also take into account differential character (according to
the criteria defined by Tsiripidis et al., 2009).
</p>
<p>The algorithm aims to sort species to blocked structure considering the defined criteria and input
tables, with the best characterizing species on the top of the block, followed by species with
descending importance for plant community description.
</p>


<h3>Usage</h3>

<pre><code class="language-R">synsort(
  syn1,
  syn2 = syn1,
  matrix,
  cluster,
  method = "allspec",
  min1 = 0,
  min2 = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>syn1</code></td>
<td>
<p>Input synoptic table 1, a data frame with numerical data format, usually from
<code>syntable</code> function output. See Details for input table format.
The values of this table will be displayed in the final output table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>syn2</code></td>
<td>
<p>Optional second input table with additional numeric or differential character
sorting criteria.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matrix</code></td>
<td>
<p>Species-sample matrix, already used for <code>syntable</code> function input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>Integer or character vector/factor with classification cluster identity. Ensure matching order of
cluster identity and samples in matrix for correct allocation of cluster numbers to samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Sorting algorithm and synoptic table output options (<code>method = c("allspec", "alldiff")</code>).
See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min1</code></td>
<td>
<p>Cluster-wise threshold minimum value for species shown in the final sorted synoptic table.
Species below that minimum will be listed in the output (<code>$others</code> section).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min2</code></td>
<td>
<p>Threshold minimum value for considering species values of a numerical second input table <code>syn2</code>.
Species below that minimum will not be displayed in final synoptic table, but will be listed in the
output (<code>$others</code> section).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an (invisible) list composed of:
</p>

<ul>
<li> <p><code>$output</code> Sorting method description
</p>
</li>
<li> <p><code>$species</code> Information to species included in the output table
</p>
</li>
<li> <p><code>$samplesize</code> Sample sizes in clusters
</p>
</li>
<li> <p><code>$syntable</code> Sorted synoptic table, with the numeric values of <code>syn1</code> in the left-side columns
and differential character of species on the right-side of the output table. See Tsiripidis et al. (2009) for
details and criteria for the assignment of a differential species as p = positive, n = negative,
pn = positive/negative.
</p>
</li>
<li> <p><code>$others</code> Species that are omitted in Synoptic table due to their failing
reaching the given threshold values <code>min1</code> and <code>min2</code>. Sorted alphabetically.
</p>
</li>
<li> <p><code>$samples</code> Sorted original species-sample matrix, with original Plot-IDs (as column
names) and the cluster identity (Cluster_No as first row of output samples table)
</p>
</li>
</ul>
<h3>Details</h3>

<p>Two types of sorted synoptic tables can be created with this function:
</p>

<ul>
<li> <p><code>method = "allspec"</code> (<em>default</em>) creates a sorted synoptic table basing on one or
two numeric input tables, e.g. percentage or absolute frequencies, or phi fidelity values.
Sorting criteria can be either given by only one input table by using only <code>syn1</code>
argument, as well as by two input tables with specifying <code>syn2</code>, too.
Thereby, only values of <code>syn1</code> will be shown in the final sorted table.
</p>
</li>
<li> <p><code>method = "alldiff"</code>: With including differential species
character as sorting criteria, <code>syn1</code> must be numeric (e.g. percentage frequency) and
<code>syn2</code> must contain information on differential character (output from <code>syntable</code>
function with defined <code>type = "diffspec"</code>). The result table shows ALL diagnostic and
non-diagnostic species, as long as they match the <code>min1</code> and <code>min2</code> thresholds.
The algorithm detects highest cluster values of species calculated from
<code>syn1</code> as base for sorting, but will consider differential character criterion
from <code>syn2</code> as well. Species with high values in <code>syn1</code> AND
positive differential character will then be listed on the top of a species block.
Within such a block, the differentiating and high-abundant species are sorted in a way favoring
species that are positive in only one or at least few clusters.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Jenny Schellenberg (<a href="mailto:jschell@gwdg.de">jschell@gwdg.de</a>)
</p>


<h3>References</h3>

<p>Bruelheide, H. (2000): A new measure of fidelity and its application to defining species groups.
<em>Journal of Vegetation Science</em> <strong>11</strong>: 167-178. <a href="https://doi.org/10.2307/3236796">doi:10.2307/3236796</a>
</p>
<p>Chytry, M., Tichy, L., Holt, J., Botta-Dukat, Z. (2002): Determination of diagnostic species with
statistical fidelity measures. <em>Journal of Vegetation Science</em> <strong>13</strong>: 79-90. <a href="https://doi.org/10.1111/j.1654-1103.2002.tb02025.x">doi:10.1111/j.1654-1103.2002.tb02025.x</a>
</p>
<p>Sokal, R.R. &amp; Rohlf, F.J. (1995): Biometry. 3rd edition Freemann, New York.
</p>
<p>Tsiripidis, I., Bergmeier, E., Fotiadis, G. &amp; Dimopoulos, P. (2009): A new algorithm for the
determination of differential taxa. <em>Journal of Vegetation Science</em> <strong>20</strong>: 233-240. <a href="https://doi.org/10.1111/j.1654-1103.2009.05273.x">doi:10.1111/j.1654-1103.2009.05273.x</a>
</p>


<h3>See Also</h3>

<p><code>syntable</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">### Synoptic table of Scheden vegetation data using syntable()-function:
# classification to create a vector of cluster identity
library(cluster)
pam1 &lt;- pam(schedenveg, 4)


### One input table for sorting:
## Synoptic table with percentage frequency of species in clusters, all species
unordered &lt;- syntable(schedenveg, pam1$clustering, abund = "percentage",
                      type = "percfreq")   # Unordered synoptic percentage frequency table
sorted &lt;- synsort(syn1 = unordered$syntable, matrix = schedenveg,
                  cluster = pam1$clustering, method = "allspec", min1 = 0)
sorted             # view results
## Not run: 
# Export sorted synoptic table
write.csv(sorted$syntab, "syntab.csv")
# Export sorted species-sample matrix with original releve data for postprocessing
write.csv(sorted$samples, "output_species_sample.csv")
## End(Not run)

## Synoptic table with only phi values
phi &lt;- syntable(schedenveg, pam1$clustering, abund = "percentage",
                     type = "phi")         # calculates cluster-wise phi for each species
phi_table &lt;- synsort(syn1 = phi$syntable, matrix = schedenveg, cluster = pam1$clustering,
                     method = "allspec", min1 = 0.3)
phi_table     # view results


### Two numerical tables for sorting:
## Synoptic table showing percentage frequencies, but only for species with minimum phi-value
## of 0.3 AND exclude species with less than 25% percentage frequency

unordered &lt;- syntable(schedenveg, pam1$clustering, abund = "percentage",
                      type = "percfreq")   # Unordered synoptic percentage frequency table
phitable &lt;- syntable(schedenveg, pam1$clustering, abund = "percentage",
                     type = "phi")         # calculates cluster-wise phi for each species
# now sorting and arranging
phi_complete &lt;- synsort(syn1 = unordered$syntable, syn2 = phitable$syntable,
                       matrix = schedenveg, cluster = pam1$clustering, method = "allspec",
                       min1 = 25, min2 = 0.3)
phi_complete      # view results

### Differential species analysis
differential &lt;- syntable(schedenveg, pam1$clustering, abund = "percentage",
                         type = "diffspec")

## Synoptic table with percentage frequency (only species &gt;25%) and
## differential character.
complete &lt;- synsort(syn1 = unordered$syntable, syn2 = differential$syntable,
                    matrix = schedenveg, cluster = pam1$clustering,
                    method = "alldiff", min1 = 25)
complete            # view result table
differential$differentials  # list differential species for clusters

</code></pre>


</div>