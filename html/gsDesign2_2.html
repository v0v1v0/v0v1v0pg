<div class="container">

<table style="width: 100%;"><tr>
<td>ahr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Average hazard ratio under non-proportional hazards (test version)</h2>

<h3>Description</h3>

<p>Provides a geometric average hazard ratio under
various non-proportional hazards assumptions for either single or multiple strata studies.
The piecewise exponential distribution allows a simple method to specify a distribution
and enrollment pattern where the enrollment, failure and dropout rates changes over time.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ahr(
  enroll_rate = define_enroll_rate(duration = c(2, 2, 10), rate = c(3, 6, 9)),
  fail_rate = define_fail_rate(duration = c(3, 100), fail_rate = log(2)/c(9, 18), hr =
    c(0.9, 0.6), dropout_rate = 0.001),
  total_duration = 30,
  ratio = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>enroll_rate</code></td>
<td>
<p>An <code>enroll_rate</code> data frame with or without stratum
created by <code>define_enroll_rate()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fail_rate</code></td>
<td>
<p>A <code>fail_rate</code> data frame with or without stratum
created by <code>define_fail_rate()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total_duration</code></td>
<td>
<p>Total follow-up from start of enrollment to data
cutoff; this can be a single value or a vector of positive numbers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio</code></td>
<td>
<p>Ratio of experimental to control randomization.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame with <code>time</code> (from <code>total_duration</code>),
<code>ahr</code> (average hazard ratio), <code>event</code> (expected number of events),
<code>info</code> (information under given scenarios), <code>and</code> info0
(information under related null hypothesis) for each value of
<code>total_duration</code> input.
</p>


<h3>Specification</h3>


<p>The contents of this section are shown in PDF user manual only.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example: default
ahr()

# Example: default with multiple analysis times (varying total_duration)
ahr(total_duration = c(15, 30))

# Stratified population
enroll_rate &lt;- define_enroll_rate(
  stratum = c(rep("Low", 2), rep("High", 3)),
  duration = c(2, 10, 4, 4, 8),
  rate = c(5, 10, 0, 3, 6)
)
fail_rate &lt;- define_fail_rate(
  stratum = c(rep("Low", 2), rep("High", 2)),
  duration = 1,
  fail_rate = c(.1, .2, .3, .4),
  dropout_rate = .001,
  hr = c(.9, .75, .8, .6)
)
ahr(enroll_rate = enroll_rate, fail_rate = fail_rate, total_duration = c(15, 30))
</code></pre>


</div>