<div class="container">

<table style="width: 100%;"><tr>
<td>align</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Break (bin) alignment methods</h2>

<h3>Description</h3>

<p>Methods for aligning breaks (bins) in histograms, as used in the <code>align</code>
argument to <code>density_histogram()</code>.
</p>
<p>Supports automatic partial function application.
</p>


<h3>Usage</h3>

<pre><code class="language-R">align_none(breaks)

align_boundary(breaks, at = 0)

align_center(breaks, at = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>A sorted vector of breaks (bin edges).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p>A scalar numeric giving an alignment point.
</p>

<ul>
<li>
<p> For <code>align_boundary()</code>: align breaks so that a bin edge lines up with <code>at</code>.
</p>
</li>
<li>
<p> For <code>align_center()</code>: align breaks so that the center of a bin lines up with <code>at</code>.
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions take a sorted vector of equally-spaced <code>breaks</code> giving
bin edges and return a numeric offset which, if subtracted from <code>breaks</code>,
will align them as desired:
</p>

<ul>
<li> <p><code>align_none()</code> performs no alignment (it always returns <code>0</code>).
</p>
</li>
<li> <p><code>align_boundary()</code> ensures that a bin edge lines up with <code>at</code>.
</p>
</li>
<li> <p><code>align_center()</code> ensures that a bin center lines up with <code>at.</code>
</p>
</li>
</ul>
<p>For <code>align_boundary()</code> (respectively <code>align_center()</code>), if no bin edge (or center) in the
range of <code>breaks</code> would line up with <code>at</code>, it ensures that <code>at</code> is an integer
multiple of the bin width away from a bin edge (or center).
</p>


<h3>Value</h3>

<p>A scalar numeric returning an offset to be subtracted from <code>breaks</code>.
</p>


<h3>See Also</h3>

<p><code>density_histogram()</code>, breaks
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ggplot2)

set.seed(1234)
x = rnorm(200, 1, 2)

# If we manually specify a bin width using breaks_fixed(), the default
# alignment (align_none()) will not align bin edges to any "pretty" numbers.
# Here is a comparison of the three alignment methods on such a histogram:
ggplot(data.frame(x), aes(x)) +
  stat_slab(
    aes(y = "align_none()\nor 'none'"),
    density = "histogram",
    breaks = breaks_fixed(width = 1),
    outline_bars = TRUE,
    # no need to specify align; align_none() is the default
    color = "black",
  ) +
  stat_slab(
    aes(y = "align_center(at = 0)\nor 'center'"),
    density = "histogram",
    breaks = breaks_fixed(width = 1),
    align = align_center(at = 0),   # or align = "center"
    outline_bars = TRUE,
    color = "black",
  ) +
  stat_slab(
    aes(y = "align_boundary(at = 0)\nor 'boundary'"),
    density = "histogram",
    breaks = breaks_fixed(width = 1),
    align = align_boundary(at = 0), # or align = "boundary"
    outline_bars = TRUE,
    color = "black",
  ) +
  geom_point(aes(y = 0.7), alpha = 0.5) +
  labs(
    subtitle = "ggdist::stat_slab(density = 'histogram', ...)",
    y = "align =",
    x = NULL
  ) +
  geom_vline(xintercept = 0, linetype = "22", color = "red")
</code></pre>


</div>