<div class="container">

<table style="width: 100%;"><tr>
<td>mag_ctrl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>After removing control variables, magnitude of effect of x on y, and of y on x.</h2>

<h3>Description</h3>

<p>Uses Vinod (2015) and runs kernel regressions: <code>x~ y + ctrl</code>
and  <code>x~ ctrl</code> to evaluate the ‘incremental change’ in R-squares.
Let (rxy;ctrl) denote the square root of that ‘incremental change’ after its sign is made the
same as that of the Pearson correlation coefficient from
<code>cor(x,y)</code>). One can interpret (rxy;ctrl) as
a generalized partial correlation coefficient when x is regressed on y after removing
the effect of control variable(s) in <code>ctrl</code>.  It is more general than the usual partial 
correlation coefficient, since this one
allows for nonlinear relations among variables. 
Next, the function computes ‘dxdy’ obtained by multiplying (rxy;ctrl) by the ratio of
standard deviations, <code>sd(x)/sd(y)</code>. Now our ‘dxdy’ approximates the magnitude of the
partial derivative (dx/dy) in a causal model where y is the cause and x is the effect.
The function also reports entirely analogous ‘dydx’ obtained by interchanging x and y.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mag_ctrl(x, y, ctrl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Vector of data on the dependent variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Vector of data on the regressor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ctrl</code></td>
<td>
<p>data matrix for designated control variable(s) outside causal paths.
A constant vector is not allowed as a control variable.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>vector of two magnitudes ‘dxdy’ (effect when x is regressed on y) and 
‘dydx’ for reverse regression.  Both regressions remove the effect of control variable(s).
</p>


<h3>Note</h3>

<p>This function is intended for use only after the causal path direction 
is already determined by various functions in this package (e.g. <code>someCPairs</code>).
That is, after the researcher knows whether x causes y or vice versa.
The output of this function is a vector of two numbers: (dxdy, dydx), in that order,
representing the magnitude of effect of one variable on the other.
We expect the researcher to use only ‘dxdy’ if y is the 
known cause, or ‘dydx’ if x is the cause. These approximate overall measures
may not be well-defined in some applications, because 
the real partial derivatives of nonlinear functions
are generally  distinct for each evaluation point.
</p>


<h3>Author(s)</h3>

<p>Prof. H. D. Vinod, Economics Dept., Fordham University, NY
</p>


<h3>References</h3>

<p>Vinod, H. D. 'Generalized Correlation and Kernel Causality with
Applications in Development Economics' in Communications in
Statistics -Simulation and Computation, 2015,
<a href="https://doi.org/10.1080/03610918.2015.1122048">doi:10.1080/03610918.2015.1122048</a>
</p>
<p>Vinod, H. D. 'Matrix Algebra Topics in Statistics and Economics
Using R', Chapter 4 in Handbook of Statistics: Computational Statistics
with R, Vol.32, co-editors: M. B. Rao and C. R. Rao. New York:
North Holland, Elsevier Science Publishers, 2014, pp. 143-176.
</p>


<h3>See Also</h3>

<p>See  <code>mag</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(123);x=sample(1:10); z=runif(10); y=1+2*x+3*z+rnorm(10)
options(np.messages=FALSE)
mag_ctrl(x,y,z)#dx/dy=0.47 is approximately 0.5, but dy/dx=1.41 is not approx=2,

</code></pre>


</div>