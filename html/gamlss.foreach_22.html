<div class="container">

<table style="width: 100%;"><tr>
<td>which.Data.Corr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Detecting Hight Pair-Wise Correlations in Data</h2>

<h3>Description</h3>

<p>There are two function here. 
</p>
<p>The function <code>which.Data.Corr()</code> is taking as an argument a <code>data.frame</code> or a data matrix and it reports the pairs of variables which have higher correlation  than <code>r</code>.
</p>
<p>The function <code>which.yX.Corr()</code> it takes as arguments a continuous response variable, <code>y</code>, and a set of continuous explanatory variables, <code>x</code>, (which may include first order interactions), 
and it creates a <code>data.frame</code> containing all variables with a pair-wise correlation above <code>r</code>. If the set of the continuous explanatory variables contains first order interactions, then by default, (<code>hierarchical = TRUE</code>), the main effects of the first order interactions will be also included so hierarchy will be preserved.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">which.Data.Corr(data, r = 0.9, digits=3)
which.yX.Corr(y, x, r = 0.5, plot = TRUE, 
              hierarchical = TRUE, print = TRUE, digits=3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A <code>data.frame</code> or a matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>a correlation values (acting as a lower limit)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>the response variable (continuous)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the (continuous) explanatory variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>whether to plot the results or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>whether to print the dim of the new matrix or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hierarchical</code></td>
<td>
<p>This is designed for make sure that if first order interactions are included in the list the main effects will be also included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>the number of digits to print.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function <code>which.Data.Corr()</code> creates a matrix with three columns. The first two columns contain the names of the variables having pair-wise correlation higher than <code>r</code> and the third column show their correlation.
</p>
<p>The function <code>which.yX.Corr()</code> creats a design matrix which containts variables which have 
</p>


<h3>Author(s)</h3>

<p>Mikis Stasinopoulos <a href="mailto:d.stasinopoulos@londonmet.ac.uk">d.stasinopoulos@londonmet.ac.uk</a>, Bob Rigby and Fernada De Bastiani.
</p>


<h3>References</h3>

<p>Bjorn-Helge Mevik, Ron Wehrens and Kristian Hovde Liland
(2019). pls: Partial Least Squares and Principal Component
Regression. R package version 2.7-2.
https://CRAN.R-project.org/package=pls
</p>
<p>Rigby, R. A. and  Stasinopoulos D. M. (2005). Generalized additive models for location, scale and shape, (with discussion), 
<em>Appl. Statist.</em>, <b>54</b>, part 3, pp 507-554.
</p>
<p>Rigby, R. A., Stasinopoulos, D. M.,  Heller, G. Z.,  and De Bastiani, F. (2019)
<em>Distributions for modeling location, scale, and shape: Using GAMLSS in R</em>, Chapman and Hall/CRC, <a href="https://doi.org/10.1201/9780429298547">doi:10.1201/9780429298547</a>. An older version can be found in <a href="https://www.gamlss.com/">https://www.gamlss.com/</a>.
</p>
<p>Stasinopoulos D. M. Rigby R.A. (2007) Generalized additive models for location scale and shape (GAMLSS) in R.
<em>Journal of Statistical Software</em>, Vol. <b>23</b>, Issue 7, Dec 2007, <a href="https://doi.org/10.18637/jss.v023.i07">doi:10.18637/jss.v023.i07</a>.
</p>
<p>Stasinopoulos D. M., Rigby R.A., Heller G., Voudouris V., and De Bastiani F., (2017)
<em>Flexible Regression and Smoothing: Using GAMLSS in R</em>,  Chapman and Hall/CRC.  <a href="https://doi.org/10.1201/b21973">doi:10.1201/b21973</a>
</p>
<p>Stasinopoulos, M. D., Rigby, R. A., and De Bastiani F., (2018) GAMLSS: a distributional regression approach, <em>Statistical Modelling</em>, Vol. <b>18</b>, 
pp, 248-273, SAGE Publications Sage India: New Delhi, India. <a href="https://doi.org/10.1177/1471082X18759144">doi:10.1177/1471082X18759144</a>
</p>
<p>Stasinopoulos, M. D., Rigby, R. A., Georgikopoulos N., and De Bastiani F., (2021) Principal  component regression in GAMLSS  applied to Greek-German government bond yield spreads, <em>Statistical Modelling</em> 
<a href="https://doi.org/10.1177/1471082X211022980">doi:10.1177/1471082X211022980</a>.  
</p>
<p>(see also <a href="https://www.gamlss.com/">https://www.gamlss.com/</a>).  
. 
</p>


<h3>See Also</h3>

<p><code>pc</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(oil, package="gamlss.data")
dim(oil)
# which variables are highly correlated?
CC&lt;- which.Data.Corr(oil, r=0.999)
head(CC)
# 6 of them
# get the explanatory variables
form1 &lt;- as.formula(paste("OILPRICE ~ ",
          paste(names(oil)[-1],collapse='+'))) 
# no interactions
X &lt;- model.matrix(form1, data=oil)[,-1]
dim(X)
sX &lt;- which.yX.Corr(oil$OILPRICE,x=X, r=0.4)
dim(sX)
# first order interactions
form2 &lt;- as.formula(paste("OILPRICE ~ ",
        paste0(paste0("(",paste(names(oil)[-1], 
        collapse='+')), ")^2"))) 
form2
XX &lt;- model.matrix(form2, data=oil)[,-1]
dim(XX)
which.yX.Corr(oil$OILPRICE,x=XX, r=0.4)
</code></pre>


</div>