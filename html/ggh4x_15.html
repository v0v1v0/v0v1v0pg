<div class="container">

<table style="width: 100%;"><tr>
<td>facet_grid2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extended grid facets</h2>

<h3>Description</h3>

<p>This function behaves like ggplot2::facet_grid with default arguments, but
has a few extra options. It can draw partial or full axis guides at inner
panels, and position scales can be independent.
</p>


<h3>Usage</h3>

<pre><code class="language-R">facet_grid2(
  rows = NULL,
  cols = NULL,
  scales = "fixed",
  space = "fixed",
  axes = "margins",
  remove_labels = "none",
  independent = "none",
  shrink = TRUE,
  labeller = "label_value",
  as.table = TRUE,
  switch = NULL,
  drop = TRUE,
  margins = FALSE,
  render_empty = TRUE,
  strip = strip_vanilla()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rows, cols</code></td>
<td>
<p>A set of variables or expressions quoted by
<code>vars()</code> and defining faceting groups on the rows or columns
dimension. The variables can be named (the names are passed to
<code>labeller</code>).
</p>
<p>For compatibility with the classic interface, <code>rows</code> can also be
a formula with the rows (of the tabular display) on the LHS and
the columns (of the tabular display) on the RHS; the dot in the
formula is used to indicate there should be no faceting on this
dimension (either row or column).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>
<p>A <code>character(1)</code> or <code>logical(1)</code> whether scales are shared
across facets or allowed to vary. Interacts with the <code>independent</code>
argument. One of the following:
</p>

<dl>
<dt>
<code>"fixed"</code> or <code>FALSE</code>
</dt>
<dd>
<p>Scales are shared across all facets
(default).</p>
</dd>
<dt><code>"free_x"</code></dt>
<dd>
<p>x-scales are allowed to vary across rows.</p>
</dd>
<dt><code>"free_y"</code></dt>
<dd>
<p>y-scales are allowed to vary across columns.</p>
</dd>
<dt>
<code>"free"</code> or <code>TRUE</code>
</dt>
<dd>
<p>Scales can vary across rows and columns.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space</code></td>
<td>
<p>A <code>character(1)</code> or <code>logical(1)</code> determining whether the size of
panels are proportional to the length of the scales. When the <code>independent</code>
argument allows for free scales in a dimension, the panel sizes cannot be
proportional. Note that the <code>scales</code> argument must be free in the same
dimension as the <code>space</code> argument to have an effect.One of the following:
</p>

<dl>
<dt>
<code>"fixed"</code> or <code>FALSE</code>
</dt>
<dd>
<p>All panels have the same size (default).</p>
</dd>
<dt><code>"free_x"</code></dt>
<dd>
<p>Panel widths are proportional to the x-scales.</p>
</dd>
<dt><code>"free_y"</code></dt>
<dd>
<p>Panel heights are proportional to the y-scales.</p>
</dd>
<dt>
<code>"free"</code> or <code>TRUE</code>
</dt>
<dd>
<p>Both the widths and heights vary according to
scales.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p>A <code>character(1)</code> or <code>logical(1)</code> where axes should be drawn. One
of the following:
</p>

<dl>
<dt>
<code>"margins"</code> or <code>FALSE</code>
</dt>
<dd>
<p>Only draw axes at the outer margins
(default).</p>
</dd>
<dt><code>"x"</code></dt>
<dd>
<p>Draw axes at the outer margins and all inner x-axes too.</p>
</dd>
<dt><code>"y"</code></dt>
<dd>
<p>Draw axes at the outer margins and all inner y-axes too.</p>
</dd>
<dt>
<code>"all"</code> or <code>TRUE</code>
</dt>
<dd>
<p>Draw the axes for every panel.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_labels</code></td>
<td>
<p>A <code>character(1)</code> or <code>logical(1)</code> determining whether
axis text is displayed at inner panels. One of the following:
</p>

<dl>
<dt>
<code>"none"</code> or <code>FALSE</code>
</dt>
<dd>
<p>Display axis text at all axes (default).</p>
</dd>
<dt><code>"x"</code></dt>
<dd>
<p>Display axis text at outer margins and all inner y-axes.</p>
</dd>
<dt><code>"y"</code></dt>
<dd>
<p>Display axis text at outer margins and all inner x-axes.</p>
</dd>
<dt>
<code>"all"</code> or <code>TRUE</code>
</dt>
<dd>
<p>Only display axis text at the outer margins.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>independent</code></td>
<td>
<p>A <code>character(1)</code> or <code>logical(1)</code> determining whether
scales can vary within a row or column of panels, like they can be in
ggplot2::facet_wrap. The <code>scales</code> argument must be free for the same
dimension before they can be set to independent. One of the following:
</p>

<dl>
<dt>
<code>"none"</code> or <code>FALSE</code>
</dt>
<dd>
<p>All y-scales should be fixed in a row and all
x-scales are fixed in a column (default).</p>
</dd>
<dt><code>"x"</code></dt>
<dd>
<p>x-scales are allowed to vary within a column.</p>
</dd>
<dt><code>"y"</code></dt>
<dd>
<p>y-scales are allowed to vary within a row.</p>
</dd>
<dt>
<code>"all"</code> or <code>TRUE</code>
</dt>
<dd>
<p>Both x- and y-scales are allowed to vary within
a column or row respectively.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shrink</code></td>
<td>
<p>If <code>TRUE</code>, will shrink scales to fit output of
statistics, not raw data. If <code>FALSE</code>, will be range of raw data
before statistical summary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labeller</code></td>
<td>
<p>A function that takes one data frame of labels and
returns a list or data frame of character vectors. Each input
column corresponds to one factor. Thus there will be more than
one with <code>vars(cyl, am)</code>. Each output
column gets displayed as one separate line in the strip
label. This function should inherit from the "labeller" S3 class
for compatibility with <code>labeller()</code>. You can use different labeling
functions for different kind of labels, for example use <code>label_parsed()</code> for
formatting facet labels. <code>label_value()</code> is used by default,
check it for more details and pointers to other options.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.table</code></td>
<td>
<p>If <code>TRUE</code>, the default, the facets are laid out like
a table with highest values at the bottom-right. If <code>FALSE</code>, the
facets are laid out like a plot with the highest value at the top-right.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>switch</code></td>
<td>
<p>By default, the labels are displayed on the top and
right of the plot. If <code>"x"</code>, the top labels will be
displayed to the bottom. If <code>"y"</code>, the right-hand side
labels will be displayed to the left. Can also be set to
<code>"both"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>If <code>TRUE</code>, the default, all factor levels not used in the
data will automatically be dropped. If <code>FALSE</code>, all factor levels
will be shown, regardless of whether or not they appear in the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margins</code></td>
<td>
<p>Either a logical value or a character
vector. Margins are additional facets which contain all the data
for each of the possible values of the faceting variables. If
<code>FALSE</code>, no additional facets are included (the
default). If <code>TRUE</code>, margins are included for all faceting
variables. If specified as a character vector, it is the names of
variables for which margins are to be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>render_empty</code></td>
<td>
<p>A <code>logical(1)</code>: whether to draw panels without any data
(<code>TRUE</code>, default) or display these as blanks (<code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strip</code></td>
<td>
<p>An object created by a call to a strip function, such as
<code>strip_vanilla</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both the <code>independent</code> and <code>space</code> arguments only have an effect
when the <code>scales</code> argument in a dimension is free. However, the
<code>independent</code> and <code>space</code> arguments can <em>not</em> be used to simultaneously set
an independent scale and have the panel size be proportional to that scale.
</p>


<h3>Value</h3>

<p>A <code>Facet</code> ggproto object that can be added to a plot.
</p>


<h3>See Also</h3>

<p>Other facetting functions: 
<code>facet_manual()</code>,
<code>facet_nested_wrap()</code>,
<code>facet_nested()</code>,
<code>facet_wrap2()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">p &lt;- ggplot(mpg, aes(displ, hwy)) + geom_point()

# Repeat all axes for every facet
p + facet_grid2(cyl ~ drv, axes = "all")

# Repeat only y-axes
p + facet_grid2(cyl ~  drv, axes = "y")

# Repeat axes without x-labels
p + facet_grid2(cyl ~ drv, axes = "all", remove_labels = "x")

# Grid facets with independent axes for every panel
p + facet_grid2(cyl ~ drv, scales = "free", independent = "all")
</code></pre>


</div>