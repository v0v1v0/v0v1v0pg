<div class="container">

<table style="width: 100%;"><tr>
<td>pmx</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a pmx object</h2>

<h3>Description</h3>

<p>Create a pmx object from a data source
</p>


<h3>Usage</h3>

<pre><code class="language-R">pmx(
  config,
  sys = "mlx",
  directory,
  input,
  dv,
  dvid,
  cats = NULL,
  conts = NULL,
  occ = NULL,
  strats = NULL,
  settings = NULL,
  endpoint = NULL,
  sim = NULL,
  bloq = NULL,
  id = NULL,
  time = NULL,
  sim_blq = NULL
)

pmx_mlx(
  config,
  directory,
  input,
  dv,
  dvid,
  cats,
  conts,
  occ,
  strats,
  settings,
  endpoint,
  sim,
  bloq,
  id,
  time,
  sim_blq
)

pmx_mlxtran(
  file_name,
  config = "standing",
  call = FALSE,
  endpoint,
  version = -1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>config</code></td>
<td>
<p>Can be either :
The complete path for the configuration file, the name of configuration within the built-in
list of configurations, or a configuration object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sys</code></td>
<td>
<p>the system name can "mlx" (for Monolix 2016) or "mlx18" (for Monolix 2018/19 and later)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>directory</code></td>
<td>
<p><code>character</code> modelling output directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p><code>character</code> complete path to the modelling input file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dv</code></td>
<td>
<p><code>character</code> the name of measurable variable used in the input modelling file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dvid</code></td>
<td>
<p><em>[Optional]</em> <code>character</code> observation type parameter. This is mandatory
in case of multiple endpoint (PKPD).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cats</code></td>
<td>
<p><em>[Optional]</em><code>character</code> vector of categorical covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conts</code></td>
<td>
<p><em>[Optional]</em><code>character</code> vector of continuous covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>occ</code></td>
<td>
<p><em>[Optional]</em><code>character</code> occasional covariate variable name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strats</code></td>
<td>
<p><em>[Optional]</em><code>character</code> extra stratification variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>settings</code></td>
<td>
<p><em>[Optional]</em><code>pmxSettingsClass</code> <code>pmx_settings</code>
shared between all plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endpoint</code></td>
<td>
<p><code>pmxEndpointClass</code> or <code>integer</code> or <code>charcater</code> default to NULL
of the endpoint code.   <code>pmx_endpoint</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim</code></td>
<td>
<p><code>pmxSimClass</code> default to NULL. <code>pmx_sim</code> used for VPC, e.g.: sim = pmx_sim(file=vpc_file, irun="rep",idv="TIME")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bloq</code></td>
<td>
<p><code>pmxBLOQClass</code> default to NULL. <code>pmx_bloq</code> specify bloq, within controller: e.g. bloq=pmx_bloq(cens = "BLOQ_name", limit = "LIMIT_name")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p><em>[Optional]</em>  <code>character</code> the name of Indvidual variable used in the input modelling file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p><em>[Optional]</em> <code>character</code> Time variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim_blq</code></td>
<td>
<p><code>logical</code> if TRUE uses sim_blq values for plotting. Only for Monolix 2018 and later.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_name</code></td>
<td>
<p><code>character</code> mlxtran file path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p><code>logical</code> if TRUE the result is the parameters parsed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>version</code></td>
<td>
<p><code>integer</code> Non-negative integer. Non-obligatory option, if you don't use a wildcard in the file_name.
Otherwise you MUST provide version and wildcard will be substituted with "version", which represents the mlxtran model version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>extra arguments passed to pmx_mlx.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>pmx_mlx</code>  is a wrapper to mlx for the MONOLIX system ( <code>sys="mlx"</code>)
</p>
<p><code>pmx_mlxtran</code> parses mlxtran file and guess <code>pmx_mlx</code> arguments. In case of
multi endpoint the first endpoint is selected. You can though set the endpoint through the same argument.
When you set <code>call=TRUE</code>,no controller is created but only the parameters parsed
by mlxtran. This can be very helpful, in case you would like to customize parameters
(adding settings vi pmx_settings, chnag eth edefault endpoint.)
</p>


<h3>Value</h3>

<p><code>pmxClass</code> controller object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

## Example to create the controller using theophylline data
theophylline &lt;- file.path(system.file(package = "ggPMX"), "testdata",
                          "theophylline")
WORK_DIR &lt;- file.path(theophylline, "Monolix")
input_file &lt;- file.path(theophylline, "data_pk.csv")

## using only mandatory variables
ctr &lt;- pmx(
  sys="mlx",
  config = "standing",
  directory = WORK_DIR,
  input = input_file,
  dv = "Y",
  dvid ="DVID"
)
## Using covariates
ctr &lt;- pmx(
  sys="mlx",
  config = "standing",
  directory = WORK_DIR,
  input = input_file,
  dv = "Y",
  dvid ="DVID",
  cats=c("SEX"),
  conts=c("WT0","AGE0"),
  strats="STUD"
)
## using settings parameter
ctr &lt;- pmx(
  sys="mlx",
  config = "standing",
  directory = WORK_DIR,
  input = input_file,
  dv = "Y",
  dvid ="DVID",
  settings=list(is.draft=FALSE)
)

## using mlxtran file
mlxtran_file &lt;- 
  file.path(system.file(package = "ggPMX"), 
    "testdata","1_popPK_model","project.mlxtran")
pmx_mlxtran(mlxtran_file)

## mlxtran , call =TRUE to get the pmx_mlx argument parsed by  pmx_mlxtran
params &lt;- pmx_mlxtran(mlxtran_file,call=TRUE)

str(params)
# $ directory: chr results_pathile 
# $ input    : chr observation file path
# $ dv       : chr "DV"
# $ cats     : chr [1:4] "SEX" "RACE" "DISE" "ILOW"
# $ conts    : chr [1:4] "AGE0" "WT0" "HT0" "TRT"
# $ occ      : chr "ISS"
# $ dvid     : chr "YTYPE"
# $ endpoint :List of 5
# ..$ code     : chr "1"
# ..$ label    : chr ""
# ..$ unit     : chr ""
# ..$ file.code: chr "1"
# ..$ trans    : NULL
# ..- attr(*, "class")= chr "pmxEndpointClass"
# $ config   : chr "standing"

</code></pre>


</div>