<div class="container">

<table style="width: 100%;"><tr>
<td>spd_lesh</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>SHAP power of determinants (SPD)</h2>

<h3>Description</h3>

<p>Function for calculate SHAP power of determinants <code class="reqn">SPD</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">spd_lesh(formula, data, cores = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula of calculate SHAP power of determinants <code class="reqn">SPD</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data.frame or tibble of observation data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>(optional) A positive integer(default is 1). If cores &gt; 1, a 'parallel' package
cluster with that many cores is created and used. You can also supply a cluster object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>(optional) Other arguments passed to <code>rpart_disc()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The power of SHAP power of determinants formula is
</p>
<p><code class="reqn">\theta_{x_j} \left( S \right) = \sum\limits_{s \in M \setminus \{x_j\}} \frac{|S|! \left(|M| - |S| - 1\right)!}{|M|!}\left(v \left(S \cup \left\{x_j\right\} \right) - v\left(S\right)\right)</code>.
</p>
<p>SHAP power of determinants (SPD) is the contribution of variable <code class="reqn">x_j</code> to the power of determinants.
</p>


<h3>Value</h3>

<p>A tibble with variable and its corresponding <code class="reqn">SPD</code> value.
</p>


<h3>Note</h3>

<p>The SHAP power of determinants (SPD) requires at least <code class="reqn">2^n-1</code> calculations when has <code class="reqn">n</code> explanatory variables.
When there are more than 10 explanatory variables, carefully consider the computational burden of this model.
When there are a large number of explanatory variables, the data dimensionality reduction method can be used
to ensure the trade-off between analysis results and calculation speed.
</p>


<h3>Author(s)</h3>

<p>Wenbo Lv <a href="mailto:lyu.geosocial@gmail.com">lyu.geosocial@gmail.com</a>
</p>


<h3>References</h3>

<p>Li, Y., Luo, P., Song, Y., Zhang, L., Qu, Y., &amp; Hou, Z. (2023). A locally explained heterogeneity model for
examining wetland disparity. International Journal of Digital Earth, 16(2), 4533â€“4552.
https://doi.org/10.1080/17538947.2023.2271883
</p>


<h3>Examples</h3>

<pre><code class="language-R">data('ndvi')
g = spd_lesh(NDVIchange ~ ., data = ndvi)
g

</code></pre>


</div>