<div class="container">

<table style="width: 100%;"><tr>
<td>calculate_grid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate grid from spatial polygons.</h2>

<h3>Description</h3>

<p>Given an input multipolgyon spatial data frame this function calculates a
hexagonal or regular grid that strives to preserve the original geography.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calculate_grid(
  shape,
  learning_rate = 0.03,
  grid_type = c("hexagonal", "regular"),
  seed = NULL,
  verbose = FALSE
)

## S3 method for class 'SpatialPolygonsDataFrame'
calculate_grid(
  shape,
  learning_rate = 0.03,
  grid_type = c("hexagonal", "regular"),
  seed = NULL,
  verbose = FALSE
)

## S3 method for class 'sf'
calculate_grid(
  shape,
  learning_rate = 0.03,
  grid_type = c("hexagonal", "regular"),
  seed = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>A 'SpatialPolygonsDataFrame' or an sf object representing the
original spatial polygons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>learning_rate</code></td>
<td>
<p>The rate at which the gradient descent finds the optimum
cellsize to ensure that your gridded points fit within the outer boundary of
the input polygons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid_type</code></td>
<td>
<p>Either 'hexagonal' for a hexagonal grid (default) or
'regular' for a regular grid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>An optional random seed integer to be used for the grid
calculation algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A logical indicating whether messages should be printed as
the algorithm iterates.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">library(sf)
input_file &lt;- system.file('extdata', 'london_LA.json', package = 'geogrid')
original_shapes &lt;- st_read(input_file) %&gt;% st_set_crs(27700)

# calculate grid
new_cells &lt;- calculate_grid(shape = original_shapes,
  grid_type = 'hexagonal', seed = 1)
grid_shapes &lt;- assign_polygons(original_shapes, new_cells)
plot(grid_shapes)

par(mfrow = c(1, 2))
plot(st_geometry(original_shapes))
plot(st_geometry(grid_shapes))

## Not run: 
# look at different grids using different seeds
par(mfrow=c(2, 3), mar = c(0, 0, 2, 0))
for (i in 1:6) {
  new_cells &lt;- calculate_grid(shape = original_shapes,
    grid_type = 'hexagonal', seed = i)
  plot(new_cells, main = paste('Seed', i, sep=' '))
}

## End(Not run)
</code></pre>


</div>