<div class="container">

<table style="width: 100%;"><tr>
<td>GEOTOPO</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Topographic Plot of geographic region</h2>

<h3>Description</h3>

<p>Extract subset of a topographic database, interpolate and
plot using the persp program.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GEOTOPO(TOPO, PLOC, PROJ, calcol=NULL, nx=500, ny=500, nb = 4, mb = 4, hb = 8, PLOT=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>TOPO</code></td>
<td>
<p>list of x,y,z for a DEM </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PLOC</code></td>
<td>
<p>Location list, includes vectors LON and Lat</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PROJ</code></td>
<td>
<p>projection</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calcol</code></td>
<td>
<p>color table for coloring elevations above sea level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nx</code></td>
<td>
<p>number of points in x grid, default=500</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ny</code></td>
<td>
<p>number of points in y grid, default=500</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nb</code></td>
<td>
<p>see function mba.surf, default = 4</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mb</code></td>
<td>
<p>see function mba.surf, default = 4</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hb</code></td>
<td>
<p>see function mba.surf , default= 8</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PLOT</code></td>
<td>
<p> logical, TRUE=plot a map and return color map</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The return matrix PMAT is a rotation matrix used for adding
geographic (projected) data onto the perspective plot.
</p>
<p>ETOPO5 or ETOPO2 can be downloaded from
and installed using these links:
<a href="http://leesj.sites.oasis.unc.edu/FETCH/GRAB/RPACKAGES/ETOPO2.RData">http://leesj.sites.oasis.unc.edu/FETCH/GRAB/RPACKAGES/ETOPO2.RData</a>
and
<a href="http://leesj.sites.oasis.unc.edu/FETCH/GRAB/RPACKAGES/ETOPO5.RData">http://leesj.sites.oasis.unc.edu/FETCH/GRAB/RPACKAGES/ETOPO5.RData</a>
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>PMAT</code></td>
<td>
<p>Matrix from persp, used for adding other geographic
information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xo</code></td>
<td>
<p>x-coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> yo</code></td>
<td>
<p>y-coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IZ</code></td>
<td>
<p>interpolated elevations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Cmat</code></td>
<td>
<p>matrix of RGB Colors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Dcol</code></td>
<td>
<p>dimensions of Cmat</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>If PLOT is false the transform matrix PMAT and the color
mapping matrix Cmat will be returned as NA.
To create these for future plotting, use TOPOCOL or LandSeaCol
functions.  TOPOCOL simply assigns values above sea level with
one color scale and those below with under water colors.
LandSeaCol requires a coastal map and fills in
land areas with terrain colors and sea areas with blue palette colors.
</p>


<h3>Author(s)</h3>

<p>Jonathan M. Lees&lt;jonathan.lees.edu&gt;</p>


<h3>See Also</h3>

<p>subsetTOPO, TOPOCOL,  LandSeaCol, settopocol,  subsetTOPO, persp, DOTOPOMAPI</p>


<h3>Examples</h3>

<pre><code class="language-R">

## Not run: 

library(geomapdata)

####  need to download and install ETOPO data
###   data(ETOPO5)
load(ETOPO5)
PLOC=list(LON=c(137.008, 141.000),LAT=c(34.000, 36.992),
            x=c(137.008, 141.000), y=c(34.000, 36.992) )

 PROJ = setPROJ(type=2, LAT0=mean(PLOC$y) , LON0=mean(PLOC$x) )
COLS = settopocol()
JMAT = GEOTOPO(ETOPO5, PLOC, PROJ, COLS$calcol, nx=1000, ny=1000, nb=8, mb=8, hb=12, PLOT=TRUE)

############  this plot can be duplicated by using the output or GEOTOPO


 PMAT = persp(JMAT$xo, JMAT$yo, JMAT$IZ$z, theta = 0, phi = 90, r=4000,
col=JMAT$Cmat[1:(JMAT$Dcol[1]-1), 1:(JMAT$Dcol[2]-1)] , scale = FALSE,
      ltheta = 120, lphi=60, shade = 0.75, border = NA, expand=0.001, box = FALSE )



## End(Not run)


</code></pre>


</div>