<div class="container">

<table style="width: 100%;"><tr>
<td>ggrisk</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Risk Score Plot for Cox Regression</h2>

<h3>Description</h3>

<p>Risk Score Plot for Cox Regression
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggrisk(
  fit,
  heatmap.genes = NULL,
  new.data = NULL,
  code.0 = "Alive",
  code.1 = "Dead",
  code.highrisk = "High",
  code.lowrisk = "Low",
  cutoff.show = TRUE,
  cutoff.value = "median",
  cutoff.x = NULL,
  cutoff.y = NULL,
  cutoff.label = NULL,
  title.A.ylab = "Risk Score",
  title.B.ylab = "Survival Time",
  title.A.legend = "Risk Group",
  title.B.legend = "Status",
  title.C.legend = "Expression",
  size.ABC = 1.5,
  size.ylab.title = 14,
  size.Atext = 11,
  size.Btext = 11,
  size.Ctext = 11,
  size.yticks = 0.5,
  size.yline = 0.5,
  size.points = 2,
  size.dashline = 1,
  size.cutoff = 5,
  size.legendtitle = 13,
  size.legendtext = 12,
  color.A = c(low = "blue", high = "red"),
  color.B = c(code.0 = "blue", code.1 = "red"),
  color.C = c(low = "blue", median = "white", high = "red"),
  vjust.A.ylab = 1,
  vjust.B.ylab = 2,
  family = "sans",
  expand.x = 3,
  relative_heights = c(0.1, 0.1, 0.01, 0.15)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>cox regression results of coxph() from 'survival' package or cph() from 'rms' package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heatmap.genes</code></td>
<td>
<p>(optional) numeric variables. Name for genes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new.data</code></td>
<td>
<p>new data for validation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code.0</code></td>
<td>
<p>string. Code for event 0. Default is 'Alive'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code.1</code></td>
<td>
<p>string. Code for event 1. Default is 'Dead'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code.highrisk</code></td>
<td>
<p>string. Code for highrisk in risk score. Default is 'High'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code.lowrisk</code></td>
<td>
<p>string. Code for lowrisk in risk score. Default is 'Low'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.show</code></td>
<td>
<p>logical, whether to show text for cutoff in figure A. Default is TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.value</code></td>
<td>
<p>string, which can be 'median', 'roc' or 'cutoff'. Even you can define it by yourself</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.x</code></td>
<td>
<p>numeric (optional), ordination x for cutoff text</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.y</code></td>
<td>
<p>numeric (optional), ordination y for cutoff text</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.label</code></td>
<td>
<p>(should be) string. Define cutoff label by yourself</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.A.ylab</code></td>
<td>
<p>string, y-lab title for figure A. Default is 'Risk Score'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.B.ylab</code></td>
<td>
<p>string, y-lab title for figure B. Default is 'Survival Time'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.A.legend</code></td>
<td>
<p>string, legend title for figure A. Default is 'Risk Group'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.B.legend</code></td>
<td>
<p>string, legend title for figure B. Default is 'Status'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.C.legend</code></td>
<td>
<p>string, legend title for figure C. Default is 'Expression'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.ABC</code></td>
<td>
<p>numeric, size for ABC. Default is 1.5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.ylab.title</code></td>
<td>
<p>numeric, size for y-axis label title. Default is 14</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.Atext</code></td>
<td>
<p>numeric, size for y-axis text in figure A. Default is 11</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.Btext</code></td>
<td>
<p>numeric, size for y-axis text in figure B. Default is 11</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.Ctext</code></td>
<td>
<p>numeric, size for y-axis text in figure C. Default is 11</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.yticks</code></td>
<td>
<p>numeric, size for y-axis ticks. Default is 0.5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.yline</code></td>
<td>
<p>numeric, size for y-axis line. Default is 0.5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.points</code></td>
<td>
<p>numeric, size for scatter points. Default is 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.dashline</code></td>
<td>
<p>numeric, size for dashline. Default is 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.cutoff</code></td>
<td>
<p>numeric, size for cutoff text. Default is 5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.legendtitle</code></td>
<td>
<p>numeric, size for legend title. Default is 13</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.legendtext</code></td>
<td>
<p>numeric, size for legend text. Default is 12</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color.A</code></td>
<td>
<p>color for figure A. Default is low = 'blue', high = 'red'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color.B</code></td>
<td>
<p>color for figure B. Default is code.0 = 'blue', code.1 = 'red'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color.C</code></td>
<td>
<p>color for figure C. Default is low = 'blue', median = 'white', high = 'red'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vjust.A.ylab</code></td>
<td>
<p>numeric, vertical just for y-label in figure A. Default is 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vjust.B.ylab</code></td>
<td>
<p>numeric, vertical just for y-label in figure B. Default is 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>family, default is sans</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expand.x</code></td>
<td>
<p>numeric, expand for x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relative_heights</code></td>
<td>
<p>numeric, relative heights for figure A, B, colored side bar and heatmap. Default is 0.1 0.1 0.01 and 0.15</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A risk score picture
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(rms)
library(ggrisk)
fit &lt;- cph(Surv(time,status)~ANLN+CENPA+GPR182+BCO2,LIRI)
ggrisk(fit,
       cutoff.value='median',
       cutoff.x = 145,
       cutoff.y = -0.8)


#more detailed example
#plot
ggrisk(fit)

#heatmap.genes
ggrisk(fit,
       heatmap.genes=c('GPR182','CENPA','BCO2'))

#cutoff
ggrisk(fit,
       cutoff.value='median') #default
ggrisk(fit,
       cutoff.value='roc')
ggrisk(fit,
       cutoff.value='cutoff')
ggrisk(fit,
       cutoff.value=-1)
ggrisk(fit,
       cutoff.value='median',
       cutoff.x = 145,
       cutoff.y = -0.8)
ggrisk(fit,
       cutoff.value='median',
       cutoff.x = 145,
       cutoff.y = -0.8,
       cutoff.label='This is cutoff')

#code for 0 and 1
ggrisk(fit,
       cutoff.value='median',
       cutoff.x = 145,
       cutoff.y = -0.8,
       code.0 = 'Still Alive',
       code.1 = 'Already Dead')

#code for high and low risk group
ggrisk(fit,
       cutoff.value='median',
       cutoff.x = 145,
       cutoff.y = -0.8,
       code.0 = 'Still Alive',
       code.1 = 'Already Dead',
       code.highrisk = 'High Risk',
       code.lowrisk = 'Low Risk')
#title
ggrisk(fit,
       cutoff.value='median',
       cutoff.x = 145,
       cutoff.y = -0.8,
       code.0 = 'Still Alive',
       code.1 = 'Already Dead',
       code.highrisk = 'High Risk',
       code.lowrisk = 'Low Risk',
       title.A.ylab='Risk Score',
       title.B.ylab='Survival Time(year)',
       title.A.legend='Risk Group',
       title.B.legend='Status',
       title.C.legend='Expression')
#size
ggrisk(fit,
       cutoff.value='median',
       cutoff.x = 145,
       cutoff.y = -0.8,
       code.0 = 'Still Alive',
       code.1 = 'Already Dead',
       code.highrisk = 'High Risk',
       code.lowrisk = 'Low Risk',
       title.A.ylab='Risk Score',
       title.B.ylab='Survival Time(year)',
       title.A.legend='Risk Group',
       title.B.legend='Status',
       title.C.legend='Expression',
       size.ABC=1.5,
       size.ylab.title=14,
       size.Atext=11,
       size.Btext=11,
       size.Ctext=11,
       size.yticks=0.5,
       size.yline=0.5,
       size.points=2,
       size.dashline=1,
       size.cutoff=5,
       size.legendtitle=13,
       size.legendtext=12)
#color
ggrisk(fit,
       cutoff.value='median',
       cutoff.x = 145,
       cutoff.y = -0.8,
       code.0 = 'Still Alive',
       code.1 = 'Already Dead',
       code.highrisk = 'High Risk',
       code.lowrisk = 'Low Risk',
       title.A.ylab='Risk Score',
       title.B.ylab='Survival Time(year)',
       title.A.legend='Risk Group',
       title.B.legend='Status',
       title.C.legend='Expression',
       size.ABC=1.5,
       size.ylab.title=14,
       size.Atext=11,
       size.Btext=11,
       size.Ctext=11,
       size.yticks=0.5,
       size.yline=0.5,
       size.points=2,
       size.dashline=1,
       size.cutoff=5,
       size.legendtitle=13,
       size.legendtext=12,
       color.A=c(low='blue',high='red'),
       color.B=c(code.0='blue',code.1='red'),
       color.C=c(low='blue',median='white',high='red'))

#vjust
ggrisk(fit,
       cutoff.value='median',
       cutoff.x = 145,
       cutoff.y = -0.8,
       code.0 = 'Still Alive',
       code.1 = 'Already Dead',
       code.highrisk = 'High Risk',
       code.lowrisk = 'Low Risk',
       title.A.ylab='Risk Score',
       title.B.ylab='Survival Time(year)',
       title.A.legend='Risk Group',
       title.B.legend='Status',
       title.C.legend='Expression',
       size.ABC=1.5,
       size.ylab.title=14,
       size.Atext=11,
       size.Btext=11,
       size.Ctext=11,
       size.yticks=0.5,
       size.yline=0.5,
       size.points=2,
       size.dashline=1,
       size.cutoff=5,
       size.legendtitle=13,
       size.legendtext=12,
       color.A=c(low='blue',high='red'),
       color.B=c(code.0='blue',code.1='red'),
       color.C=c(low='blue',median='white',high='red'),
       vjust.A.ylab=1,
       vjust.B.ylab=2)

#family, expand, relative height
ggrisk(fit,
       cutoff.value='median',
       cutoff.x = 145,
       cutoff.y = -0.8,
       code.0 = 'Still Alive',
       code.1 = 'Already Dead',
       code.highrisk = 'High Risk',
       code.lowrisk = 'Low Risk',
       title.A.ylab='Risk Score',
       title.B.ylab='Survival Time(year)',
       title.A.legend='Risk Group',
       title.B.legend='Status',
       title.C.legend='Expression',
       size.ABC=1.5,
       size.ylab.title=14,
       size.Atext=11,
       size.Btext=11,
       size.Ctext=11,
       size.yticks=0.5,
       size.yline=0.5,
       size.points=2,
       size.dashline=1,
       size.cutoff=5,
       size.legendtitle=13,
       size.legendtext=12,
       color.A=c(low='blue',high='red'),
       color.B=c(code.0='blue',code.1='red'),
       color.C=c(low='blue',median='white',high='red'),
       vjust.A.ylab=1,
       vjust.B.ylab=2,
       family='sans',
       expand.x=3,
       relative_heights=c(0.1,0.1,0.01,0.15))

</code></pre>


</div>