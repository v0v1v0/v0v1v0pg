<div class="container">

<table style="width: 100%;"><tr>
<td>ggbarstats</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stacked bar charts with statistical tests</h2>

<h3>Description</h3>

<p>Bar charts for categorical data with statistical details included in the plot
as a subtitle.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggbarstats(
  data,
  x,
  y,
  counts = NULL,
  type = "parametric",
  paired = FALSE,
  results.subtitle = TRUE,
  label = "percentage",
  label.args = list(alpha = 1, fill = "white"),
  sample.size.label.args = list(size = 4),
  digits = 2L,
  proportion.test = results.subtitle,
  digits.perc = 0L,
  bf.message = TRUE,
  ratio = NULL,
  conf.level = 0.95,
  sampling.plan = "indepMulti",
  fixed.margin = "rows",
  prior.concentration = 1,
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  legend.title = NULL,
  xlab = NULL,
  ylab = NULL,
  ggtheme = ggstatsplot::theme_ggstatsplot(),
  package = "RColorBrewer",
  palette = "Dark2",
  ggplot.component = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame (or a tibble) from which variables specified are to
be taken. Other data types (e.g., matrix,table, array, etc.) will <strong>not</strong>
be accepted. Additionally, grouped data frames from <code>{dplyr}</code> should be
ungrouped before they are entered as <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The variable to use as the <strong>rows</strong> in the contingency table. Please
note that if there are empty factor levels in your variable, they will be
dropped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The variable to use as the <strong>columns</strong> in the contingency table.
Please note that if there are empty factor levels in your variable, they
will be dropped. Default is <code>NULL</code>. If <code>NULL</code>, one-sample proportion test
(a goodness of fit test) will be run for the <code>x</code> variable. Otherwise an
appropriate association test will be run. This argument can not be <code>NULL</code>
for <code>ggbarstats</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counts</code></td>
<td>
<p>The variable in data containing counts, or <code>NULL</code> if each row
represents a single observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A character specifying the type of statistical approach:
</p>

<ul>
<li> <p><code>"parametric"</code>
</p>
</li>
<li> <p><code>"nonparametric"</code>
</p>
</li>
<li> <p><code>"robust"</code>
</p>
</li>
<li> <p><code>"bayes"</code>
</p>
</li>
</ul>
<p>You can specify just the initial letter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paired</code></td>
<td>
<p>Logical indicating whether data came from a within-subjects or
repeated measures design study (Default: <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>results.subtitle</code></td>
<td>
<p>Decides whether the results of statistical tests are
to be displayed as a subtitle (Default: <code>TRUE</code>). If set to <code>FALSE</code>, only
the plot will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>Character decides what information needs to be displayed
on the label in each pie slice. Possible options are <code>"percentage"</code>
(default), <code>"counts"</code>, <code>"both"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.args</code></td>
<td>
<p>Additional aesthetic arguments that will be passed to
<code>ggplot2::geom_label()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample.size.label.args</code></td>
<td>
<p>Additional aesthetic arguments that will be passed to
<code>ggplot2::geom_text()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Number of digits for rounding or significant figures. May also
be <code>"signif"</code> to return significant figures or <code>"scientific"</code>
to return scientific notation. Control the number of digits by adding the
value as suffix, e.g. <code>digits = "scientific4"</code> to have scientific
notation with 4 decimal places, or <code>digits = "signif5"</code> for 5
significant figures (see also <code>signif()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proportion.test</code></td>
<td>
<p>Decides whether proportion test for <code>x</code> variable is to
be carried out for each level of <code>y</code>. Defaults to <code>results.subtitle</code>. In
<code>ggbarstats</code>, only <em>p</em>-values from this test will be displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits.perc</code></td>
<td>
<p>Numeric that decides number of decimal places for percentage
labels (Default: <code>0L</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bf.message</code></td>
<td>
<p>Logical that decides whether to display Bayes Factor in
favor of the <em>null</em> hypothesis. This argument is relevant only <strong>for
parametric test</strong> (Default: <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio</code></td>
<td>
<p>A vector of proportions: the expected proportions for the
proportion test (should sum to <code>1</code>). Default is <code>NULL</code>, which means the null
is equal theoretical proportions across the levels of the nominal variable.
E.g., <code>ratio = c(0.5, 0.5)</code> for two levels,
<code>ratio = c(0.25, 0.25, 0.25, 0.25)</code> for four levels, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Scalar between <code>0</code> and <code>1</code> (default: <code style="white-space: pre;">⁠95%⁠</code>
confidence/credible intervals, <code>0.95</code>). If <code>NULL</code>, no confidence intervals
will be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampling.plan</code></td>
<td>
<p>Character describing the sampling plan. Possible options
are <code>"indepMulti"</code> (independent multinomial; default), <code>"poisson"</code>,
<code>"jointMulti"</code> (joint multinomial), <code>"hypergeom"</code> (hypergeometric). For
more, see <code>?BayesFactor::contingencyTableBF()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed.margin</code></td>
<td>
<p>For the independent multinomial sampling plan, which
margin is fixed (<code>"rows"</code> or <code>"cols"</code>). Defaults to <code>"rows"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior.concentration</code></td>
<td>
<p>Specifies the prior concentration parameter, set
to <code>1</code> by default. It indexes the expected deviation from the null
hypothesis under the alternative, and corresponds to Gunel and Dickey's
(1974) <code>"a"</code> parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>The text for the plot title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtitle</code></td>
<td>
<p>The text for the plot subtitle. Will work only if
<code>results.subtitle = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>The text for the plot caption. This argument is relevant only
if <code>bf.message = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.title</code></td>
<td>
<p>Title text for the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Label for <code>x</code> axis variable. If <code>NULL</code> (default),
variable name for <code>x</code> will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Labels for <code>y</code> axis variable. If <code>NULL</code> (default),
variable name for <code>y</code> will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ggtheme</code></td>
<td>
<p>A <code>{ggplot2}</code> theme. Default value is
<code>ggstatsplot::theme_ggstatsplot()</code>. Any of the <code>{ggplot2}</code> themes (e.g.,
<code>theme_bw()</code>), or themes from extension packages are allowed (e.g.,
<code>ggthemes::theme_fivethirtyeight()</code>, <code>hrbrthemes::theme_ipsum_ps()</code>, etc.).
But note that sometimes these themes will remove some of the details that
<code>{ggstatsplot}</code> plots typically contains. For example, if relevant,
<code>ggbetweenstats()</code> shows details about multiple comparison test as a label
on the secondary Y-axis. Some themes (e.g.
<code>ggthemes::theme_fivethirtyeight()</code>) will remove the secondary Y-axis and
thus the details as well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>package, palette</code></td>
<td>
<p>Name of the package from which the given palette is to
be extracted. The available palettes and packages can be checked by running
<code>View(paletteer::palettes_d_names)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ggplot.component</code></td>
<td>
<p>A <code>ggplot</code> component to be added to the plot prepared
by <code>{ggstatsplot}</code>. This argument is primarily helpful for <code>grouped_</code>
variants of all primary functions. Default is <code>NULL</code>. The argument should
be entered as a <code>{ggplot2}</code> function or a list of <code>{ggplot2}</code> functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Currently ignored.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For details, see:
<a href="https://indrajeetpatil.github.io/ggstatsplot/articles/web_only/ggpiestats.html">https://indrajeetpatil.github.io/ggstatsplot/articles/web_only/ggpiestats.html</a>
</p>


<h3>Summary of graphics</h3>


<table>
<tr>
<td style="text-align: left;">
   graphical element </td>
<td style="text-align: left;"> <code>geom</code> used </td>
<td style="text-align: left;"> argument for further modification </td>
</tr>
<tr>
<td style="text-align: left;">
   bars </td>
<td style="text-align: left;"> <code>ggplot2::geom_bar()</code> </td>
<td style="text-align: left;"> <code>NA</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   descriptive labels </td>
<td style="text-align: left;"> <code>ggplot2::geom_label()</code> </td>
<td style="text-align: left;"> <code>label.args</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   sample size labels </td>
<td style="text-align: left;"> <code>ggplot2::geom_text()</code> </td>
<td style="text-align: left;"> <code>sample.size.label.args</code> </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Contingency table analyses</h3>

<p>The table below provides summary about:
</p>

<ul>
<li>
<p> statistical test carried out for inferential statistics
</p>
</li>
<li>
<p> type of effect size estimate and a measure of uncertainty for this estimate
</p>
</li>
<li>
<p> functions used internally to compute these details
</p>
</li>
</ul>
<h4>two-way table</h4>

<p><strong>Hypothesis testing</strong></p>

<table>
<tr>
<td style="text-align: left;">
   Type </td>
<td style="text-align: left;"> Design </td>
<td style="text-align: left;"> Test </td>
<td style="text-align: left;"> Function used </td>
</tr>
<tr>
<td style="text-align: left;">
   Parametric/Non-parametric </td>
<td style="text-align: left;"> Unpaired </td>
<td style="text-align: left;"> Pearson's chi-squared test </td>
<td style="text-align: left;"> <code>stats::chisq.test()</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   Bayesian </td>
<td style="text-align: left;"> Unpaired </td>
<td style="text-align: left;"> Bayesian Pearson's chi-squared test </td>
<td style="text-align: left;"> <code>BayesFactor::contingencyTableBF()</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   Parametric/Non-parametric </td>
<td style="text-align: left;"> Paired </td>
<td style="text-align: left;"> McNemar's chi-squared test </td>
<td style="text-align: left;"> <code>stats::mcnemar.test()</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   Bayesian </td>
<td style="text-align: left;"> Paired </td>
<td style="text-align: left;"> No </td>
<td style="text-align: left;"> No </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p><strong>Effect size estimation</strong></p>

<table>
<tr>
<td style="text-align: left;">
   Type </td>
<td style="text-align: left;"> Design </td>
<td style="text-align: left;"> Effect size </td>
<td style="text-align: left;"> CI available? </td>
<td style="text-align: left;"> Function used </td>
</tr>
<tr>
<td style="text-align: left;">
   Parametric/Non-parametric </td>
<td style="text-align: left;"> Unpaired </td>
<td style="text-align: left;"> Cramer's <em>V</em> </td>
<td style="text-align: left;"> Yes </td>
<td style="text-align: left;"> <code>effectsize::cramers_v()</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   Bayesian </td>
<td style="text-align: left;"> Unpaired </td>
<td style="text-align: left;"> Cramer's <em>V</em> </td>
<td style="text-align: left;"> Yes </td>
<td style="text-align: left;"> <code>effectsize::cramers_v()</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   Parametric/Non-parametric </td>
<td style="text-align: left;"> Paired </td>
<td style="text-align: left;"> Cohen's <em>g</em> </td>
<td style="text-align: left;"> Yes </td>
<td style="text-align: left;"> <code>effectsize::cohens_g()</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   Bayesian </td>
<td style="text-align: left;"> Paired </td>
<td style="text-align: left;"> No </td>
<td style="text-align: left;"> No </td>
<td style="text-align: left;"> No </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h4>one-way table</h4>

<p><strong>Hypothesis testing</strong></p>

<table>
<tr>
<td style="text-align: left;">
   Type </td>
<td style="text-align: left;"> Test </td>
<td style="text-align: left;"> Function used </td>
</tr>
<tr>
<td style="text-align: left;">
   Parametric/Non-parametric </td>
<td style="text-align: left;"> Goodness of fit chi-squared test </td>
<td style="text-align: left;"> <code>stats::chisq.test()</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   Bayesian </td>
<td style="text-align: left;"> Bayesian Goodness of fit chi-squared test </td>
<td style="text-align: left;"> (custom) </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p><strong>Effect size estimation</strong></p>

<table>
<tr>
<td style="text-align: left;">
   Type </td>
<td style="text-align: left;"> Effect size </td>
<td style="text-align: left;"> CI available? </td>
<td style="text-align: left;"> Function used </td>
</tr>
<tr>
<td style="text-align: left;">
   Parametric/Non-parametric </td>
<td style="text-align: left;"> Pearson's <em>C</em> </td>
<td style="text-align: left;"> Yes </td>
<td style="text-align: left;"> <code>effectsize::pearsons_c()</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   Bayesian </td>
<td style="text-align: left;"> No </td>
<td style="text-align: left;"> No </td>
<td style="text-align: left;"> No </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>grouped_ggbarstats</code>, <code>ggpiestats</code>,
<code>grouped_ggpiestats</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# for reproducibility
set.seed(123)

# creating a plot
p &lt;- ggbarstats(mtcars, x = vs, y = cyl)

# looking at the plot
p

# extracting details from statistical tests
extract_stats(p)

</code></pre>


</div>