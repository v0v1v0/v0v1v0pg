<div class="container">

<table style="width: 100%;"><tr>
<td>google_directions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Google Directions</h2>

<h3>Description</h3>

<p>The Google Maps Directions API is a service that calculates directions between
locations. You can search for directions for several modes of transportation,
including transit, driving, walking, or cycling.
</p>


<h3>Usage</h3>

<pre><code class="language-R">google_directions(
  origin,
  destination,
  mode = c("driving", "walking", "bicycling", "transit"),
  departure_time = NULL,
  arrival_time = NULL,
  waypoints = NULL,
  optimise_waypoints = FALSE,
  alternatives = FALSE,
  avoid = NULL,
  units = c("metric", "imperial"),
  traffic_model = NULL,
  transit_mode = NULL,
  transit_routing_preference = NULL,
  language = NULL,
  region = NULL,
  key = get_api_key("directions"),
  simplify = TRUE,
  curl_proxy = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>
<p>Origin location as either a one or two column data.frame, a
list of unnamed elements, each element is either a numeric vector of lat/lon
coordinates, an address string or a place_id, or a vector of a pair of lat / lon coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destination</code></td>
<td>
<p>destination location as either a one or two column data.frame, a
list of unnamed elements, each element is either a numeric vector of lat/lon
coordinates, an address string or place_id, or a vector of a pair of lat / lon coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p><code>string</code> One of 'driving', 'walking', 'bicycling' or 'transit'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>departure_time</code></td>
<td>
<p>The desired time of departure.
Use either a <code>POSIXct</code> time since 1st January 1970, or the string 'now'.
If no value is specified it defaults to <code>Sys.time()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrival_time</code></td>
<td>
<p>Specifies the desired time of arrival for transit requests.
Use either a <code>POSIXct</code> time since 1st January 1970.
Note you can only specify one of <code>arrival_time</code> or <code>departure_time</code>, not both.
If both are supplied, <code>departure_time</code> will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>waypoints</code></td>
<td>
<p>list of waypoints, expressed as either <code>vectors</code> of
lat/lon coordinates, or a <code>string</code> address to be geocoded, or an encoded
polyline enclosed by <code>enc:</code> and <code>:</code>. Only available for driving,
walking or bicycling modes. List elements must be named either 'stop' or 'via',
where 'stop' is used to indicate a stopover for a waypoint, and 'via' will
not stop at the waypoint.
See <a href="https://developers.google.com/maps/documentation/directions/overview#Waypoints">https://developers.google.com/maps/documentation/directions/overview#Waypoints</a> for details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimise_waypoints</code></td>
<td>
<p><code>boolean</code> allow the Directions service to optimize the
provided route by rearranging the waypoints in a more efficient order.
(This optimization is an application of the Travelling Salesman Problem.)
Travel time is the primary factor which is optimized, but other factors such
as distance, number of turns and many more may be taken into account when
deciding which route is the most efficient. All waypoints must be stopovers
for the Directions service to optimize their route.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternatives</code></td>
<td>
<p><code>logical</code> If set to true, specifies that the Directions
service may provide more than one route alternative in the response</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avoid</code></td>
<td>
<p><code>character</code> vector stating which features should be avoided.
One of 'tolls', 'highways', 'ferries' or 'indoor'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p><code>string</code> metric or imperial. Note: Only affects the text displayed
within the distance field. The values are always in metric</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>traffic_model</code></td>
<td>
<p><code>string</code> - one of 'best_guess', 'pessimistic' or 'optimistic'.
Only valid with a departure time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transit_mode</code></td>
<td>
<p><code>vector</code> of strings, either 'bus', 'subway', 'train', 'tram' or 'rail'.
Only vaid where <code>mode = 'transit'</code>. Note that 'rail' is equivalent
to <code>transit_mode=c("train", "tram", "subway")</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transit_routing_preference</code></td>
<td>
<p><code>vector</code> of strings - one of 'less_walking' and
'fewer_transfers'. specifies preferences for transit routes. Only valid for
transit directions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>language</code></td>
<td>
<p><code>string</code> - specifies the language in which to return the results.
See the list of supported languages: <a href="https://developers.google.com/maps/faq#languagesupport">https://developers.google.com/maps/faq#languagesupport</a>.
If no langauge is supplied, the service will attempt to use the language of the domain from which the request was sent</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>
<p><code>string</code> - specifies the region code, specified as a ccTLD
("top-level domain"). See region basing for details
<a href="https://developers.google.com/maps/documentation/directions/overview#RegionBiasing">https://developers.google.com/maps/documentation/directions/overview#RegionBiasing</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p><code>string</code> - a valid Google Developers Directions API key</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be coerced into a list.
FALSE indicates the returend JSON will be returned as a string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Either list or JSON string of the route between origin and destination
</p>


<h3>API use and limits</h3>

<p>The amount of queries you can make to Google's APIs is dependent on both the service
and the API you are using.
</p>
<p>Each API has specific quotas and limits. Check Google's API documentation for details.
</p>
<p>View your usage at the Google Cloud Console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>
</p>
<p>Each API can only accept and return one request at a time. If you write a loop
to make multiple API calls you should ensure you don't go over your quota / limits
during the loop.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

set_key("YOUR_GOOGLE_API_KEY")

## using lat/long coordinates
google_directions(origin = c(-37.8179746, 144.9668636),
          destination = c(-37.81659, 144.9841),
          mode = "walking")


## using address string
google_directions(origin = "Flinders Street Station, Melbourne",
         destination = "MCG, Melbourne",
         mode = "walking")


google_directions(origin = "Melbourne Airport, Australia",
         destination = "Portsea, Melbourne, Australia",
         departure_time =  Sys.time() + (24 * 60 * 60),
         waypoints = list(stop = c(-37.81659, 144.9841),
                           via = "Ringwood, Victoria"),
         mode = "driving",
         alternatives = FALSE,
         avoid = c("TOLLS", "highways"),
         units = "imperial",
         simplify = TRUE)

## using 'now' as departure time
google_directions(origin = "Flinders Street Station, Melbourne",
         destination = "MCG, Melbourne",
         departure_time = 'now')

## waypoints expressed as an encoded polyline
polyWaypoints &lt;- encode_pl(tram_stops[1:2, c("stop_lat")], tram_stops[1:2, c("stop_lon")])
polyWaypoints &lt;- list(via = paste0("enc:", polyWaypoints, ":"))

google_directions(origin = "Melbourne Zoo, Melbourne",
         destination = "Studley Park, Melbourne",
         waypoints = polyWaypoints)


## using bus and less walking
res &lt;- google_directions(origin = "Melbourne Airport, Australia",
         destination = "Portsea, Melbourne, Australia",
         departure_time =  Sys.time() + (24 * 60 * 60),
         mode = "transit",
         transit_mode = "bus",
         transit_routing_preference = "less_walking",
         simplify = FALSE)

## using arrival time
res &lt;- google_directions(origin = "Melbourne Airport, Australia",
         destination = "Portsea, Melbourne, Australia",
         arrival_time =  Sys.time() + (24 * 60 * 60),
         mode = "transit",
         transit_mode = "bus",
         transit_routing_preference = "less_walking",
         simplify = FALSE)

## return results in French
res &lt;- google_directions(origin = "Melbourne Airport, Australia",
         destination = "Portsea, Melbourne, Australia",
         arrival_time =  Sys.time() + (24 * 60 * 60),
         mode = "transit",
         transit_mode = "bus",
         transit_routing_preference = "less_walking",
         language = "fr",
         simplify = FALSE)


## End(Not run)
</code></pre>


</div>