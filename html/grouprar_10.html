<div class="container">

<table style="width: 100%;"><tr>
<td>GDLRule</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generalized drop-the-loser rule
</h2>

<h3>Description</h3>

<p>Simulating generalized drop-the-loser rule procedure (number of arms <code class="reqn">&gt; 2</code>) with two-sided hypothesis testing in a clinical trial context.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GDLRule(k, p, ssn, aK, Y0 = NULL, nsim = 2000, alpha = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>a positive integer. The value specifies the number of treatment groups involved in a clinical trial. (<code class="reqn">k \ge 2</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>a positive vector of length equals to <code>k</code>. The values specify the true success rates for the various treatments, and these rates are used to generate data for simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ssn</code></td>
<td>
<p>a positive integer. The value specifies the total number of participants involved in each round of the simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aK</code></td>
<td>
<p>a positive vector of length equals to <code>k</code>. The values specifies when the immigration ball is drawn, the number of each treatment ball added to the urn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y0</code></td>
<td>
<p>A vector of length <code>k</code>, specifying the initial probability of allocating a patient to each group. For instance, if <code>Y0 = c(1, 1, 1)</code>, the initial probabilities are calculated as <code>Y0 / sum(Y0)</code>. When <code>Y0</code> is <code>NULL</code>, the initial urn will be set as If <code>Y0</code> is <code>NULL</code>, then <code>Y0</code> is set to a vector of length <code>k</code>, with all values equal to 1 by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>a positive integer. The value specifies the total number of simulations, with a default value of 2000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A number between 0 and 1. The value represents the predetermined level of significance that defines the probability threshold for rejecting the null hypothesis, with a default value of 0.05.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Consider an urn containing balls of <code class="reqn">K+1</code> types. Balls of types $1, ..., K$ represent treatments, balls of type 0 will be called immigration balls. When the subject arrived for randomizition, a ball is drawn at random. If the ball is of type 0 (i.e, an immigration ball), no subject is treated, and the ball is returned to the urn together with <code class="reqn">A=a_1+\cdots+a_K</code> additional balls, <code class="reqn">a_k</code> of treatment type <code class="reqn">k, k=1, \ldots, K</code>. If a treatment ball is drawn (say, of type <code class="reqn">k</code>, for some <code class="reqn">k=1, \ldots, K</code>) the next subject is given treatment <code class="reqn">k</code> and the ball is not replaced. If the observed response of this subject is a success, then the ball is replaced, otherwise not replaced.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>The name of procedure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>The true parameters used to do the simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assignment</code></td>
<td>
<p>The randomization sequence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>propotion</code></td>
<td>
<p>Average allocation porpotion for each of treatment groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>failRate</code></td>
<td>
<p>The proportion of individuals who do not achieve the expected outcome in each simulation, on average.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pwClac</code></td>
<td>
<p>The probability of the study to detect a significant difference or effect if it truly exists.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of arms involved in the trial.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Zhang, L. X., Chan, W. S., Cheung, S. H., &amp; Hu, F. (2007). <em>A generalized drop-the-loser urn for clinical trials with delayed responses.</em> Statistica Sinica, 17(1), 387-409.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## a simple use
gdl.res = GDLRule(k = 3, p = c(0.6, 0.7, 0.6),
                  ssn = 400, aK = c(1, 1, 1), Y0 = NULL, nsim = 200, alpha = 0.05)

## view the output
gdl.res


  ## view all simulation settings
  gdl.res$name
  gdl.res$parameter
  gdl.res$k

  ## View the simulations results
  gdl.res$propotion
  gdl.res$failRate
  gdl.res$pwCalc
  gdl.res$assignment
  
</code></pre>


</div>