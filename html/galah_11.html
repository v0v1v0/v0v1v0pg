<div class="container">

<table style="width: 100%;"><tr>
<td>atlas_taxonomy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Search taxonomic trees</h2>

<h3>Description</h3>

<p>The ALA has its' own internal taxonomy that is derived from authoritative
sources. <code>atlas_taxonomy</code> provides a means to query
that taxonomy, returning a <code>tibble</code> showing all child nodes and which parent
they are derived from.
</p>


<h3>Usage</h3>

<pre><code class="language-R">atlas_taxonomy(
  request = NULL,
  identify = NULL,
  filter = NULL,
  constrain_ids = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>request</code></td>
<td>
<p>optional <code>data_request</code> object: generated by a call to
<code>galah_call()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>identify</code></td>
<td>
<p><code>data.frame</code>: generated by a call to
<code>galah_identify()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p><code>data.frame</code>: generated by a call to
<code>galah_filter(rank == "chosen_rank")</code>. The
identity of the clade at which the downwards search should stop.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constrain_ids</code></td>
<td>
<p><code>string</code>: Optional string to limit which <code>taxon_concept_id</code>'s
are returned. This is useful for restricting taxonomy to particular
authoritative sources. Default is <code>"biodiversity.org.au"</code> for Australia
(this can be overridded by setting <code>constrain_ids = NULL</code>) and NULL otherwise.
Powered by <code>grepl()</code> meaning it supports regular expressions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The approach used by this function is recursive, meaning that it
becomes slow for large queries such as
<code>atlas_taxonomy(search_taxa("Plantae"), down_to = galah_down_to(species))</code>.
Although the inputs to <code>search_taxa</code> and <code>down_to</code> are
case-insensitive, node names are always returned in title case.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> containing taxon names, ranks and parent/child IDs
</p>


<h3>See Also</h3>

<p><code>search_taxa()</code> to search for an individual taxon;
<code>show_all(ranks)</code> for valid ranks used to specify the <code>down_to</code>
argument.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Get a taxonomic tree of *Chordata* down to the class level
galah_call() |&gt; 
  galah_identify("chordata") |&gt;
  galah_filter(rank == class) |&gt;
  atlas_taxonomy()

## End(Not run)

</code></pre>


</div>