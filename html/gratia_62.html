<div class="container">

<table style="width: 100%;"><tr>
<td>data_sim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate example data for fitting GAMs</h2>

<h3>Description</h3>

<p>A tidy reimplementation of the functions implemented in <code>mgcv::gamSim()</code>
that can be used to fit GAMs. An new feature is that the sampling
distribution can be applied to all the example types.
</p>


<h3>Usage</h3>

<pre><code class="language-R">data_sim(
  model = "eg1",
  n = 400,
  scale = NULL,
  theta = 3,
  power = 1.5,
  dist = c("normal", "poisson", "binary", "negbin", "tweedie", "gamma", "ocat",
    "ordered categorical"),
  n_cat = 4,
  cuts = c(-1, 0, 5),
  seed = NULL,
  gfam_families = c("binary", "tweedie", "normal")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>character; either <code>"egX"</code> where <code>X</code> is an integer <code>1:7</code>, or
the name of a model. See Details for possible options.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>numeric; the number of observations to simulate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>numeric; the level of noise to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>numeric; the dispersion parameter <code class="reqn">\theta</code> to use. The
default is entirely arbitrary, chosen only to provide simulated data that
exhibits extra dispersion beyond that assumed by under a Poisson.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>numeric; the Tweedie power parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>character; a sampling distribution for the response
variable. <code>"ordered categorical"</code> is a synonym of <code>"ocat"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_cat</code></td>
<td>
<p>integer; the number of categories for categorical response.
Currently only used for <code>distr %in% c("ocat", "ordered categorical")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cuts</code></td>
<td>
<p>numeric; vector of cut points on the latent variable, excluding
the end points <code>-Inf</code> and <code>Inf</code>. Must be one fewer than the number of
categories: <code>length(cuts) == n_cat - 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>numeric; the seed for the random number generator. Passed to
<code>base::set.seed()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gfam_families</code></td>
<td>
<p>character; a vector of distributions to use in
generating data with grouped families for use with <code>family = gfam()</code>. The
allowed distributions as as per <code>dist</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>data_sim()</code> can simulate data from several underlying models of
known true functions. The available options currently are:
</p>

<ul>
<li> <p><code>"eg1"</code>: a four term additive true model. This is the classic Gu &amp; Wahba
four univariate term test model. See <code>gw_functions</code> for more details of
the underlying four functions.
</p>
</li>
<li> <p><code>"eg2"</code>: a bivariate smooth true model.
</p>
</li>
<li> <p><code>"eg3"</code>: an example containing a continuous by smooth (varying
coefficient) true model. The model is <code class="reqn">\hat{y}_i = f_2(x_{1i})x_{2i}</code> where the function <code class="reqn">f_2()</code> is <code class="reqn">f_2(x) = 0.2 * x^{11} *
(10 * (1 - x))^6 + 10 * (10 * x)^3 * (1 - x)^{10}</code>.
</p>
</li>
<li> <p><code>"eg4"</code>: a factor by smooth true model. The true model contains a factor
with 3 levels, where the response for the <em>n</em>th level follows the <em>n</em>th
Gu &amp; Wabha function (for <code class="reqn">n \in {1, 2, 3}</code>).
</p>
</li>
<li> <p><code>"eg5"</code>: an additive plus factor true model. The response is a linear
combination of the Gu &amp; Wabha functions 2, 3, 4 (the latter is a null
function) plus a factor term with four levels.
</p>
</li>
<li> <p><code>"eg6"</code>: an additive plus random effect term true model.
</p>
</li>
<li>
<p> ´"eg7"<code style="white-space: pre;">⁠: a version of the model in ⁠</code>"eg1"', but where the covariates are
correlated.
</p>
</li>
<li> <p><code>"gwf2"</code>: a model where the response is Gu &amp; Wabha's
<code class="reqn">f_2(x_i)</code> plus noise.
</p>
</li>
<li> <p><code>"lwf6"</code>: a model where the response is Luo &amp; Wabha's "example 6"
function <code class="reqn">sin(2(4x-2)) + 2 exp(-256(x-0.5)^2)</code> plus noise.
</p>
</li>
<li> <p><code>"gfam"</code>: simulates data for use with GAMs with
<code>family = gfam(families)</code>. See example in <code>mgcv::gfam()</code>. If this model
is specified then <code>dist</code> is ignored and <code>gfam_families</code> is used to
specify which distributions are included in the simulated data. Can be a
vector of any of the families allowed by <code>dist</code>. For
<code>"ocat" %in% gfam_families</code> (or <code>"ordered categorical"</code>), 4 classes are
assumed, which can't be changed. Link functions used are <code>"identity"</code>
for <code>"normal"</code>, <code>"logit"</code> for <code>"binary"</code>, <code>"ocat"</code>, and
<code>"ordered categorical"</code>, and <code>"exp"</code> elsewhere.
</p>
</li>
</ul>
<p>The random component providing noise or sampling variation can follow one
of the distributions, specified via argument <code>dist</code>
</p>

<ul>
<li> <p><code>"normal"</code>: Gaussian,
</p>
</li>
<li> <p><code>"poisson"</code>: Poisson,
</p>
</li>
<li> <p><code>"binary"</code>: Bernoulli,
</p>
</li>
<li> <p><code>"negbin"</code>: Negative binomial,
</p>
</li>
<li> <p><code>"tweedie"</code>: Tweedie,
</p>
</li>
<li> <p><code>"gamma"</code>: gamma , and
</p>
</li>
<li> <p><code>"ordered categorical"</code>: ordered categorical
</p>
</li>
</ul>
<p>Other arguments provide the parameters for the distribution.
</p>


<h3>References</h3>

<p>Gu, C., Wahba, G., (1993). Smoothing Spline ANOVA with Component-Wise
Bayesian "Confidence Intervals." <em>J. Comput. Graph. Stat.</em> <strong>2</strong>, 97–117.
</p>
<p>Luo, Z., Wahba, G., (1997). Hybrid adaptive splines. <em>J. Am. Stat. Assoc.</em>
<strong>92</strong>, 107–116.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data_sim("eg1", n = 100, seed = 1)

# an ordered categorical response
data_sim("eg1", n = 100, dist = "ocat", n_cat = 4, cuts = c(-1, 0, 5))

</code></pre>


</div>