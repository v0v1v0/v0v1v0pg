<div class="container">

<table style="width: 100%;"><tr>
<td>gar_gce_auth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Authenticate on Google Compute Engine</h2>

<h3>Description</h3>

<p>This takes the metadata auth token in a Google Compute Engine instance as authentication source
</p>


<h3>Usage</h3>

<pre><code class="language-R">gar_gce_auth(
  service_account = "default",
  scopes = "https://www.googleapis.com/auth/cloud-platform"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>service_account</code></td>
<td>
<p>Specify a different service account from the <code>default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scopes</code></td>
<td>
<p>Scopes for the authentication</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>service_account</code> is <code>default</code> or the service account email 
e.g. <code>"service-account-key-json@projectname.iam.gserviceaccount.com"</code>
</p>
<p>Google Compute Engine instances come with their own authentication tokens.  
</p>
<p>It has no refresh token so you need to call for a fresh token after approx. one hour. 
The metadata token will refresh itself when it has about 60 seconds left.
</p>
<p>You can only use for scopes specified when creating the instance.
</p>
<p>If you want to use them make sure their service account email is added to accounts you want to get data from.
</p>
<p>Use <code>options(gargle.gce.use_ip = TRUE)</code> to activate this upon kubernetes for instance using federated identity
</p>


<h3>Value</h3>

<p>A token
</p>


<h3>See Also</h3>

<p>gar_gce_auth_email
</p>
<p>Other authentication functions: 
<code>gar_attach_auto_auth()</code>,
<code>gar_auth()</code>,
<code>gar_auth_service()</code>,
<code>gar_auto_auth()</code>,
<code>get_google_token()</code>,
<code>should_skip_token_checks()</code>,
<code>token_exists()</code>
</p>


</div>