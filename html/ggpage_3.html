<div class="container">

<table style="width: 100%;"><tr>
<td>ggpage_build</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates a data frame for further analysis and plotting</h2>

<h3>Description</h3>

<p>This function can be used in combination with <code>ggpage_plot</code> to get the
same result as <code>ggpage_quick</code>. However by splitting the data.frame
construction and plotting we are able to do intermediate analysis which
can be included in the visualization.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggpage_build(book, lpp = 25, character_height = 3,
  vertical_space = 1, x_space_pages = 10, y_space_pages = 10,
  nrow = NULL, ncol = NULL, bycol = TRUE, wtl = NULL,
  para.fun = NULL, page.col = NULL, align = "left", line.max = 80,
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>book</code></td>
<td>
<p>Character or data.frame. Can either have each element be a
separate line or having each element being separate words.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lpp</code></td>
<td>
<p>Numeric. Lines Per Page. Number of lines allocated for each page.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>character_height</code></td>
<td>
<p>Numeric. Relative size of the height of each letter
compared to its width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertical_space</code></td>
<td>
<p>Numeric. Distance between each lines vertically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_space_pages</code></td>
<td>
<p>Numeric. Distance between pages along the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_space_pages</code></td>
<td>
<p>Numeric. Distance between pages along the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrow</code></td>
<td>
<p>Numeric. Number of rows of pages, if omitted defaults to square
layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>Numeric. Number of columns of pages, if omitted defaults to
square layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bycol</code></td>
<td>
<p>Logical. If TRUE (the default) the matrix is filled by
columns, otherwise the matrix is filled by rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wtl</code></td>
<td>
<p>logical. If TRUE will convert single word vector into a vector
with full lines. (defaults to FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>para.fun</code></td>
<td>
<p>Function that generates random numbers to determine number
of word in each paragraph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>page.col</code></td>
<td>
<p>column to split the pages by.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>align</code></td>
<td>
<p>Type of line alignment. Must be one of "left", "right" or "both".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line.max</code></td>
<td>
<p>Maximal number of characters per line. Defaults to 80.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The text MUST be presented in a column named text.
</p>


<h3>Value</h3>

<p>'data.frame' containing the following columns:
</p>

<ul>
<li>
<p> 'word': Character. The words of the text.
</p>
</li>
<li>
<p> 'page': Integer. Page number.
</p>
</li>
<li>
<p> 'line': Integer. Line number within the page.
</p>
</li>
<li>
<p> 'xmin': Numeric. Border of rectangle, used by <code>ggpage_plot</code> do not
alter.
</p>
</li>
<li>
<p> 'xmax': Numeric. Border of rectangle, used by <code>ggpage_plot</code> do not
alter.
</p>
</li>
<li>
<p> 'ymin': Numeric. Border of rectangle, used by <code>ggpage_plot</code> do not
alter.
</p>
</li>
<li>
<p> 'ymax': Numeric. Border of rectangle, used by <code>ggpage_plot</code> do not
alter.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
library(dplyr)
library(stringr)
library(ggplot2)
library(tidytext)
library(ggpage)
# build and plot
## data.frame with full lines
ggpage_build(tinderbox) %&gt;%
  ggpage_plot()
## vector with full lines
ggpage_build(book = tinderbox %&gt;%
  pull(text)) %&gt;%
  ggpage_plot()
## data.frame with single words
ggpage_build(tinderbox) %&gt;%
  unnest_tokens(text, word) %&gt;%
  ggpage_plot()
## vector with single words
ggpage_build(tinderbox %&gt;%
  unnest_tokens(text, text) %&gt;%
  pull(text)) %&gt;%
  ggpage_plot()

# nrow and ncol
ggpage_build(tinderbox, nrow = 2) %&gt;%
  ggpage_plot()
ggpage_build(tinderbox, ncol = 2) %&gt;%
  ggpage_plot()

# Include analysis within
ggpage_build(tinderbox) %&gt;%
  mutate(word_length = str_length(word)) %&gt;%
  ggpage_plot(aes(fill = word_length))

</code></pre>


</div>