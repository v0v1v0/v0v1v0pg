<div class="container">

<table style="width: 100%;"><tr>
<td>casanova</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>CASANOVA: Cumulative Aalen survival analyis-of-variance</h2>

<h3>Description</h3>

<p>The function <code>casanova</code> calculates the Wald-type statistic based on the
combination of differently weighted Nelson-Aalen-type integrals. Respective p-values
are obtained by a <code class="reqn">\chi^2</code>-approximation and a permutation approach, respectively.
</p>


<h3>Usage</h3>

<pre><code class="language-R">casanova(
  formula,
  event = "event",
  data = NULL,
  nperm = 1999,
  cross = TRUE,
  nested.levels.unique = FALSE,
  rg = list(c(0, 0))
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A model <code>formula</code> object. The left hand side contains the time variable and the right
hand side contains the factor variables of interest. An interaction term must be
specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event</code></td>
<td>
<p>The name of censoring status indicator with values 0=censored and
1=uncensored.
The default choice is "event"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data.frame, list or environment containing the variables in formula
and the censoring status
indicator. Default option is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nperm</code></td>
<td>
<p>The number of permutations used for calculating the permuted p-value.
The default option is 1999.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cross</code></td>
<td>
<p>logical. Should the crossing weight w(x) = 1 - 2x be included?
The default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nested.levels.unique</code></td>
<td>
<p>A logical specifying whether the levels of the nested
factor(s) are labeled uniquely or not.
Default is FALSE, i.e., the levels of the nested factor are the same for each
level of the main factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rg</code></td>
<td>
<p>A list containing the exponents <code>c(r, g)</code> of the
weights
<code class="reqn">w(x) = x^r (1-x)^g</code>. Both exponents need to be natural numbers including 0.
Default is <code>list( c(0, 0) )</code> corresponding to the log-rank weight.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>casanova</code> function calculates the Wald-type statistic of weighted
Nelson-Aalen type integrals
for general factorial survival designs. Crossed as well as hierachically nested designs are
implemented. Moreover, the approach allows the combination of
different weights into a
joint statistic. The user can choose between weights of the following form:
w(x) = 1 - 2x (<code>cross = TRUE</code>) and w(x) = x^r * (1-x)^g for natural numbers
r,g (including 0). The function automatically check whether the specified weights
fulfill the linear independence assumption and choose a subset of linearly independent
weights if the original weights violate the aforemention assumption.
</p>
<p>The <code>casanova</code> function returns the test statistic as well as two
corresponding p-values: the first is based on a <code class="reqn">\chi^2</code> approximation and
the second one is based on a permutation procedure.
</p>


<h3>Value</h3>

<p>A <code>casanova</code> object containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>pvalues_stat</code></td>
<td>
<p>The p-values obtained by <code class="reqn">\chi^2</code>-approximation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvalues_per</code></td>
<td>
<p>The p-values of the permutation approach</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistics</code></td>
<td>
<p>The value of the casanova along with degrees of freedom of the
central chi-square distribution and p-value, as well as the p-value of the
permutation procedure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rg</code></td>
<td>
<p>A list containing the exponents of the direction considered in the
statistical analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cross</code></td>
<td>
<p>logical. Was the crossing direction considered in the statistical
analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indep</code></td>
<td>
<p>logical. Were the directions specified by the user linearly
independent?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nperm</code></td>
<td>
<p>The number of permutations used for calculating the permuted p-value.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Ditzhaus, M., Janssen, A. and Pauly, M. (2020). Permutation inference in factorial survival designs with the
CASANOVA. ArXiv preprint (arXiv:2004.10818v2).
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library("survival")
data(veteran)
out &lt;- casanova(formula ="time ~ trt*celltype",event = "status",
 data = veteran)

## Detailed informations:
summary(out)

</code></pre>


</div>