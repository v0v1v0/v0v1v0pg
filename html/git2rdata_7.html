<div class="container">

<table style="width: 100%;"><tr>
<td>list_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>List Available Git2rdata Files Containing Data</h2>

<h3>Description</h3>

<p>The function returns the names of all valid git2rdata objects. This implies
<code>.tsv</code> files with a matching <strong>valid</strong> metadata file (<code>.yml</code>). <strong>Invalid</strong>
metadata files result in a warning. The function ignores <strong>valid</strong> metadata
files without matching raw data (<code>.tsv</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">list_data(root = ".", path = ".", recursive = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>root</code></td>
<td>
<p>the <code>root</code> of the repository. Either a path or a <code>git-repository</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>relative <code>path</code> from the <code>root</code>. Defaults to the <code>root</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recursive</code></td>
<td>
<p>logical.  Should the listing recurse into directories?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A character vector of git2rdata object names, including their
relative path.
</p>


<h3>See Also</h3>

<p>Other storage: 
<code>display_metadata()</code>,
<code>prune_meta()</code>,
<code>read_vc()</code>,
<code>relabel()</code>,
<code>rename_variable()</code>,
<code>rm_data()</code>,
<code>update_metadata()</code>,
<code>verify_vc()</code>,
<code>write_vc()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## on file system

# create a directory
root &lt;- tempfile("git2rdata-")
dir.create(root)

# store a dataframe as git2rdata object. Capture the result to minimise
# screen output
junk &lt;- write_vc(iris[1:6, ], "iris", root, sorting = "Sepal.Length")
# write a standard tab separate file (non git2rdata object)
write.table(iris, file = file.path(root, "standard.tsv"), sep = "\t")
# write a YAML file
yml &lt;- list(
  authors = list(
   "Research Institute for Nature and Forest" = list(
       href = "https://www.inbo.be/en")))
yaml::write_yaml(yml, file = file.path(root, "_pkgdown.yml"))

# list the git2rdata objects
list_data(root)
# list the files
list.files(root, recursive = TRUE)

# remove all .tsv files from valid git2rdata objects
rm_data(root, path = ".")
# check the removal of the .tsv file
list.files(root, recursive = TRUE)
list_data(root)

# remove dangling git2rdata metadata files
prune_meta(root, path = ".")
# check the removal of the metadata
list.files(root, recursive = TRUE)
list_data(root)


## on git repo

# initialise a git repo using git2r
repo_path &lt;- tempfile("git2rdata-repo-")
dir.create(repo_path)
repo &lt;- git2r::init(repo_path)
git2r::config(repo, user.name = "Alice", user.email = "alice@example.org")

# store a dataframe
write_vc(iris[1:6, ], "iris", repo, sorting = "Sepal.Length", stage = TRUE)
# check that the dataframe is stored
status(repo)
list_data(repo)

# commit the current version and check the git repo
commit(repo, "add iris data", session = TRUE)
status(repo)

# remove the data files from the repo
rm_data(repo, path = ".")
# check the removal
list_data(repo)
status(repo)

# remove dangling metadata
prune_meta(repo, path = ".")
# check the removal
list_data(repo)
status(repo)
</code></pre>


</div>