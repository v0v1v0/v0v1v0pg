<div class="container">

<table style="width: 100%;"><tr>
<td>unByteCode</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a byte-code function to an interpreted-code function</h2>

<h3>Description</h3>

<p>The purpose of these functions is to allow a byte coded function to be
converted back into a fully interpreted function as a <em>temporary</em> work
around for issues in byte-code interpretation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">unByteCode(fun)

assignEdgewise(name, env, value)

unByteCodeAssign(fun)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>function to be modified</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>object name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>namespace</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>new function body</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>unByteCode</code> returns a copy of the function that is directly
interpreted from text rather than from byte-code.
</p>
<p><code>assignEdgewise</code> makes an assignment into a locked environment.
</p>
<p><code>unByteCodeAssign</code> changes the specified function <em>in its source
environment</em> to be directly interpreted from text rather than from
byte-code.
</p>
<p>The latter two functions no longer work out of the box because <code>assignEdgewise</code>
(which <code>unByteCodeAssign</code> uses) makes use of an unsafe <code>unlockBinding</code>
call, but running <code>assignEdgewise()</code> will
</p>


<h3>Value</h3>

<p>All three functions return a copy of the modified function or
assigned value.
</p>


<h3>Note</h3>

<p>These functions are not intended as a permanent solution to issues
with byte-code compilation or interpretation.  Any such issues should be
promptly reported to the R maintainers via the R Bug Tracking System at
<a href="https://bugs.r-project.org">https://bugs.r-project.org</a> and via the R-devel mailing list
<a href="https://stat.ethz.ch/mailman/listinfo/r-devel">https://stat.ethz.ch/mailman/listinfo/r-devel</a>.
</p>


<h3>Author(s)</h3>

<p>Gregory R. Warnes <a href="mailto:greg@warnes.net">greg@warnes.net</a>
</p>


<h3>References</h3>

<p>These functions were inspired as a work-around to R bug
<a href="https://bugs.r-project.org/show_bug.cgi?id=15215">https://bugs.r-project.org/show_bug.cgi?id=15215</a>.
</p>


<h3>See Also</h3>

<p><code>disassemble</code>, <code>assign</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(badDend)
dist2 &lt;- function(x) as.dist(1 - cor(t(x), method = "pearson"))
hclust1 &lt;- function(x) hclust(x, method = "single")

distance &lt;- dist2(badDend)
cluster &lt;- hclust1(distance)

dend &lt;- as.dendrogram(cluster)
## Not run: 
## In R 2.3.0 and earlier crashes with a node stack overflow error
plot(dend)
## Error in xy.coords(x, y, recycle = TRUE) : node stack overflow

## End(Not run)

## convert stats:::plotNode from byte-code to interpreted-code
## (no longer available unless assignEdgewise is defined by the user)
## unByteCodeAssign(stats:::plotNode)
## illustrated in https://stackoverflow.com/questions/16559250/error-in-heatmap-2-gplots

# increase recursion limit
options("expressions" = 5e4)

# now the function does not crash
plot(dend)
</code></pre>


</div>