<div class="container">

<table style="width: 100%;"><tr>
<td>get_trip_segment_duration</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get trip segments' duration</h2>

<h3>Description</h3>

<p>Returns the duration of segments between stops of each specified <code>trip_id</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_trip_segment_duration(
  gtfs,
  trip_id = NULL,
  unit = "min",
  sort_sequence = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gtfs</code></td>
<td>
<p>A GTFS object, as created by <code>read_gtfs()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trip_id</code></td>
<td>
<p>A string vector including the <code>trip_id</code>s to have their
segments' duration calculated. If <code>NULL</code> (the default) the function
calculates the segments' duration of every <code>trip_id</code> in the GTFS.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>A string representing the time unit in which the duration is
desired. One of <code>"s"</code> (seconds), <code>"min"</code> (minutes, the default),
<code>"h"</code> (hours) or <code>"d"</code> (days).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort_sequence</code></td>
<td>
<p>A logical specifying whether to sort timetables by
<code>stop_sequence</code>. Defaults to <code>FALSE</code>, otherwise spec-compliant feeds, in
which timetables points are already ordered by <code>stop_sequence</code>, would be
penalized through longer processing times. Durations calculated from
unordered timetables do not correctly depict the real life segment
durations.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>data.table</code> containing the segments' duration of each specified
trip.
</p>


<h3>Details</h3>

<p>A trip segment is defined as the path between two subsequent stops in the
same trip. The  duration of a segment is defined as the time difference
between its arrival time and its departure time, as specified in the
<code>stop_times</code> file.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data_path &lt;- system.file("extdata/spo_gtfs.zip", package = "gtfstools")

gtfs &lt;- read_gtfs(data_path)

trip_segment_dur &lt;- get_trip_segment_duration(gtfs)
head(trip_segment_dur)

# use the trip_id argument to control which trips are analyzed
trip_segment_dur &lt;- get_trip_segment_duration(gtfs, trip_id = "CPTM L07-0")
trip_segment_dur

# use the unit argument to control in which unit the durations are calculated
trip_segment_dur &lt;- get_trip_segment_duration(gtfs, "CPTM L07-0", unit = "s")
trip_segment_dur

</code></pre>


</div>