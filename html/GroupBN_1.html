<div class="container">

<table style="width: 100%;"><tr>
<td>cross.en</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>cross.en

</h2>

<h3>Description</h3>

<p>Calculates the weighted cross entropy / log-loss for a vector of observations and predicted probabilities (weighted by class proportions)
</p>


<h3>Usage</h3>

<pre><code class="language-R">cross.en(pred, obs, sdpred=NULL, weighted=T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>a numeric vector, the predicted probabilities of the reference class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>the vector of observations, a categorical variable with 2-4 levels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdpred</code></td>
<td>
<p>either NULL or a vector containing the standard deviations of every estimate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted</code></td>
<td>
<p>a boolean, if FALSE, the unweighted logloss is calculated. By default, the weighted cross entropy is calculated.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>if sdpred contains the standard deviations for each estimated probability, then a lower bound of the log loss is returned.
</p>


<h3>Value</h3>

<p>a numeric value: cross entropy / log loss for comparison of classifiers. The smaller, the better.
</p>


<h3>Author(s)</h3>

<p> Ann-Kristin Becker

</p>


<h3>Examples</h3>

<pre><code class="language-R">#observations
obs&lt;-as.factor(c("A","A","B"))
#correct prediction
pred1&lt;-c(1,1,0)
#wrong prediction
pred2&lt;-c(0,0,1)

cross.en(pred=pred1, obs=obs) #small
cross.en(pred=pred2, obs=obs) #large

#prediction of only majority class
pred3&lt;-c(1,1,1)
#prediction of only minority class
pred4&lt;-c(0,0,0)

cross.en(pred=pred3, obs=obs, weighted=TRUE)
cross.en(pred=pred4, obs=obs, weighted=TRUE)
#both equal (as weighted)

cross.en(pred=pred3, obs=obs, weighted=FALSE)
cross.en(pred=pred4, obs=obs, weighted=FALSE)
#unweighted, majority class is favored
</code></pre>


</div>