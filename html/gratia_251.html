<div class="container">

<table style="width: 100%;"><tr>
<td>qq_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Quantile-quantile plot of model residuals</h2>

<h3>Description</h3>

<p>Quantile-quantile plot of model residuals
</p>


<h3>Usage</h3>

<pre><code class="language-R">qq_plot(model, ...)

## Default S3 method:
qq_plot(model, ...)

## S3 method for class 'gam'
qq_plot(
  model,
  method = c("uniform", "simulate", "normal", "direct"),
  type = c("deviance", "response", "pearson"),
  n_uniform = 10,
  n_simulate = 50,
  level = 0.9,
  ylab = NULL,
  xlab = NULL,
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  ci_col = "black",
  ci_alpha = 0.2,
  point_col = "black",
  point_alpha = 1,
  line_col = "red",
  ...
)

## S3 method for class 'glm'
qq_plot(model, ...)

## S3 method for class 'lm'
qq_plot(model, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>a fitted model. Currently only class <code>"gam"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed ot other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character; method used to generate theoretical quantiles. Note
that <code>method = "direct"</code> is deprecated in favour of <code>method = "uniform"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character; type of residuals to use. Only <code>"deviance"</code>,
<code>"response"</code>, and <code>"pearson"</code> residuals are allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_uniform</code></td>
<td>
<p>numeric; number of times to randomize uniform quantiles
in the direct computation method (<code>method = "uniform"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_simulate</code></td>
<td>
<p>numeric; number of data sets to simulate from the estimated
model when using the simulation method (<code>method = "simulate"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>numeric; the coverage level for reference intervals. Must be
strictly <code style="white-space: pre;">⁠0 &lt; level &lt; 1⁠</code>. Only used with <code>method = "simulate"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>character or expression; the label for the y axis. If not
supplied, a suitable label will be generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>character or expression; the label for the y axis. If not
supplied, a suitable label will be generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>character or expression; the title for the plot. See
<code>ggplot2::labs()</code>. May be a vector, one per penalty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtitle</code></td>
<td>
<p>character or expression; the subtitle for the plot. See
<code>ggplot2::labs()</code>. May be a vector, one per penalty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>character or expression; the plot caption. See
<code>ggplot2::labs()</code>. May be a vector, one per penalty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_col</code></td>
<td>
<p>fill colour for the reference interval when
<code>method = "simulate"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_alpha</code></td>
<td>
<p>alpha transparency for the reference
interval when <code>method = "simulate"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_col</code></td>
<td>
<p>colour of points on the QQ plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_alpha</code></td>
<td>
<p>alpha transparency of points on the QQ plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line_col</code></td>
<td>
<p>colour used to draw the reference line.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>The wording used in <code>mgcv::qq.gam()</code> uses <em>direct</em> in reference to the
simulated residuals method (<code>method = "simulated"</code>). To avoid confusion,
<code>method = "direct"</code> is deprecated in favour of <code>method = "uniform"</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">load_mgcv()
## simulate binomial data...
dat &lt;- data_sim("eg1", n = 200, dist = "binary", scale = .33, seed = 0)
p &lt;- binomial()$linkinv(dat$f) # binomial p
n &lt;- sample(c(1, 3), 200, replace = TRUE) # binomial n
dat &lt;- transform(dat, y = rbinom(n, n, p), n = n)
m &lt;- gam(y / n ~ s(x0) + s(x1) + s(x2) + s(x3),
  family = binomial, data = dat, weights = n,
  method = "REML"
)

## Q-Q plot; default using direct randomization of uniform quantiles
qq_plot(m)

## Alternatively use simulate new data from the model, which
## allows construction of reference intervals for the Q-Q plot
qq_plot(m,
  method = "simulate", point_col = "steelblue",
  point_alpha = 0.4
)

## ... or use the usual normality assumption
qq_plot(m, method = "normal")
</code></pre>


</div>