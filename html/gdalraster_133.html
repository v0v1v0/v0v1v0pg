<div class="container">

<table style="width: 100%;"><tr>
<td>vsi_get_file_metadata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get metadata on files</h2>

<h3>Description</h3>

<p><code>vsi_get_file_metadata()</code> returns metadata for file system objects.
Implemented for network-like filesystems. Starting with GDAL 3.7,
implemented for /vsizip/ with SOZip metadata.
Wrapper of <code>VSIGetFileMetadata()</code> in the GDAL Common Portability Library.
</p>


<h3>Usage</h3>

<pre><code class="language-R">vsi_get_file_metadata(filename, domain)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>Character string. The path of the file system object to be
queried.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domain</code></td>
<td>
<p>Character string. Metadata domain to query. Depends on the
file system, see Details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The metadata available depends on the file system. The following are
supported as of GDAL 3.9:
</p>

<ul>
<li>
<p> HEADERS: to get HTTP headers for network-like filesystems (/vsicurl/,
/vsis3/, /vsgis/, etc).
</p>
</li>
<li>
<p> TAGS: for /vsis3/, to get S3 Object tagging information. For /vsiaz/,
to get blob tags.
</p>
</li>
<li>
<p> STATUS: specific to /vsiadls/: returns all system-defined properties
for a path (seems in practice to be a subset of HEADERS).
</p>
</li>
<li>
<p> ACL: specific to /vsiadls/ and /vsigs/: returns the access control list
for a path. For /vsigs/, a single <code>XML=xml_content</code> string is returned.
</p>
</li>
<li>
<p> METADATA: specific to /vsiaz/: blob metadata (this will be a subset of
what <code>domain=HEADERS</code> returns).
</p>
</li>
<li>
<p> ZIP: specific to /vsizip/: to obtain ZIP specific metadata, in
particular if a file is SOZIP-enabled (<code>SOZIP_VALID=YES</code>).
</p>
</li>
</ul>
<h3>Value</h3>

<p>A named list of values, or <code>NULL</code> in case of error or empty list.
</p>


<h3>See Also</h3>

<p><code>vsi_stat()</code>, <code>addFilesInZip()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create an SOZip-enabled file and validate
# Requires GDAL &gt;= 3.7
f &lt;- system.file("extdata/ynp_fires_1984_2022.gpkg", package="gdalraster")

if (as.integer(gdal_version()[2]) &gt;= 3070000) {
  zip_file &lt;- tempfile(fileext=".zip")
  addFilesInZip(zip_file, f, full_paths=FALSE, sozip_enabled="YES")
  zip_vsi &lt;- file.path("/vsizip", zip_file)
  print("Files in zip archive:")
  print(vsi_read_dir(zip_vsi))
  print("SOZip metadata:")
  print(vsi_get_file_metadata(zip_vsi, domain="ZIP"))

  vsi_unlink(zip_file)
}
</code></pre>


</div>