<div class="container">

<table style="width: 100%;"><tr>
<td>bind_tf_idf2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bind term frequency and inverse document frequency</h2>

<h3>Description</h3>

<p>Calculates and binds the term frequency, inverse document frequency,
and TF-IDF of the dataset.
This function experimentally supports 4 types of term frequencies
and 5 types of inverse document frequencies.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bind_tf_idf2(
  tbl,
  term = "token",
  document = "doc_id",
  n = "n",
  tf = c("tf", "tf2", "tf3", "itf"),
  idf = c("idf", "idf2", "idf3", "idf4", "df"),
  norm = FALSE,
  rmecab_compat = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tbl</code></td>
<td>
<p>A tidy text dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>term</code></td>
<td>
<p>&lt;<code>data-masked</code>&gt;
Column containing terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>document</code></td>
<td>
<p>&lt;<code>data-masked</code>&gt;
Column containing document IDs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>&lt;<code>data-masked</code>&gt;
Column containing document-term counts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tf</code></td>
<td>
<p>Method for computing term frequency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idf</code></td>
<td>
<p>Method for computing inverse document frequency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norm</code></td>
<td>
<p>Logical; If passed as <code>TRUE</code>, TF-IDF values are normalized
being divided with L2 norms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmecab_compat</code></td>
<td>
<p>Logical; If passed as <code>TRUE</code>, computes values while
taking care of compatibility with 'RMeCab'.
Note that 'RMeCab' always computes IDF values using term frequency
rather than raw term counts, and thus TF-IDF values may be
doubly affected by term frequency.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Types of term frequency can be switched with <code>tf</code> argument:
</p>

<ul>
<li> <p><code>tf</code> is term frequency (not raw count of terms).
</p>
</li>
<li> <p><code>tf2</code> is logarithmic term frequency of which base is <code>exp(1)</code>.
</p>
</li>
<li> <p><code>tf3</code> is binary-weighted term frequency.
</p>
</li>
<li> <p><code>itf</code> is inverse term frequency. Use with <code>idf="df"</code>.
</p>
</li>
</ul>
<p>Types of inverse document frequencies can be switched with <code>idf</code> argument:
</p>

<ul>
<li> <p><code>idf</code> is inverse document frequency of which base is 2, with smoothed.
'smoothed' here means just adding 1 to raw values after logarithmizing.
</p>
</li>
<li> <p><code>idf2</code> is global frequency IDF.
</p>
</li>
<li> <p><code>idf3</code> is probabilistic IDF of which base is 2.
</p>
</li>
<li> <p><code>idf4</code> is global entropy, not IDF in actual.
</p>
</li>
<li> <p><code>df</code> is document frequency. Use with <code>tf="itf"</code>.
</p>
</li>
</ul>
<h3>Value</h3>

<p>A data.frame.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
df &lt;- tokenize(
  data.frame(
    doc_id = seq_along(ginga[5:8]),
    text = ginga[5:8]
  )
) |&gt;
  dplyr::group_by(doc_id) |&gt;
  dplyr::count(token) |&gt;
  dplyr::ungroup()
bind_tf_idf2(df)

## End(Not run)
</code></pre>


</div>