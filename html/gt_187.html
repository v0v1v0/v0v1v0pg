<div class="container">

<table style="width: 100%;"><tr>
<td>tab_row_group</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a row group to a <strong>gt</strong> table</h2>

<h3>Description</h3>

<p>We can create a row group from a collection of rows with <code>tab_row_group()</code>.
This requires specification of the rows to be included, either by supplying
row labels, row indices, or through use of a select helper function like
<code>starts_with()</code>. To modify the order of row groups, we can use
<code>row_group_order()</code>.
</p>
<p>To set a default row group label for any rows not formally placed in a row
group, we can use a separate call to <code style="white-space: pre;">⁠tab_options(row_group.default_label = &lt;label&gt;)⁠</code>. If this is not done and there are rows that haven't been placed
into a row group (where one or more row groups already exist), those rows
will be automatically placed into a row group without a label.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tab_row_group(data, label, rows, id = label, others_label = NULL, group = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">⁠obj:&lt;gt_tbl&gt;⁠</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code>gt()</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p><em>Row group label text</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <strong>required</strong>
</p>
<p>The text to use for the row group label. We can optionally use <code>md()</code> or
<code>html()</code> to style the text as Markdown or to retain HTML elements in the
text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">⁠&lt;row-targeting expression&gt;⁠</code> // <strong>required</strong>
</p>
<p>The rows to be made components of the row group. We can supply a vector of
row ID values within <code>c()</code>, a vector of row indices, or use select helpers
(e.g. <code>starts_with()</code>, <code>ends_with()</code>, <code>contains()</code>, <code>matches()</code>,
<code>num_range()</code>, and <code>everything()</code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">⁠[colname_1] &gt; 100 &amp; [colname_2] &lt; 50⁠</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p><em>Row group ID</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>label</code>
</p>
<p>The ID for the row group. When accessing a row group through
<code>cells_row_groups()</code> (when using <code>tab_style()</code> or <code>tab_footnote()</code>) the
<code>id</code> value is used as the reference (and not the <code>label</code>). If an <code>id</code> is
not explicitly provided here, it will be taken from the <code>label</code> value. It
is advisable to set an explicit <code>id</code> value if you plan to access this cell
in a later function call and the label text is complicated (e.g., contains
markup, is lengthy, or both). Finally, when providing an <code>id</code> value you
must ensure that it is unique across all ID values set for row groups (the
function will stop if <code>id</code> isn't unique).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>others_label</code></td>
<td>
<p><em>Deprecated Label for default row group</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>This argument is deprecated. Instead use
<code style="white-space: pre;">⁠tab_options(row_group.default_label = &lt;label&gt;)⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p><em>Deprecated The group label</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>This argument is deprecated. Instead use <code>label</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Using a subset of the <code>gtcars</code> dataset, let's create a simple <strong>gt</strong> table
with row labels (from the <code>model</code> column) inside of a stub. This eight-row
table begins with no row groups at all but with a single use of
<code>tab_row_group()</code>, we can specify a row group that will contain any rows
where the car model begins with a number.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_row_group(
    label = "numbered",
    rows = matches("^[0-9]")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_row_group_1.png" alt="This image of a table was generated from the first code example in the `tab_row_group()` help file." style="width:100%;"><p>This actually makes two row groups since there are row labels that don't
begin with a number. That second row group is a catch-all <code>NA</code> group, and it
doesn't display a label at all. Rather, it is set off from the other group
with a double line. This may be a preferable way to display the arrangement
of one distinct group and an 'others' or default group. If that's the case
but you'd like the order reversed, you can use <code>row_group_order()</code>.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_row_group(
    label = "numbered",
    rows = matches("^[0-9]")
  ) |&gt;
  row_group_order(groups = c(NA, "numbered"))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_row_group_2.png" alt="This image of a table was generated from the second code example in the `tab_row_group()` help file." style="width:100%;"><p>Two more options include: (1) setting a default label for the 'others' group
(done through <code>tab_options()</code>), and (2) creating row groups until there are
no more unaccounted for rows. Let's try the first option in the next example:
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_row_group(
    label = "numbered",
    rows = matches("^[0-9]")
  ) |&gt;
  row_group_order(groups = c(NA, "numbered")) |&gt;
  tab_options(row_group.default_label = "others")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_row_group_3.png" alt="This image of a table was generated from the third code example in the `tab_row_group()` help file." style="width:100%;"><p>The above use of the <code>row_group.default_label</code> in <code>tab_options()</code> gets the
job done and provides a default label. One drawback is that the default/<code>NA</code>
group doesn't have an ID, so it can't as easily be styled with <code>tab_style()</code>;
however, row groups have indices and the index for the <code>"others"</code> group here
is <code>1</code>.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_row_group(
    label = "numbered",
    rows = matches("^[0-9]")
  ) |&gt;
  row_group_order(groups = c(NA, "numbered")) |&gt;
  tab_options(row_group.default_label = "others") |&gt;
  tab_style(
    style = cell_fill(color = "bisque"),
    locations = cells_row_groups(groups = 1)
  ) |&gt;
  tab_style(
    style = cell_fill(color = "lightgreen"),
    locations = cells_row_groups(groups = "numbered")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_row_group_4.png" alt="This image of a table was generated from the fourth code example in the `tab_row_group()` help file." style="width:100%;"><p>Now let's try using <code>tab_row_group()</code> with our <code>gtcars</code>-based table such
that all rows are formally assigned to different row groups. We'll define two
row groups with the (Markdown-infused) labels <code>"**Powerful Cars**"</code> and
<code>"**Super Powerful Cars**"</code>. The distinction between the groups is whether
<code>hp</code> is lesser or greater than <code>600</code> (and this is governed by the expressions
provided to the <code>rows</code> argument).
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_row_group(
    label = md("**Powerful Cars**"),
    rows = hp &lt; 600,
    id = "powerful"
  ) |&gt;
  tab_row_group(
    label = md("**Super Powerful Cars**"),
    rows = hp &gt;= 600,
    id = "v_powerful"
  ) |&gt;
  tab_style(
    style = cell_fill(color = "gray85"),
    locations = cells_row_groups(groups = "powerful")
  ) |&gt;
  tab_style(
    style = list(
      cell_fill(color = "gray95"),
      cell_text(size = "larger")
    ),
    locations = cells_row_groups(groups = "v_powerful")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_row_group_5.png" alt="This image of a table was generated from the fifth code example in the `tab_row_group()` help file." style="width:100%;"><p>Setting the <code>id</code> values for each of the row groups makes things easier since
you will have clean, markup-free ID values to reference in later calls (as
was done with the <code>tab_style()</code> invocations in the example above). The use of
the <code>md()</code> helper function makes it so that any Markdown provided for the
<code>label</code> of a row group is faithfully rendered.
</p>


<h3>Function ID</h3>

<p>2-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other part creation/modification functions: 
<code>tab_caption()</code>,
<code>tab_footnote()</code>,
<code>tab_header()</code>,
<code>tab_info()</code>,
<code>tab_options()</code>,
<code>tab_source_note()</code>,
<code>tab_spanner()</code>,
<code>tab_spanner_delim()</code>,
<code>tab_stub_indent()</code>,
<code>tab_stubhead()</code>,
<code>tab_style()</code>,
<code>tab_style_body()</code>
</p>


</div>