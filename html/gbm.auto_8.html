<div class="container">

<table style="width: 100%;"><tr>
<td>gbm.basemap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates Basemaps for Gbm.auto mapping from your data range</h2>

<h3>Description</h3>

<p>Downloads unzips crops &amp; saves NOAAs global coastline shapefiles to user-set
box. Use for 'shape' in gbm.map. If downloading in RStudio uncheck
"Use secure download method for HTTP" in Tools &gt; Global Options &gt; Packages.
Simon Dedman, 2015/6 simondedman@gmail.com GitHub.com/SimonDedman/gbm.auto
</p>


<h3>Usage</h3>

<pre><code class="language-R">gbm.basemap(
  bounds = NULL,
  grids = NULL,
  gridslat = NULL,
  gridslon = NULL,
  getzip = TRUE,
  zipvers = "2.3.7",
  savedir = tempdir(),
  savename = "Crop_Map",
  res = "CALC",
  extrabounds = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bounds</code></td>
<td>
<p>Region to crop to: c(xmin,xmax,ymin,ymax).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grids</code></td>
<td>
<p>If bounds unspecified, name your grids database here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gridslat</code></td>
<td>
<p>If bounds unspecified, specify which column in grids is
latitude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gridslon</code></td>
<td>
<p>If bounds unspecified, specify which column in grids is
longitude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>getzip</code></td>
<td>
<p>Download &amp; unpack GSHHS data to WD? "TRUE" else
absolute/relative reference to GSHHS_shp folder, including that folder.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zipvers</code></td>
<td>
<p>GSHHS version, in case it updates. Please email developer (SD)
if this is incorrect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savedir</code></td>
<td>
<p>Save outputs to a temporary directory (default) else change to
current directory e.g. "/home/me/folder". Do not use getwd() here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savename</code></td>
<td>
<p>Shapefile save-name, no shp extension, default is "Crop_Map"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>Resolution, 1:5 (low:high) OR c,l,i,h,f (coarse, low,
intermediate, high, full) or "CALC" to calculate based on bounds. Choose one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extrabounds</code></td>
<td>
<p>Grow bounds 16pct each direction to expand rectangular
datasets basemaps over the entire square area created by basemap in mapplots.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>errors and their origins:
</p>

<ol>
<li>
<p> Error in setwd(getzip) : cannot change working directory
If you've specified the location of the local GSHHS_shp folder, ensure you're
in the correct directory relative to it. This error means it looked for the
folder and couldn't find it.
</p>
</li>
<li>
<p> subscript out of bounds: can't crop world map to your bounds.
Check lat/lon are the right way around: check gridslat and gridslon point to the correct columns
for lat and lon in grids, and those columns named (something like) lat and lon, ARE ACTUALLY the
latitudes and longitudes, and not the wrong way around.
</p>
</li>
<li>
<p> If your download is timing out use options(timeout = 240).
</p>
</li>
<li>
<p> Error in if (scope &gt;= 160) res &lt;- "c" : missing value where TRUE/FALSE needed. Check gridslat
and gridslon are indexing the correct columns in grids.
</p>
</li>
</ol>
<h3>Value</h3>

<p>basemap coastline file for gbm.map in gbm.auto. "cropshp"
SpatialPolygonsDataFrame in in local environment &amp; user-named files in
"CroppedMap" folder. Load later with maptools function:
MyMap &lt;- sf::st_read(dsn = "./CroppedMap/Crop_Map.shp", layer = "Crop_Map, quiet = TRUE)
</p>


<h3>Author(s)</h3>

<p>Simon Dedman, <a href="mailto:simondedman@gmail.com">simondedman@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Not run: downloads and saves external data.
data(samples)
mybounds &lt;- c(range(samples[,3]),range(samples[,2]))
gbm.basemap(bounds = mybounds, getzip = "./GSHHS_shp/",
savename = "My_Crop_Map", res = "f")
# In this example GSHHS folder already downloaded to the working directory
# hence I pointed getzip at that rather than having it download the zip again


</code></pre>


</div>