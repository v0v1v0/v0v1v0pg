<div class="container">

<table style="width: 100%;"><tr>
<td>gdfpd.GetDFPData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Downloads and reads financial reports from B3's DFP/FRE/FCA system</h2>

<h3>Description</h3>

<p>Annual data for financial reports and corporate events are downloaded from B3 for a combination of companies and time period.
This function gathers data into a single tibble object and organizes it in a tabular/long format.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gdfpd.GetDFPData(
  name.companies,
  first.date = Sys.Date() - 12 * 30,
  last.date = Sys.Date(),
  selected.data = "DFP|FRE|FCA",
  inflation.index = "dollar",
  max.levels = 3,
  folder.out = tempdir(),
  do.cache = TRUE,
  cache.folder = "DFP Cache Folder",
  fetch.new.files = FALSE,
  max.dl.tries = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>name.companies</code></td>
<td>
<p>Official names of companies to get financial reports (e.g. 'ELETROPAULO METROPOLITANA EL.S.PAULO S.A').
Names of companies can be found using function gdfpd.search.company('nametolookfor') or gdfpd.get.info.companies('companies')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>first.date</code></td>
<td>
<p>First date (YYYY-MM-DD) to get data. Character or Date. E.g. first.date = '2010-01-01'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>last.date</code></td>
<td>
<p>Last date (YYYY-MM-DD) to get data. Character or Date. E.g. last.date = '2017-01-01'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selected.data</code></td>
<td>
<p>Symbols for the selection of datasets: 'DFP|FRE|FCA', 'DFP|FRE', 'FRE|FCA', 'DFP|FCA', 'DFP', 'FRE', 'FCA'. Default = 'DFP|FRE|FCA'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inflation.index</code></td>
<td>
<p>Sets the inflation index to use for finding inflation adjusted values of all reports. Possible values: 'dollar' (default) or 'IPCA', the brazilian main inflation index.
When using 'IPCA', the base date is set as the last date found in the DFP dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.levels</code></td>
<td>
<p>Sets the maximum number of levels of accounting items in financial reports (default = 3)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folder.out</code></td>
<td>
<p>Folder where to download and manipulate the zip files. Default = tempdir()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do.cache</code></td>
<td>
<p>Logical for controlling to whether to use a cache system or not. Default = TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache.folder</code></td>
<td>
<p>Folder to cache (save) all processed information. Default = file.path(getwd(),'DFP Cache Folder')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fetch.new.files</code></td>
<td>
<p>Logical. Should the function search for new files/data in Bovespa? (default = FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.dl.tries</code></td>
<td>
<p>Maximum number of attempts for dowloading files</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The easiest way to get started with gdfpd.GetDFPData is looking for the official name of traded companies using function gdfpd.search.company('nametolookfor').
Alternatively, you can use function gdfpd.get.info.companies('companies') to import a dataframe with information for all available companies and time periods.
</p>


<h3>Value</h3>

<p>A tibble object with all gathered financial statements, with each company as a row
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run:  #dontrun: keep cran check time short
name.companies &lt;- 'ELETROPAULO METROPOLITANA EL.S.PAULO S.A'
first.date &lt;- '2005-01-01'
last.date &lt;-  '2006-01-01'

df.statements &lt;- gdfpd.GetDFPData(name.companies = name.companies,
                                  first.date = first.date,
                                  last.date = last.date)
 
## End(Not run)
</code></pre>


</div>