<div class="container">

<table style="width: 100%;"><tr>
<td>gmm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generalised Method of Moment (GMM) estimation of linear models</h2>

<h3>Description</h3>

<p>Generalised Method of Moment (GMM) estimation of linear models with either ordinary (homoscedastic error) or robust (heteroscedastic error) coefficient-covariance, see Hayashi (2000) chapter 3.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gmm(y, x, z, tol = .Machine$double.eps,
  weighting.matrix = c("efficient", "2sls", "identity"),
  vcov.type = c("ordinary", "robust"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>numeric vector, the regressand</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric matrix, the regressors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>numeric matrix, the instruments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>numeric value. The tolerance for detecting linear dependencies in the columns of the matrices that are inverted, see the <code>solve</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighting.matrix</code></td>
<td>
<p>a character that determines the weighting matrix to bee used, see "details"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov.type</code></td>
<td>
<p>a character that determines the expression for the coefficient-covariance, see "details"</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>weighting.matrix = "identity"</code> corresponds to the Instrumental Variables (IV) estimator, <code>weighting.matrix = "2sls"</code> corresponds to the 2 Stage Least Squares (2SLS) estimator, whereas <code>weighting.matrix = "efficient"</code> corresponds to the efficient GMM estimator, see chapter 3 in Hayashi(2000).
</p>
<p><code>vcov.type = "ordinary"</code> returns the ordinary expression for the coefficient-covariance, which is valid under conditionally homoscedastic errors. <code>vcov.type = "robust"</code> returns an expression that is also valid under conditional heteroscedasticity, see chapter 3 in Hayashi (2000).
</p>


<h3>Value</h3>

<p>A list with, amongst other, the following items:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>number of regressors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>degrees of freedom, i.e. n-k</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefficients</code></td>
<td>
<p>a vector with the coefficient estimates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>a vector with the fitted values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>residuals</code></td>
<td>
<p>a vector with the residuals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>residuals2</code></td>
<td>
<p>a vector with the squared residuals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rss</code></td>
<td>
<p>the residual sum of squares</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma2</code></td>
<td>
<p>the regression variance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov</code></td>
<td>
<p>the coefficient-covariance matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logl</code></td>
<td>
<p>the normal log-likelihood</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Genaro Sucarrat, <a href="http://www.sucarrat.net/">http://www.sucarrat.net/</a></p>


<h3>References</h3>

<p>F. Hayashi (2000): 'Econometrics'. Princeton: Princeton University Press
</p>


<h3>See Also</h3>

<p><code>solve</code>, <code>ols</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">
##generate data where regressor is correlated with error:
set.seed(123) #for reproducibility
n &lt;- 100
z1 &lt;- rnorm(n) #instrument
eps &lt;- rnorm(n) #ensures cor(z,eps)=0
x1 &lt;- 0.5*z1 + 0.5*eps #ensures cor(x,eps) is strong
y &lt;- 0.4 + 0.8*x1 + eps #the dgp
cor(x1, eps) #check correlatedness of regressor
cor(z1, eps) #check uncorrelatedness of instrument

x &lt;- cbind(1,x1) #regressor matrix
z &lt;- cbind(1,z1) #matrix with instruments

##efficient gmm estimation:
mymod &lt;- gmm(y, x, z)
mymod$coefficients

##ols (for comparison):
mymod &lt;- ols(y,x)
mymod$coefficients

</code></pre>


</div>