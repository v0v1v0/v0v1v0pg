<div class="container">

<table style="width: 100%;"><tr>
<td>DLRule</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Drop the loser rule
</h2>

<h3>Description</h3>

<p>Simulating drop the loser rule procedure with two-sided hypothesis testing in a clinical trial context.
</p>


<h3>Usage</h3>

<pre><code class="language-R">DLRule(k, p, ssn, Y0 = NULL, nsim = 2000, alpha = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>a positive integer. The value specifies the number of treatment groups involved in a clinical trial. (<code class="reqn">k = 2</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>a positive vector of length equals to <code>k</code>. The values specify the true success rates for the various treatments, and these rates are used to generate data for simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ssn</code></td>
<td>
<p>a positive integer. The value specifies the total number of participants involved in each round of the simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y0</code></td>
<td>
<p>A vector of length <code>k</code>, specifying the initial probability of allocating a patient to each group. For instance, if <code>Y0 = c(1, 1, 1)</code>, the initial probabilities are calculated as <code>Y0 / sum(Y0)</code>. When <code>Y0</code> is <code>NULL</code>, the initial urn will be set as If <code>Y0</code> is <code>NULL</code>, then <code>Y0</code> is set to a vector of length <code>k</code>, with all values equal to 1 by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>a positive integer. The value specifies the total number of simulations, with a default value of 2000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A number between 0 and 1. The value represents the predetermined level of significance that defines the probability threshold for rejecting the null hypothesis, with a default value of 0.05.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Drop the loser rule can be describe as follows: An urn contains three types of balls <code class="reqn">(A, B, 0)</code> initially. Balls of types <code class="reqn">A</code> and <code class="reqn">B</code> represent treatments <code class="reqn">A</code> and <code class="reqn">B</code>, balls of 0 type are immigration balls. If <code class="reqn">A</code> (or <code class="reqn">B</code>) is drawn, then treatment <code class="reqn">A</code> (or <code class="reqn">B</code>) is assigned to the subject and the response is observed. If the observed response is a failure, then the ball is not replaced, else replaced. If an immigration ball (type 0) is drawn, no treatment is assigned, and the ball is returned to the urn together with one <code class="reqn">A</code> and one <code class="reqn">B</code> ball.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>The name of procedure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>The true parameters used to do the simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assignment</code></td>
<td>
<p>The randomization sequence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>propotion</code></td>
<td>
<p>Average allocation porpotion for each of treatment groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>failRate</code></td>
<td>
<p>The proportion of individuals who do not achieve the expected outcome in each simulation, on average.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pwClac</code></td>
<td>
<p>The probability of the study to detect a significant difference or effect if it truly exists.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of arms involved in the trial.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Ivanova, A. (2003). <em>A play-the-winner-type urn design with reduced variability.</em> Metrika, 58, 1-13.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## a simple use
dl.res = DLRule(k = 2, p = c(0.7, 0.8), ssn = 400, Y0 = NULL, nsim = 200, alpha = 0.05)

## view the output
dl.res


  ## view all simulation settings
  dl.res$name
  dl.res$parameter
  dl.res$k

  ## View the simulations results
  dl.res$propotion
  dl.res$failRate
  dl.res$pwCalc
  dl.res$assignment
  
</code></pre>


</div>