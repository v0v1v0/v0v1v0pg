<div class="container">

<table style="width: 100%;"><tr>
<td>g.part4</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Labels detected sustained inactivity periods by g.part3 as either
part of the Sleep Period Time window or not
</h2>

<h3>Description</h3>

<p>Combines output from g.part3 and guider information to estimate
sleep variables. See vignette paragraph "Sleep and full day
time-use analysis in GGIR" for an elaborate descript of the sleep detection.
</p>


<h3>Usage</h3>

<pre><code class="language-R"> g.part4(datadir = c(), metadatadir = c(), f0 = f0, f1 = f1, params_sleep = c(), 
    params_metrics = c(),  params_cleaning = c(), params_output = c(),
                   params_general = c(), verbose = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>datadir</code></td>
<td>

<p>Directory where the accelerometer files are stored, e.g. 
"C:/mydata", or list of accelerometer filenames and directories, e.g. 
c("C:/mydata/myfile1.bin", "C:/mydata/myfile2.bin").
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metadatadir</code></td>
<td>

<p>Directory that holds a folder 'meta' and inside this a folder 'basic'
which contains the milestone data produced by g.part1. The folderstructure
is normally created by g.part1 and GGIR will recognise what
the value of metadatadir is.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f0</code></td>
<td>

<p>File index to start with (default = 1). Index refers to the filenames sorted
in alphabetical order
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f1</code></td>
<td>

<p>File index to finish with (defaults to number of files available, i.e., f1 = 0)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params_sleep</code></td>
<td>

<p>List of parameters used for sleep analysis (GGIR part 3, 4, and 5): 
see documentation g.part3.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params_metrics</code></td>
<td>

<p>List of parameters used for metrics extraction (GGIR part 1): 
see documentation g.part1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params_cleaning</code></td>
<td>

<p>See details in GGIR.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params_output</code></td>
<td>

<p>See details in GGIR.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params_general</code></td>
<td>

<p>See details in GGIR.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>See details in GGIR.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>To ensure compatibility with R scripts written for older GGIR versions,
the user can also provide parameters listed in the params_ objects as direct argument.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function does not produce values but generates an RData file
in the milestone subfolder ms4.out which incudes a dataframe
named <code>nightsummary</code>. This dataframe is used in g.report.part4 to create
two reports one per night and one per person. See package vignette 
paragraph "Output part 4" for description of all the variables.
</p>


<h3>Author(s)</h3>

<p>Vincent T van Hees &lt;v.vanhees@accelting.com&gt;
</p>


<h3>References</h3>


<ul>
<li>
<p> van Hees VT, Sabia S, et al. (2018) AEstimating sleep parameters
using an accelerometer without sleep diary, Scientific Reports.
</p>
</li>
<li>
<p> van Hees VT, Sabia S, et al. (2015) A novel, open access method
to assess sleep duration using a wrist-worn accelerometer, PLoS ONE.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">  ## Not run: 
    metadatadir = "C:/myfolder/meta" # assumes that there is a subfolder in
    # metadatadir named 'ms3.out' containing the output from g.part3
    g.part4(metadatadir=metadatadir)
  
## End(Not run)
</code></pre>


</div>