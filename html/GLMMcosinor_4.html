<div class="container">

<table style="width: 100%;"><tr>
<td>autoplot.cglmm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot a cosinor model</h2>

<h3>Description</h3>

<p>Given a cglmm model fit, generate a plot of the data with the fitted
values.
Optionally allows for plotting by covariates
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'cglmm'
autoplot(
  object,
  ci_level = 0.95,
  x_str,
  type = "response",
  xlims,
  pred.length.out,
  points_per_min_cycle_length = 20,
  superimpose.data = FALSE,
  data_opacity = 0.3,
  predict.ribbon = TRUE,
  ranef_plot = NULL,
  cov_list = NULL,
  quietly = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An <code>cglmm</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_level</code></td>
<td>
<p>The level for calculated confidence intervals. Defaults to
<code>0.95</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_str</code></td>
<td>
<p>A <code>character</code> vector naming variable(s) to be plotted.
Default has no value and plots all groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A <code>character</code> that will be passed as an argument to
<code>predict.cglmm()</code>, specifying the type of prediction
(e.g, "response", or "link"). See <code>?glmmTMB::predict.glmmTMB</code> for full
list of possible inputs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlims</code></td>
<td>
<p>A vector of length two containing the limits for the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred.length.out</code></td>
<td>
<p>An integer value that specifies the number of
predicted data points. The larger the value, the more smooth the fitted line
will appear. If missing, uses <code>points_per_min_cycle_length</code> to generate
a sensible default value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points_per_min_cycle_length</code></td>
<td>
<p>Used to determine the number of samples
to create plot if <code>pred.length.out</code> is missing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>superimpose.data</code></td>
<td>
<p>A <code>logical</code>. If <code>TRUE</code>, data from the
original data used to fit the model (<code>object</code>) will be superimposed
over the predicted fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_opacity</code></td>
<td>
<p>A number between 0 and 1 inclusive that controls the
opacity of the superimposed data. (Used as the <code>alpha</code> when calling
<code>ggplot2::geom_point()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predict.ribbon</code></td>
<td>
<p>A <code>logical</code>. If <code>TRUE</code>, a prediction interval
is plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ranef_plot</code></td>
<td>
<p>Specify the random effects variables that you wish to plot.
If not specified, only the fixed effects will be visualised.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov_list</code></td>
<td>
<p>Specify the levels of the covariates that you wish to plot as
a list. For example, if you have two covariates: var1, and var 2, you could
fix the level to be plotted as such <code>cov_list = list(var1 = 'a', var2 = 1)</code>,
where 'a' is a level in 'var1', and 1 is a level in 'var2'. See the examples
for a demonstration.
If not specified, the reference level of the covariate(s) will be used.
<code>points_per_min_cycle_length</code> is the number of points plotted per the
minimum cycle length (period) of all cosinor components in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quietly</code></td>
<td>
<p>A <code>logical</code>. If <code>TRUE</code>, shows warning messages when
wrangling data and fitting model. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional, ignored arguments.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a <code>ggplot</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># A simple model
model &lt;- cglmm(
  vit_d ~ X + amp_acro(time, group = "X", period = 12),
  data = vitamind
)
autoplot(model, x_str = "X")


# Plotting a model with various covariates
test_data &lt;- vitamind[vitamind$X == 1, ]
test_data$var1 &lt;- sample(c("a", "b", "c"), size = nrow(test_data), replace = TRUE)
test_data$var2 &lt;- rnorm(n = nrow(test_data))

object &lt;- cglmm(
  vit_d ~ amp_acro(time, period = 12) + var1 + var2,
  data = test_data
)
autoplot(object,
  cov_list = list(
    var1 = "a",
    var2 = 1
  ),
  superimpose.data = TRUE
)
</code></pre>


</div>