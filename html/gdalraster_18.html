<div class="container">

<table style="width: 100%;"><tr>
<td>createColorRamp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a color ramp</h2>

<h3>Description</h3>

<p><code>createColorRamp()</code> is a wrapper for <code>GDALCreateColorRamp()</code> in the GDAL
API. It automatically creates a color ramp from one color entry to another.
Output is an integer matrix in color table format for use with
<code>GDALRaster$setColorTable()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">createColorRamp(
  start_index,
  start_color,
  end_index,
  end_color,
  palette_interp = "RGB"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>start_index</code></td>
<td>
<p>Integer start index (raster value).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_color</code></td>
<td>
<p>Integer vector of length three or four.
A color entry value to start the ramp (e.g., RGB values).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_index</code></td>
<td>
<p>Integer end index (raster value).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_color</code></td>
<td>
<p>Integer vector of length three or four.
A color entry value to end the ramp (e.g., RGB values).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette_interp</code></td>
<td>
<p>One of "Gray", "RGB" (the default), "CMYK" or "HLS"
describing interpretation of <code>start_color</code> and <code>end_color</code> values
(see <a href="https://gdal.org/user/raster_data_model.html#color-table">GDAL
Color Table</a>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Integer matrix with five columns containing the color ramp from
<code>start_index</code> to <code>end_index</code>, with raster index values in column 1 and
color entries in columns 2:5).
</p>


<h3>Note</h3>

<p><code>createColorRamp()</code> could be called several times, using <code>rbind()</code> to
combine multiple ramps into the same color table. Possible duplicate rows
in the resulting table are not a problem when used in
<code>GDALRaster$setColorTable()</code> (i.e., when <code>end_color</code> of one ramp is the
same as <code>start_color</code> of the next ramp).
</p>


<h3>See Also</h3>

<p><code>GDALRaster$getColorTable()</code>,
<code>GDALRaster$getPaletteInterp()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create a color ramp for tree canopy cover percent
# band 5 of an LCP file contains canopy cover
lcp_file &lt;- system.file("extdata/storm_lake.lcp", package="gdalraster")
ds &lt;- new(GDALRaster, lcp_file)
ds$getDescription(band=5)
ds$getMetadata(band=5, domain="")
ds$close()

# create a GTiff file with Byte data type for the canopy cover band
# recode nodata -9999 to 255
tcc_file &lt;- calc(expr = "ifelse(CANCOV == -9999, 255, CANCOV)",
                 rasterfiles = lcp_file,
                 bands = 5,
                 var.names = "CANCOV",
                 fmt = "GTiff",
                 dtName = "Byte",
                 nodata_value = 255,
                 setRasterNodataValue = TRUE)

ds_tcc &lt;- new(GDALRaster, tcc_file, read_only=FALSE)

# create a color ramp from 0 to 100 and set as the color table
colors &lt;- createColorRamp(start_index = 0,
                          start_color = c(211, 211, 211),
                          end_index = 100,
                          end_color = c(0, 100, 0))

print(colors)
ds_tcc$setColorTable(band=1, col_tbl=colors, palette_interp="RGB")
ds_tcc$setRasterColorInterp(band=1, col_interp="Palette")

# close and re-open the dataset in read_only mode
ds_tcc$open(read_only=TRUE)

plot_raster(ds_tcc, interpolate=FALSE, legend=TRUE,
            main="Storm Lake Tree Canopy Cover (%)")
ds_tcc$close()

deleteDataset(tcc_file)
</code></pre>


</div>