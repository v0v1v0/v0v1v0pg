<div class="container">

<table style="width: 100%;"><tr>
<td>ThresholdFunctions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find point(s) when a numeric vector crosses some threshold</h2>

<h3>Description</h3>

<p>These functions take a vector of <code>y</code> values and identify points where
the <code>y</code> values cross some <code>threshold</code> y value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">find_threshold_crosses(
  y,
  x = NULL,
  threshold,
  return = "index",
  return_rising = TRUE,
  return_falling = TRUE,
  return_endpoints = TRUE,
  subset = NULL,
  na.rm = TRUE
)

first_below(
  y,
  x = NULL,
  threshold,
  return = "index",
  return_endpoints = TRUE,
  ...
)

first_above(
  y,
  x = NULL,
  threshold,
  return = "index",
  return_endpoints = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Numeric vector of y values in which to identify threshold
crossing event(s)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Optional numeric vector of corresponding x values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>Threshold y value of interest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return</code></td>
<td>
<p>One of <code>c("index", "x")</code>, determining whether the function
will return the <code>index</code> or <code>x</code> value associated with the
threshold-crossing event.
</p>
<p>If <code>index</code>, it will refer to the data point immediately after
the crossing event.
</p>
<p>If <code>x</code>, it will use linear interpolation and the data
points immediately before and after the threshold-crossing
to return the exact <code>x</code> value when the threshold crossing
occurred</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_rising</code></td>
<td>
<p>logical for whether crossing events where <code>y</code>
rises above <code>threshold</code> should be returned</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_falling</code></td>
<td>
<p>logical for whether crossing events where <code>y</code>
falls below <code>threshold</code> should be returned</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_endpoints</code></td>
<td>
<p>logical for whether startpoint should be returned
when the startpoint is above <code>threshold</code> and
<code>return_rising = TRUE</code>, or when the startpoint is
below <code>threshold</code> and <code>return_falling = TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>A vector of logical values indicating which x and y values
should be included (TRUE) or excluded (FALSE).
</p>
<p>If <code>return = "index"</code>, index will be for the whole 
vector and not the subset of the vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>logical whether NA's should be removed before analyzing.
If <code>return = 'index'</code>, indices will refer to the original
<code>y</code> vector *including* <code>NA</code> values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>(for <code>first_above</code> and <code>first_below</code>) other arguments 
to pass to <code>find_threshold_crosses</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>find_threshold_crosses</code> returns a vector corresponding to all the 
threshold crossings.
</p>
<p><code>first_above</code> returns only the first time the <code>y</code> values
rise above the threshold, so is a shortcut for 
<code>find_threshold_crosses(return_rising = TRUE, return_falling = FALSE)[1]</code>
</p>
<p><code>first_below</code> returns only the first time the <code>y</code> values
fall below the threshold, so is a shortcut for 
<code>find_threshold_crosses(return_rising = FALSE, return_falling = TRUE)[1]</code>
</p>
<p>If <code>return = "index"</code>, the returned value(s) are the indices
immediately following threshold crossing(s)
</p>
<p>If <code>return = "x"</code>, the returned value(s) are the x value(s) 
corresponding to threshold crossing(s)
</p>
<p>If no threshold-crossings are detected that meet the criteria, will
return <code>NA</code>
</p>


</div>