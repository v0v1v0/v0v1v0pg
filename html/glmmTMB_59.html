<div class="container">

<table style="width: 100%;"><tr>
<td>predict.glmmTMB</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>prediction</h2>

<h3>Description</h3>

<p>prediction
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'glmmTMB'
predict(
  object,
  newdata = NULL,
  newparams = NULL,
  se.fit = FALSE,
  cov.fit = FALSE,
  re.form = NULL,
  allow.new.levels = FALSE,
  type = c("link", "response", "conditional", "zprob", "zlink", "disp", "latent"),
  zitype = NULL,
  na.action = na.pass,
  fast = NULL,
  debug = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a <code>glmmTMB</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>new data for prediction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newparams</code></td>
<td>
<p>new parameters for prediction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.fit</code></td>
<td>
<p>return the standard errors of the predicted values?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov.fit</code></td>
<td>
<p>return the covariance matrix of the predicted values?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>re.form</code></td>
<td>
<p><code>NULL</code> to specify individual-level predictions; <code>~0</code> or <code>NA</code> to specify population-level predictions (i.e., setting all random effects to zero)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow.new.levels</code></td>
<td>
<p>allow previously unobserved levels in random-effects variables? see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Denoting <code class="reqn">mu</code> as the mean of the conditional distribution and
<code>p</code> as the zero-inflation probability,
the possible choices are:
</p>

<dl>
<dt>"link"</dt>
<dd>
<p>conditional mean on the scale of the link function,
or equivalently the linear predictor of the conditional model</p>
</dd>
<dt>"response"</dt>
<dd>
<p>expected value; this is <code class="reqn">mu*(1-p)</code> for zero-inflated models
and <code>mu</code> otherwise</p>
</dd>
<dt>"conditional"</dt>
<dd>
<p>mean of the conditional response; <code>mu</code> for all models
(i.e., synonymous with <code>"response"</code> in the absence of zero-inflation</p>
</dd>
<dt>"zprob"</dt>
<dd>
<p>the probability of a structural zero (returns 0 for non-zero-inflated models)</p>
</dd>
<dt>"zlink"</dt>
<dd>
<p>predicted zero-inflation probability on the scale of
the logit link function (returns <code>-Inf</code> for non-zero-inflated models)</p>
</dd>
<dt>"disp"</dt>
<dd>
<p>dispersion parameter, however it is defined for that particular family (as described in  <code>sigma.glmmTMB</code>)</p>
</dd>
<dt>"latent"</dt>
<dd>
<p>return latent variables</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zitype</code></td>
<td>
<p>deprecated: formerly used to specify type of zero-inflation probability. Now synonymous with <code>type</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>how to handle missing values in <code>newdata</code> (see <code>na.action</code>);
the default (<code>na.pass</code>) is to predict <code>NA</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fast</code></td>
<td>
<p>predict without expanding memory (default is TRUE if <code>newdata</code> and <code>newparams</code> are NULL and population-level prediction is not being done)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>(logical) return the <code>TMBStruc</code> object that will be
used internally for debugging?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused - for method compatibility</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul>
<li>
<p> To compute population-level predictions for a given grouping variable (i.e., setting all random effects for that grouping variable to zero), set the grouping variable values to <code>NA</code>. Finer-scale control of conditioning (e.g. allowing variation among groups in intercepts but not slopes when predicting from a random-slopes model) is not currently possible.
</p>
</li>
<li>
<p> Prediction of new random effect levels is possible as long as the model specification (fixed effects and parameters) is kept constant.
However, to ensure intentional usage, a warning is triggered if <code>allow.new.levels=FALSE</code> (the default).
</p>
</li>
<li>
<p> Prediction using "data-dependent bases" (variables whose scaling or transformation depends on the original data, e.g. <code>poly</code>, <code>ns</code>, or <code>poly</code>) should work properly; however, users are advised to check results extra-carefully when using such variables. Models with different versions of the same data-dependent basis type in different components (e.g. <code>formula= y ~ poly(x,3), dispformula= ~poly(x,2)</code>) will probably <em>not</em> produce correct predictions.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">data(sleepstudy,package="lme4")
g0 &lt;- glmmTMB(Reaction~Days+(Days|Subject),sleepstudy)
predict(g0, sleepstudy)
## Predict new Subject
nd &lt;- sleepstudy[1,]
nd$Subject &lt;- "new"
predict(g0, newdata=nd, allow.new.levels=TRUE)
## population-level prediction
nd_pop &lt;- data.frame(Days=unique(sleepstudy$Days),
                     Subject=NA)
predict(g0, newdata=nd_pop)
## return latent variables (BLUPs/conditional modes/etc. ) with standard errors
##  (actually conditional standard deviations)
predict(g0, type = "latent", se.fit = TRUE)
</code></pre>


</div>