<div class="container">

<table style="width: 100%;"><tr>
<td>geom_debug_panel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Geoms that print input data to console.</h2>

<h3>Description</h3>

<p>The debug geoms are used to print to the console a summary of the object being
received by geoms' draw functions as input <code>data</code> and <code>parameters</code>
objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">geom_debug_panel(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  dbgfun.data = "head",
  dbgfun.data.args = list(),
  dbgfun.params = "summary",
  dbgfun.params.args = list(),
  dbgfun.print = "print",
  dbgfun.print.args = list(),
  parse = NULL,
  orientation = NULL,
  nudge_x = 0,
  nudge_y = 0,
  position = "identity",
  na.rm = FALSE,
  show.legend = FALSE,
  inherit.aes = TRUE,
  ...
)

geom_debug(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  summary.fun = "head",
  summary.fun.args = list(),
  parse = NULL,
  orientation = NULL,
  nudge_x = 0,
  nudge_y = 0,
  position = "identity",
  na.rm = FALSE,
  show.legend = FALSE,
  inherit.aes = TRUE,
  ...
)

geom_debug_group(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  dbgfun.data = "head",
  dbgfun.data.args = list(),
  dbgfun.params = "summary",
  dbgfun.params.args = list(),
  dbgfun.print = "print",
  dbgfun.print.args = list(),
  parse = NULL,
  orientation = NULL,
  nudge_x = 0,
  nudge_y = 0,
  position = "identity",
  na.rm = FALSE,
  show.legend = FALSE,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mapping</code></td>
<td>
<p>Set of aesthetic mappings created by
<code>aes</code> or <code>aes_</code>. If specified and
<code>inherit.aes = TRUE</code> (the default), is combined with the default
mapping at the top level of the plot. You only need to supply
<code>mapping</code> if there isn't a mapping defined for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame. If specified, overrides the default data frame
defined at the top level of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat</code></td>
<td>
<p>The statistical transformation to use on the data for this layer,
as a string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbgfun.data, dbgfun.params, summary.fun</code></td>
<td>
<p>The functions as character
strings giving their names or as named or anonymous function objects, to be
used to summarize the <code>data</code> and the <code>params</code> objects received as
input by the geometry.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbgfun.data.args, dbgfun.params.args, summary.fun.args</code></td>
<td>
<p>A named list of
additional arguments to be passed to <code>dbgfun.data</code> and
<code>dbgfun.params</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbgfun.print</code></td>
<td>
<p>A function used to print the <code>data</code> object received
as input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbgfun.print.args</code></td>
<td>
<p>A named list. Currently ignored!</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parse, orientation</code></td>
<td>
<p>Ignored. Helps avoid warnings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nudge_x, nudge_y</code></td>
<td>
<p>Horizontal and vertical adjustments to nudge the
starting position. The units for <code>nudge_x</code> and <code>nudge_y</code> are the
same as for the data units on the x-axis and y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of a
call to a position adjustment function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>If <code>FALSE</code> (the default), removes missing values with a
warning.  If <code>TRUE</code> silently removes missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped. <code>FALSE</code>
never includes, and <code>TRUE</code> always includes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics, rather
than combining with them. This is most useful for helper functions that
define both data and aesthetics and shouldn't inherit behaviour from the
default plot specification, e.g. <code>borders</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments passed on to <code>layer</code>. There
are three types of arguments you can use here:
</p>
 <ul>
<li>
<p> Aesthetics: to set an aesthetic to a fixed value, like
<code>color = "red"</code> or <code>size = 3</code>. </p>
</li>
<li>
<p> Other arguments to the
layer, for example you override the default <code>stat</code> associated with the
layer. </p>
</li>
<li>
<p> Other arguments passed on to the stat. </p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It can be useful when debugging the code of statistics or to learn how the
stats and geoms work in 'ggplot2' (&gt;= 3.0.0).
</p>
<p>The intended use of <code>geom_debug_panel()</code> and
<code>geom_debug_group()</code> is to explore the data as
they are used in a plot layer to produce graphical output. Geometries
can be defined using draw functions that receive as input data corresponding
to a single group at a time, or draw functions that receive as input all
data to be drawn in a panel at a time, possibly including multiple
groups. Function <code>geom_debug()</code> is identical to
<code>geom_debug_panel()</code>, and included for backwards compatibility.
</p>
<p>These <em>debug</em> geoms are very unusual in that they do not produce
visible graphic output. They "draw" a <code>grid.null()</code> grob (graphical
object) when the plot is rendered. Also, differently to normal geometries,
they print the <code>data</code> and <code>params</code> objects or a summary of them
to the R console. The summary is obtained using the functions passed as
arguments to their formal parameter <code>dbgfun.data</code> and
<code>dbgfun.params</code>. The <code>data</code> and <code>params</code> objects are passed
as the first positional argument to these functions and the values they
return are printed.
</p>
<p>If <code>dbgfun.data = "I"</code> is passed, the <code>data</code> object is printed as
is. In contrast, if <code>dbgfun.data = NULL</code> is passed, the <code>data</code>
object summary and its printing are not skipped. The mechanism is identical
for <code>dbgfun.params</code> and <code>params</code>.
</p>
<p>Nudging with <code>nudge_x</code> and <code>nudge_y</code> behave as in
<code>geom_text</code>. Arguments passed to <code>position</code> are
obeyed. So the effects of positions are reflected in the <code>data</code> object
printed or summarized to the R console. The arguments passed to
<code>parse</code> and <code>orientation</code> are currently ignored.
</p>
<p>Many aesthetics are defined as optional so that they are accepted silently
by <code>geom_debug()</code> and handled by 'ggplot2' as usual. Given the number
available extensions to 'ggplot2', it is likely that some are missing.
</p>
<p>The names of <code>dbgfun.data()</code> and <code>dbgfun.params()</code> are included
in the section headers of the printout, together with panels and groups.
</p>
<p>In most cases, the definitions of the debug and print functions must be
available when the <code>"gg"</code> object is printed and the plot rendered.
</p>


<h3>Value</h3>

<p>The panel function of this geometry always returns a
<code>nullGrob</code>, the legend is is also set to
<code>nullGrob</code>. This geometry used for its text printing side
effect.
</p>


<h3>Note</h3>

<p><code>geom_debug()</code> is a synonym of <code>geom_debug_panel()</code>, for
backwards compatibility. Not to be used in new code.
</p>


<h3>See Also</h3>

<p>To access data, scales and grobs in a built ggplot, see
<code>ggplot_build</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># echo to the R console \code{data} as received by geoms
ggplot(mtcars, aes(cyl, mpg, color = factor(cyl))) +
  geom_point() +
  geom_debug_panel()

ggplot(mtcars, aes(cyl, mpg, color = factor(cyl))) +
  geom_point() +
  geom_debug_group()

ggplot(mtcars, aes(cyl, mpg, color = factor(cyl))) +
  geom_point() +
  geom_debug_panel(dbgfun.params = NULL)

ggplot(mtcars, aes(cyl, mpg, color = factor(cyl))) +
  geom_point() +
  geom_debug_panel(dbgfun.data = NULL)

ggplot(mtcars, aes(cyl, mpg, color = factor(cyl))) +
  geom_point() +
  geom_debug_panel(dbgfun.data = "head", dbgfun.data.args = list(n = 3))

ggplot(mtcars, aes(cyl, mpg, color = factor(cyl))) +
  geom_point() +
  geom_debug_panel(dbgfun.data = "nrow", dbgfun.params = "length")

ggplot(mtcars, aes(cyl, mpg, color = factor(cyl))) +
  geom_point() +
  geom_debug_panel(dbgfun.data = "attributes", dbgfun.params = "attributes")

ggplot(mtcars, aes(cyl, mpg, color = factor(cyl))) +
  geom_point() +
  geom_debug_panel(dbgfun.data = "I", dbgfun.params = NULL)

# echo to the R console \code{data} as received by geoms
ggplot(mtcars, aes(cyl, mpg, colour = factor(cyl))) +
  stat_summary(fun.data = "mean_se") +
  stat_summary(geom = "debug_panel", fun.data = "mean_se")

ggplot(mtcars, aes(cyl, mpg, colour = factor(cyl))) +
  stat_summary(fun.data = "mean_se") +
  stat_summary(geom = "debug_panel", fun.data = "mean_se", dbgfun.params = NULL)

# shape data is not passed to geometries or statistics
if (requireNamespace("sf", quietly = TRUE)) {
  nc &lt;-
    sf::st_read(system.file("shape/nc.shp", package = "sf"), quiet = TRUE)

  ggplot(data = nc) +
    geom_sf(color = "darkblue", fill = "white") +
    geom_debug_panel()
}

# backwards compatibility
ggplot(mtcars, aes(cyl, mpg, color = factor(cyl))) +
  geom_point() +
  geom_debug()

ggplot(mtcars, aes(cyl, mpg, colour = factor(cyl))) +
  stat_summary(fun.data = "mean_se") +
  stat_summary(geom = "debug", fun.data = "mean_se")

</code></pre>


</div>