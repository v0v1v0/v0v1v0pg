<div class="container">

<table style="width: 100%;"><tr>
<td>plot.gbm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Marginal plots of fitted gbm objects</h2>

<h3>Description</h3>

<p>Plots the marginal effect of the selected variables by "integrating" out the
other variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'gbm'
plot(
  x,
  i.var = 1,
  n.trees = x$n.trees,
  continuous.resolution = 100,
  return.grid = FALSE,
  type = c("link", "response"),
  level.plot = TRUE,
  contour = FALSE,
  number = 4,
  overlap = 0.1,
  col.regions = viridis::viridis,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>gbm.object</code> that was fit using a call to 
<code>gbm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.var</code></td>
<td>
<p>Vector of indices or the names of the variables to plot. If
using indices, the variables are indexed in the same order that they appear
in the initial <code>gbm</code> formula. If <code>length(i.var)</code> is between 1 and
3 then <code>plot.gbm</code> produces the plots. Otherwise, <code>plot.gbm</code>
returns only the grid of evaluation points and their average predictions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.trees</code></td>
<td>
<p>Integer specifying the number of trees to use to generate the 
plot. Default is to use <code>x$n.trees</code> (i.e., the entire ensemble).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>continuous.resolution</code></td>
<td>
<p>Integer specifying the number of equally space 
points at which to evaluate continuous predictors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.grid</code></td>
<td>
<p>Logical indicating whether or not to produce graphics 
<code>FALSE</code> or only return the grid of evaluation points and their average
predictions <code>TRUE</code>. This is useful for customizing the graphics for 
special variable types, or for higher dimensional graphs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character string specifying the type of prediction to plot on the 
vertical axis. See <code>predict.gbm</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level.plot</code></td>
<td>
<p>Logical indicating whether or not to use a false color 
level plot (<code>TRUE</code>) or a 3-D surface (<code>FALSE</code>). Default is 
<code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contour</code></td>
<td>
<p>Logical indicating whether or not to add contour lines to the
level plot. Only used when <code>level.plot = TRUE</code>. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number</code></td>
<td>
<p>Integer specifying the number of conditional intervals to use
for the continuous panel variables. See <code>co.intervals</code>
and <code>equal.count</code> for further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overlap</code></td>
<td>
<p>The fraction of overlap of the conditioning variables. See
<code>co.intervals</code> and <code>equal.count</code>
for further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.regions</code></td>
<td>
<p>Color vector to be used if <code>level.plot</code> is
<code>TRUE</code>. Defaults to the wonderful Matplotlib 'viridis' color map
provided by the <code>viridis</code> package. See <code>viridis</code>
for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional optional arguments to be passed onto 
<code>plot</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>plot.gbm</code> produces low dimensional projections of the
<code>gbm.object</code> by integrating out the variables not included in
the <code>i.var</code> argument. The function selects a grid of points and uses
the weighted tree traversal method described in Friedman (2001) to do the
integration. Based on the variable types included in the projection,
<code>plot.gbm</code> selects an appropriate display choosing amongst line plots,
contour plots, and <code>lattice</code> plots. If the default
graphics are not sufficient the user may set <code>return.grid = TRUE</code>, store
the result of the function, and develop another graphic display more
appropriate to the particular example.
</p>


<h3>Value</h3>

<p>If <code>return.grid = TRUE</code>, a grid of evaluation points and their 
average predictions. Otherwise, a plot is returned.
</p>


<h3>Note</h3>

<p>More flexible plotting is available using the 
<code>partial</code> and <code>plotPartial</code> functions.
</p>


<h3>References</h3>

<p>J. H. Friedman (2001). "Greedy Function Approximation: A Gradient
Boosting Machine," Annals of Statistics 29(4).
</p>
<p>B. M. Greenwell (2017). "pdp: An R Package for Constructing 
Partial Dependence Plots," The R Journal 9(1), 421â€“436. 
<a href="https://journal.r-project.org/archive/2017/RJ-2017-016/index.html">https://journal.r-project.org/archive/2017/RJ-2017-016/index.html</a>.
</p>


<h3>See Also</h3>

<p><code>partial</code>, <code>plotPartial</code>, 
<code>gbm</code>, and <code>gbm.object</code>.
</p>


</div>