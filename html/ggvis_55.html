<div class="container">

<table style="width: 100%;"><tr>
<td>shiny-ggvis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Connect a ggvis graphic to a shiny app.</h2>

<h3>Description</h3>

<p>Embedding ggvis in a shiny app is easy. You need to make a place for it in
your <code>ui.r</code> with <code>ggvisOutput</code>, and tell your <code>server.r</code>
where to draw it with <code>bind_shiny</code>. It's easiest to learn by example:
there are many shiny apps in <code>demo/apps/</code> that you can learn from.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bind_shiny(
  vis,
  plot_id,
  controls_id = NULL,
  ...,
  session = shiny::getDefaultReactiveDomain()
)

bind_shiny_ui(vis, controls_id, session = shiny::getDefaultReactiveDomain())

ggvisOutput(plot_id = rand_id("plot_id"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vis</code></td>
<td>
<p>A ggvis object, or a reactive expression that returns a ggvis
object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_id</code></td>
<td>
<p>unique identifier to use for the div containing the ggvis plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>controls_id</code></td>
<td>
<p>Unique identifier for controls div.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to <code>as.vega</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>A Shiny session object.</p>
</td>
</tr>
</table>
<h3>Client-side</h3>

<p>In your UI, use <code>ggvisOutput()</code> in <code>ui.r</code> to insert an html
placeholder for the plot.
</p>
<p>If you're going to be using interactive controls generated by ggvis,
use <code>renderUI()</code> to add a place holder. By convention,
if the id of plot placehold is called "plot", call the controls placeholder
"plot_ui".
</p>


<h3>Server-side</h3>

<p>When you run ggvis plot interactively, it is automatically plotted because
it triggers the default print method. In shiny apps, you need to
explicitly render the plot to a specific placeholder with
<code>bind_shiny</code>:
</p>
<p><code>p %&gt;% bind_shiny("plot")</code>
</p>
<p>If the plot has controls, and you've reserved space for them in the UI,
supply the name of the placeholder as the third argument:
</p>
<p><code>p %&gt;% bind_shiny("plot", "plot_ui")</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Run these examples only in interactive R sessions
if (interactive()) {

# Simplest possible app:
library(shiny)
runApp(list(
  ui = bootstrapPage(
    ggvisOutput("p"),
    uiOutput("p_ui")
  ),
  server = function(..., session) {
    mtcars %&gt;%
      ggvis(~wt, ~mpg) %&gt;%
      layer_points() %&gt;%
      layer_smooths(span = input_slider(0, 1)) %&gt;%
      bind_shiny("p", "p_ui")
  }
))

}
</code></pre>


</div>