<div class="container">

<table style="width: 100%;"><tr>
<td>pe_param</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Partial Effect of a term on the parameters and predictors</h2>

<h3>Description</h3>

<p>The function <code>pe_param()</code> is similar to the function <code>getPEF()</code> of the <span class="pkg">gamlss</span> package. It plot the partial effect that a particular term has one of the parameters of the distribution or its predictor <code>eta</code>. 
The function <code>pe2_param()</code> is build for partial effects from two terms and it is suitable to display first order interactions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pe_param(obj = NULL, term = NULL, data = NULL, n.points = 100, 
               parameter = c("mu", "sigma", "nu", "tau"), 
               type = c("parameter", "eta"), scenario = list(),  
               how = c("median", "last", "fixed"),
               col = "darkblue", size = 1.3, name.obj = NULL,
               rug.plot = TRUE, rug.col = "gray", rug.size = 0.5,  
               data.plot = FALSE, data.col = "lightblue", 
               data.size = 0.1, factor.size = 15,
               data.alpha = 0.9, bins = 30, 
               filled = FALSE, ylim = NULL,
                    title) 

pe_1_param(obj = NULL, term = NULL, data = NULL, n.points = 100,  
                parameter = c("mu", "sigma", "nu", "tau"), 
                type = c("parameter", "eta"),
                how = c("median", "last", "fixed"),
                scale.from = c("mean", "median", "none"),
                scenario = list(), col = "darkblue", size = 1.3,
                name.obj = NULL, data.plot = FALSE, 
                data.col = "lightblue",data.size = 0.1,
                data.alpha = 0.9, rug.plot = TRUE, rug.col = "gray",
                rug.size = 0.5, factor.size = 15,
                ylim = NULL, title) 

pe_2_param(obj = NULL, terms = NULL, data = NULL, n.points = 100, 
                parameter = c("mu", "sigma", "nu", "tau"), 
                type = c("parameter", "eta"),
                how = c("median", "last", "fixed"),
                scenario = list(), col = "darkblue",
                size = 1.3, data.plot = TRUE,
                data.col = "lightblue", data.size = 0.1,
                data.alpha = 0.9,bins = 30, 
                filled = FALSE, name.obj = NULL, title) 

pe_param_grid(model, terms, maxcol = 2, maxrow = 3, ylim=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>a GAMLSS fitted object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>a GAMLSS fitted model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>term</code></td>
<td>
<p>the model term we want to investigate can be one i.e. "Fl" or two 
c("Fl", "A")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>terms</code></td>
<td>
<p>a list of  model terms for example 
<code>list(c("Fl","A"), "H", "loc" ))</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the data frame used otherwise it takes it from the fitted model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.points</code></td>
<td>
<p>the number of points for the evaluation of the term</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>the distribution parameter in which  the term is fitted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>here you specify or the distribution  parameter i.e        <code>"parameter"</code> or its  prediction, <code>"eta"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>how</code></td>
<td>
<p>how to set all the other terms in the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scenario</code></td>
<td>
<p>this can be a list of values for the rest of the terms in the model for the distribution parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>whether to plot the result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>the colour of the partial effect of the term</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>the size of the line of partial effect of the term</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bins</code></td>
<td>
<p>the number of binds for the contour plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filled</code></td>
<td>
<p>whether to display the values  in the contour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>the title if different from the default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name.obj</code></td>
<td>
<p>this is a way to pass the name of the object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxcol</code></td>
<td>
<p>the maximum columns in the grid plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxrow</code></td>
<td>
<p>the maximum rowss in the grid plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.plot</code></td>
<td>
<p>whether to plot the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rug.plot</code></td>
<td>
<p>whether to print the rug bellow the figure</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rug.size</code></td>
<td>
<p>the size of the rug</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rug.col</code></td>
<td>
<p>the colour of the rug</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.col</code></td>
<td>
<p>the color of the data points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.size</code></td>
<td>
<p>the size of the data points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.alpha</code></td>
<td>
<p>the trnsparance constant of the data points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factor.size</code></td>
<td>
<p>the size of the symbol if a factor is plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>if a common y limit is required</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.from</code></td>
<td>
<p>whethet to substact from the mean the median or from zero</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>for passing argument from the function <code>pe_param_grid</code> to the function <code>pe_param</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The functions <code>pe_param()</code> and <code>pe_param_grid()</code> can be used to help the use the  interpretation of a GAMLSS model. 
The functions <code>pe_param()</code> provides the partial effect of one or two   terms  of a specified  parameter of the distribution while the rest of the terms in the model are set on specific values or scenarios. The function <code>pe_param()</code> calls <code>pe_1param()</code> if the argument terms is one i.e. "Fl" or the function 
<code>pe_2param()</code> if the terms are two i.e. c("Fl"","A"). 
The <code>pe_param_grid()</code> plots multiple plots specified by the list used in the <code>term</code> argument. 
</p>
<p>Similar functions are 
<code>pe_quantile()</code> and <code>pe_moment()</code>. 
</p>


<h3>Value</h3>

<p>It is plotting the partial effect or is producing the resulting function
</p>


<h3>Author(s)</h3>

<p>Mikis Stasinopulos, Rober Rigby and Fernanda de Bastiani 
</p>


<h3>References</h3>

<p>Rigby, R. A. and  Stasinopoulos D. M. (2005). Generalized additive models for location, scale and shape,(with discussion), 
<em>Appl. Statist.</em>, <b>54</b>, part 3, pp 507-554.
</p>
<p>Rigby, R. A., Stasinopoulos, D. M.,  Heller, G. Z.,  and De Bastiani, F. (2019)
<em>Distributions for modeling location, scale, and shape: Using GAMLSS in R</em>, Chapman and Hall/CRC. An older version can be found in <a href="https://www.gamlss.com/">https://www.gamlss.com/</a>.
</p>
<p>Stasinopoulos D. M. Rigby R.A. (2007) Generalized additive models for location scale and shape (GAMLSS) in R.
<em>Journal of Statistical Software</em>, Vol. <b>23</b>, Issue 7, Dec 2007, <a href="https://www.jstatsoft.org/v23/i07/">https://www.jstatsoft.org/v23/i07/</a>.
</p>
<p>Stasinopoulos D. M., Rigby R.A., Heller G., Voudouris V., and De Bastiani F., (2017)
<em>Flexible Regression and Smoothing: Using GAMLSS in R</em>,  Chapman and Hall/CRC. 
</p>
<p>Stasinopoulos, M.D., Kneib, T., Klein, N., Mayr, A. and Heller, G.Z., (2024). <em>Generalized Additive Models for Location, Scale and Shape: A Distributional Regression Approach, with Applications</em> (Vol. <b>56</b>). Cambridge University Press.
</p>
<p>(see also <a href="https://www.gamlss.com/">https://www.gamlss.com/</a>).
</p>


<h3>See Also</h3>

<p><code>getPEF</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">m1 &lt;- gamlss(R~pb(Fl)+pb(A)+loc+H, data=rent, gamily=GA)
pe_param(m1, "A")
pe_param(m1, c("Fl","A"), filled=TRUE)
pe_param_grid(m1, list(c("Fl","A"), c("H","loc")), filled=TRUE)
# the terms are additive no interaction
</code></pre>


</div>