<div class="container">

<table style="width: 100%;"><tr>
<td>google_charts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Google Charts</h2>

<h3>Description</h3>

<p>Google Charts can be displayed inside an <code>info_window</code>
</p>


<h3><code>info_window</code></h3>

<p>When using a chart in an <code>info_window</code> you need to use a <code>list</code> with at least
two elements named <code>data</code> and <code>type</code>. You can also use a third element called <code>options</code>
for controlling the appearance of the chart.
</p>
<p>You must also supply the <code>id</code> argument to the layer your are adding (e.g. <code>add_markers()</code>),
and the <strong><code>data</code></strong> must have a column with the same name as the <code>id</code> (and therefore
the same name as the <code>id</code> column in the original <code>data</code> supplied to the <code>add_</code> function).
</p>
<p>See the specific chart sections for details on how to structure the <code>data</code>.
</p>


<h3>chart types</h3>

<p>the <code>type</code> element can be one of
</p>

<ul>
<li> <p><code>area</code>
</p>
</li>
<li> <p><code>bar</code>
</p>
</li>
<li> <p><code>bubble</code>
</p>
</li>
<li> <p><code>candlestick</code>
</p>
</li>
<li> <p><code>column</code>
</p>
</li>
<li> <p><code>combo</code>
</p>
</li>
<li> <p><code>histogram</code>
</p>
</li>
<li> <p><code>line</code>
</p>
</li>
<li> <p><code>pie</code>
</p>
</li>
<li> <p><code>scatter</code>
</p>
</li>
</ul>
<h3>Area</h3>

<p><strong>data</strong>
</p>
<p>An area chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li>
<p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li>
<p> Second column: variable names used for labelling the data
</p>
</li>
<li>
<p> Third or more columns: the data used in the chart
</p>
</li>
</ol>
<p><strong>type</strong> - <code>area</code>
</p>
<p><strong>options</strong>
see the area charts documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/areachart">https://developers.google.com/chart/interactive/docs/gallery/areachart</a>
</p>
<p>Each row of data represents a data point at the same x-axis location
</p>


<h3>Bar</h3>

<p><strong>data</strong>
</p>
<p>A bar chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li>
<p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li>
<p> Second column: variable names used for labelling the data
</p>
</li>
<li>
<p> Third or more columns: the data used in the chart
</p>
</li>
</ol>
<p><strong>type</strong> - <code>bar</code>
</p>
<p><strong>options</strong>
</p>
<p>See the bar chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/barchart">https://developers.google.com/chart/interactive/docs/gallery/barchart</a>
</p>


<h3>Bubble</h3>

<p><strong>data</strong>
</p>
<p>A bubble chart requires a <code>data.frame</code> of at least four, and at most six columns:
</p>

<ol>
<li>
<p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li>
<p> Second column: variable names used for labelling the data
</p>
</li>
<li>
<p> Third column: x-axis value
</p>
</li>
<li>
<p> Fourth column: y-axis value
</p>
</li>
<li>
<p> Fith column: visualised as colour
</p>
</li>
<li>
<p> Sixth column: visualised as size
</p>
</li>
</ol>
<p><strong>type</strong> - <code>bubble</code>
</p>
<p><strong>options</strong>
</p>
<p>See the bubble chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/bubblechart">https://developers.google.com/chart/interactive/docs/gallery/bubblechart</a>
</p>


<h3>Candlestick</h3>

<p><strong>data</strong>
</p>
<p>A candlestick chart requires a <code>data.frame</code> of at least six columns:
</p>

<ol>
<li>
<p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li>
<p> Second column: variable names used for labelling the data
</p>
</li>
<li>
<p> Third column: Number specifying the 'low' number for the data
</p>
</li>
<li>
<p> Fourth column: Number specifying the opening/initial value of the data.
This is one vertical border of the candle. If less than the column 4 value,
the candle will be filled; otherwise it will be hollow.
</p>
</li>
<li>
<p> Fith column: Number specifying the closing/final value of the data.
This is the second vertical border of the candle. If less than the column 3 value,
the candle will be hollow; otherwise it will be filled.
</p>
</li>
<li>
<p> Sixth column: Number specifying the high/maximum value of this marker.
This is the top of the candle's center line.
</p>
</li>
</ol>
<p><strong>type</strong> - <code>candlestick</code>
</p>
<p><strong>options</strong>
</p>
<p>See the candlestick chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/candlestickchart">https://developers.google.com/chart/interactive/docs/gallery/candlestickchart</a>
</p>


<h3>Column</h3>

<p><strong>data</strong>
</p>
<p>A column chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li>
<p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li>
<p> Second column: variable names used for labelling the data
</p>
</li>
<li>
<p> Third or more columns: the data used in the chart
</p>
</li>
</ol>
<p><strong>type</strong> - <code>column</code>
</p>
<p><strong>options</strong>
</p>
<p>See the column chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/columnchart">https://developers.google.com/chart/interactive/docs/gallery/columnchart</a>
</p>


<h3>Combo</h3>

<p>A combo chart lets you render each series as a different marker type from the following list:
line, area, bars, candlesticks, and stepped area.
</p>
<p><strong>data</strong>
</p>
<p>A combo chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li>
<p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li>
<p> Second column: variable names used for labelling the data
</p>
</li>
<li>
<p> Third or more columns: the data used in the chart
</p>
</li>
</ol>
<p><strong>type</strong> - <code>combo</code>
</p>
<p><strong>options</strong>
</p>
<p>See the column chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/combochart">https://developers.google.com/chart/interactive/docs/gallery/combochart</a>
</p>


<h3>Histogram</h3>

<p><strong>data</strong>
</p>
<p>A histogram chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li>
<p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li>
<p> Second column: variable names used for labelling the data
</p>
</li>
<li>
<p> Third or more columns: the data used in the chart
</p>
</li>
</ol>
<p><strong>type</strong> - <code>histogram</code>
</p>
<p><strong>options</strong>
</p>
<p>See the histogram chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/histogram">https://developers.google.com/chart/interactive/docs/gallery/histogram</a>
</p>


<h3>Line</h3>

<p><strong>data</strong>
</p>
<p>A line chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li>
<p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li>
<p> Second column: variable names used for labelling the data
</p>
</li>
<li>
<p> Third or more columns: the data used in the chart
</p>
</li>
</ol>
<p><strong>type</strong> - <code>line</code>
</p>
<p><strong>options</strong>
</p>
<p>See the line chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/linechart">https://developers.google.com/chart/interactive/docs/gallery/linechart</a>
</p>


<h3>Pie</h3>

<p><strong>data</strong>
</p>
<p>A pie chart requires a <code>data.frame</code> of three columns:
</p>

<ol>
<li>
<p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li>
<p> Second column: variable names used for labelling the data
</p>
</li>
<li>
<p> Third column: the data used in the chart
</p>
</li>
</ol>
<p><strong>type</strong> - <code>pie</code>
</p>
<p><strong>options</strong>
</p>
<p>See the pie chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/piechart">https://developers.google.com/chart/interactive/docs/gallery/piechart</a>
</p>


<h3>Scatter</h3>

<p><strong>data</strong>
</p>
<p>A scatter chart requires a <code>data.frame</code> of at least four columns:
</p>

<ol>
<li>
<p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li>
<p> Second column: variable names used for labelling the data
</p>
</li>
<li>
<p> Third column: the data plotted on x-axis
</p>
</li>
<li>
<p> Fourth or more columns: the data plotted on y-axis
</p>
</li>
</ol>
<p><strong>type</strong> - <code>scatter</code>
</p>
<p><strong>options</strong>
</p>
<p>See the scatter chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/scatterchart">https://developers.google.com/chart/interactive/docs/gallery/scatterchart</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

set_key("your_api_key")

## AREA
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 2),
    year = rep( c("year1", "year2")),
    arrivals = sample(1:100, size = nrow(tram_stops) * 2, replace = T),
    departures = sample(1:100, size = nrow(tram_stops) * 2, replace = T))

chartList &lt;- list(data = markerCharts,
   type = 'area',
   options = list(width = 400, chartArea = list(width = "50%")))

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")

tram_route$id &lt;- c(rep(1, 30), rep(2, 25))

lineCharts &lt;- data.frame(id = rep(c(1,2), each = 2),
    year = rep( c("year1", "year2") ),
    arrivals = sample(1:100, size = 4),
    departures = sample(1:100, size = 4))

chartList &lt;- list(data = lineCharts,
   type = 'area')

google_map() %&gt;%
  add_polylines(data = tram_route, id = 'id',
    stroke_colour = "id", stroke_weight = 10,
    lat = "shape_pt_lat", lon = "shape_pt_lon",
    info_window = chartList
    )


## End(Not run)

## Not run: 

## BAR
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 2),
    year = rep( c("year1", "year2")),
    arrivals = sample(1:100, size = nrow(tram_stops) * 2, replace = T),
    departures = sample(1:100, size = nrow(tram_stops) * 2, replace = T))

chartList &lt;- list(data = markerCharts,
   type = 'bar')

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")


lineChart &lt;- data.frame(id = 33,
    year = c("year1","year2"),
    val1 = c(1,2),
    val2 = c(2,1))

chartList &lt;- list(data = lineChart, type = 'bar')

google_map() %&gt;%
  add_polylines(data = melbourne[melbourne$polygonId == 33, ],
  polyline = "polyline",
  info_window = chartList)


## End(Not run)


## Not run: 

## BUBBLE
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 4),
    ID = sample(letters, size = nrow(tram_stops) * 4, replace = T),
    time = sample(1:1440, size = nrow(tram_stops) * 4, replace = T),
    passengers = sample(1:100, size = nrow(tram_stops) * 4, replace = T),
    year = c("year1", "year2", "year3", "year4"),
    group = sample(50:100, size = nrow(tram_stops) * 4, replace = T))

chartList &lt;- list(data = markerCharts,
   type = 'bubble')

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)

## Not run: 

## CANDLESTICK
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 5),
    day = rep(c("Mon", "Tues", "Weds", "Thurs", "Fri"), times = nrow(tram_stops) ),
    val1 = rep(c(20, 31, 50, 77, 68), times = nrow(tram_stops) ),
    val2 = rep(c(28, 38, 55, 77, 66), times = nrow(tram_stops) ),
    val3 = rep(c(38, 55, 77, 66, 22), times = nrow(tram_stops) ),
    val4 = rep(c(45, 66, 80, 50, 15), times = nrow(tram_stops) ) )

chartList &lt;- list(data = markerCharts,
   type = 'candlestick',
   options = list(legend = 'none',
     bar = list(groupWidth = "100%"),
     candlestick = list(
       fallingColor = list( strokeWidth = 0, fill = "#a52714"),
       risingColor = list( strokeWidth = 0, fill = "#0f9d58")
       )
     ))

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)


## Not run: 

## COLUMN
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 2),
    year = rep( c("year1", "year2")),
    arrivals = sample(1:100, size = nrow(tram_stops) * 2, replace = T),
    departures = sample(1:100, size = nrow(tram_stops) * 2, replace = T))

chartList &lt;- list(data = markerCharts,
   type = 'column')

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")

polyChart &lt;- data.frame(id = 33,
    year = c("year1","year2"),
    val1 = c(1,2),
    val2 = c(2,1))

chartList &lt;- list(data = polyChart, type = 'column')

google_map() %&gt;%
  add_polygons(data = melbourne[melbourne$polygonId == 33, ],
  polyline = "polyline",
  info_window = chartList)

tram_route$id &lt;- 1

polyChart &lt;- data.frame(id = 1,
    year = c("year1","year2"),
    val1 = c(1,2),
    val2 = c(2,1))

chartList &lt;- list(data = polyChart, type = 'column')

google_map() %&gt;%
  add_polygons(data = tram_route,
    lon = "shape_pt_lon", lat = "shape_pt_lat",
    info_window = chartList)



## End(Not run)

## Not run: 


## COMBO
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 2),
    year = rep( c("year1", "year2")),
    arrivals = sample(1:100, size = nrow(tram_stops) * 2, replace = T),
    departures = sample(1:100, size = nrow(tram_stops) * 2, replace = T))

markerCharts$val &lt;- sample(1:100, size = nrow(markerCharts), replace = T)

chartList &lt;- list(data = markerCharts,
   type = 'combo',
   options = list(
     "title" = "Passengers at stops",
     "vAxis" = list( title = "passengers" ),
     "hAxis" = list( title = "load" ),
     "seriesType" = "bars",
     "series" = list( "2" = list( "type" = "line" )))) ## 0-indexed

google_map() %&gt;%
  add_circles(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)


## Not run: 

## HISTOGRAM
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 20),
    day = as.character(1:20))

markerCharts$wait &lt;- rnorm(nrow(markerCharts), 0, 1)

chartList &lt;- list(data = markerCharts,
   type = 'histogram')

google_map() %&gt;%
  add_circles(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)


## Not run: 

## Line
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 20),
    day = as.character(1:20),
    value = sample(1:100, size = nrow(tram_stops) * 20, replace = T))

chartList &lt;- list(data = markerCharts,
   type = 'line')

google_map() %&gt;%
  add_circles(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)


## Not run: 

## PIE
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 3))
markerCharts$variable &lt;- c("yes", "no", "maybe")
markerCharts$value &lt;- sample(1:10, size = nrow(markerCharts), replace = T)

chartList &lt;- list(data = markerCharts,
   type = 'pie',
   options = list(title = "my pie",
     is3D = TRUE,
     height = 240,
     width = 240,
     colors = c('#440154', '#21908C', '#FDE725')))

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")

## use pieHole option to make a donut chart

chartList &lt;- list(data = markerCharts,
   type = 'pie',
   options = list(title = "my pie",
     pieHole = 0.4,
     height = 240,
     width = 240,
     colors = c('#440154', '#21908C', '#FDE725')))

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)


## Not run: 

## SCATTER
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 5))
markerCharts$arrival &lt;- sample(1:10, size = nrow(markerCharts), replace = T)
markerCharts$departure &lt;- sample(1:10, size = nrow(markerCharts), replace = T)

chartList &lt;- list(data = markerCharts,
   type = 'scatter')

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")

## End(Not run)


</code></pre>


</div>