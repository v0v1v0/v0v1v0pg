<div class="container">

<table style="width: 100%;"><tr>
<td>gpairs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generalized Pairs Plots </h2>

<h3>Description</h3>

<p>Produces a matrix of plots showing pairwise relationships between quantitative and categorical variables in a complex data set.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gpairs(x,
       upper.pars = list(scatter = "points",
                         conditional = "barcode",
                         mosaic = "mosaic"),
       lower.pars = list(scatter = "points",
                         conditional = "boxplot",
                         mosaic = "mosaic"),
       diagonal = "default",
       outer.margins = list(bottom = unit(2, "lines"), 
                            left = unit(2, "lines"), 
                            top = unit(2, "lines"), 
                            right = unit(2, "lines")), 
       xylim = NULL,
       outer.labels = NULL, outer.rot = c(0, 90), gap = 0.05, 
       buffer = 0.02, reorder = NULL, cluster.pars = NULL, 
       stat.pars = NULL, scatter.pars = NULL, 
       bwplot.pars = NULL, stripplot.pars = NULL, barcode.pars=NULL,
       mosaic.pars = NULL, axis.pars = NULL, diag.pars = NULL, 
       whatis = FALSE)

corrgram(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a data frame (or matrix the relationships between whose columns are to be examined). Any combination of quantitative and categorical variables is acceptable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper.pars</code></td>
<td>
<p>see <code>Details</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower.pars</code></td>
<td>
<p>see <code>Details</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diagonal</code></td>
<td>
<p>by default, the diagonal from the top left to the bottom right is used for displaying the variable names (and, in our version, the marginal distributions of the variables); <code>diagonal="other"</code> will place the diagonal running from the top right down to the bottom left.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer.margins</code></td>
<td>
<p>a list of length 4 with units as components named bottom, left, top, and right, giving the outer margins; the default uses two lines of text.  A vector of length 4 with units (ordered properly) will work, as will a vector of length 4 with numeric values (interpreted as lines).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xylim</code></td>
<td>
<p>optionally specify a single range to be used as <code>xlim</code> and <code>ylim</code> where appropriate.  Note that if this option causes cropping, it will fail to work in barcode panels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer.labels</code></td>
<td>
<p>the default is <code>NULL</code>, for alternating axis labels around the perimeter.  If <code>"all"</code>, all labels are printed, and if <code>"none"</code> no labels are printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer.rot</code></td>
<td>
<p>a 2-vector (x, y) rotating the top/bottom outer labels <code>x</code> degrees and the left/right outer labels <code>y</code> degrees. Only works for categorical labels of boxplot and mosaic panels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gap</code></td>
<td>
<p>the gap between the tiles; defaulting to 0.05 of the width of a tile.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buffer</code></td>
<td>
<p>the fraction by which to expand the range of quantitative variables to provide plots that will not truncate plotting symbols. Defaults to 0 percent of range currently.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reorder</code></td>
<td>
<p>currently only support for the string <code>"cluster"</code>, which reorders the columns according to the output of <code>hclust</code>. Note that factors are coerced to numbers by replacing them with integers, which implicitly assumes what is probably an arbitrary ordering.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster.pars</code></td>
<td>
<p>a list with two elements named <code>dist.method</code> and <code>hclust.method</code>. These are passed respectively to <code>dist</code> and <code>hclust</code>. <code>NULL</code> is equivalent to <code>list(dist.method = "euclidean", hclust.method = "complete")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat.pars</code></td>
<td>
<p><code>NULL</code> is equivalent to <code>list(fontsize = 7, signif = 0.05, verbose = FALSE, use.color = TRUE, missing = 'missing', just = 'centre')</code>; <code>stat.pars\$verbose</code> can be <code>TRUE</code> (providing 5 statistics), <code>FALSE</code> (providing 2 statistics), or <code>NA</code> (nothing).  The string <code>missing</code> is used in summaries where there are missing values; <code>fontsize</code> and <code>just</code> control the size and justification of the text summaries (see <code>grid.text</code> and <code>gpar</code>.  The <code>use.color=FALSE</code> option provides an alternative summary of the strength of the correlation (see Green and Hickey (2006)).  This is only used with <code>scatter="stats")</code> in <code>upper.pars</code> and <code>lower.pars</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scatter.pars</code></td>
<td>
<p><code>NULL</code> is equivalent to <code>list(pch = 1, size = unit(0.25, "char"), col = "black", frame.fill = NULL, border.col = "black")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bwplot.pars</code></td>
<td>
<p><code>NULL</code>, passed to <code>bwplot</code> for producing boxplots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stripplot.pars</code></td>
<td>
<p><code>NULL</code> is equivalent to <code>list(pch = 1, size = unit(0.5, 'char'), col = 'black', jitter = FALSE)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>barcode.pars</code></td>
<td>
<p><code>NULL</code> is equivalent to <code>list(nint = 0, ptsize = unit(0.25, "char"), ptpch = 1, bcspace = NULL, use.points = FALSE)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mosaic.pars</code></td>
<td>
<p><code>NULL</code>. Currently <code>shade</code>, <code>gp_labels</code>, <code>gp</code>, and <code>gp_args</code> are passed through to <code>strucplot</code> for producing mosaic tiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis.pars</code></td>
<td>
<p><code>NULL</code> is equivalent to <code>list(n.ticks = 5, fontsize = 9)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diag.pars</code></td>
<td>
<p><code>NULL</code> is equivalent to <code>list(fontsize = 9, show.hist = TRUE, hist.color = 'black')</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whatis</code></td>
<td>
<p>default is <code>FALSE</code>; <code>TRUE</code> returns <code>whatis(x)</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In some cases, the graphics device can not be resized after production
of the plot because of the way rotation of barcodes is performed.
</p>
<p><code>upper.pars</code> and <code>lower.pars</code> are lists possibly containing named elements <code>'scatter'</code>, <code>'conditional'</code> and <code>'mosaic'</code>. Each element of the list is a string implementing the following options: <code>scatter</code> = exactly one of <code>('points', 'lm', 'ci', 'symlm', 'loess', 'corrgram', 'stats', 'qqplot')</code>; 
<code>'conditional'</code> = exactly one of <code>('boxplot', 'stripplot',  'barcode')</code>; <code>mosaic='mosaic'</code> (only option currently implemented).
</p>
<p><code>corrgram()</code> is just a wrapper to <code>gpairs()</code> producing a ‘corrgram’ in the style of Michael Friendly.
</p>


<h3>Value</h3>

<p>If <code>whatis=TRUE</code>, the value is a data frame containing variable names, types, numbers of missing values, numbers of distinct values, precisions, maxima and minima.
</p>


<h3>Author(s)</h3>

<p>John W. Emerson, Walton Green; thanks to Michael Friendly for augmenting the functionality with arguments to <code>strucplot</code>.</p>


<h3>References</h3>

<p>Emerson, John W. (1998) "Mosaic Displays in S-PLUS: A General Implementation and a Case Study."  <em>Statistical Computing and Graphics Newsletter</em> Vol. 9,No. 1, 1998.
</p>
<p>Basford, K. E. and J. W. Tukey (1999) <em>Graphical Analysis of Multiresponse Data: Illustrated with a Plant Breeding Trial.</em>
</p>
<p>Friendly, M. (2000). <em>Visualizing Categorical Data.</em> SAS Press.
</p>
<p>Friendly, M., 2002, "Corrgrams: Exploratory displays for correlation matrices." <em>American Statistician</em> 56(4), 316–324.
</p>
<p>Green, W. A. (2006) "Loosening the CLAMP: An exploratory graphical approach to the Climate Leaf Analysis Multivariate Program." <em>Palaeontologia Electronica</em> 9(2):9A.
</p>


<h3>See Also</h3>

<p><code>pairs</code>, <code>splom</code>, <code>mosaicplot</code>, <code>strucplot</code>, <code>bwplot</code>, <code>barcode</code>, <code>stripplot</code>.</p>


<h3>Examples</h3>

<pre><code class="language-R">
allexamples &lt;- FALSE

y &lt;- data.frame(A=c(rep("red", 100), rep("blue", 100)),
                B=c(rnorm(100),round(rnorm(100,5,1),1)), C=runif(200),
                D=c(rep("big", 150), rep("small", 50)),
                E=rnorm(200), stringsAsFactors=TRUE)
gpairs(y)

data(iris)
gpairs(iris)
if (allexamples) {
  gpairs(iris, upper.pars = list(scatter = 'stats'),
         scatter.pars = list(pch = substr(as.character(iris$Species), 1, 1),
                             col = as.numeric(iris$Species)),
         stat.pars = list(verbose = FALSE))
  gpairs(iris, lower.pars = list(scatter = 'corrgram'),
         upper.pars = list(conditional = 'boxplot', scatter = 'loess'),
         scatter.pars = list(pch = 20))
}

data(Leaves)
gpairs(Leaves[1:10], lower.pars = list(scatter = 'loess'))
if (allexamples) {
  gpairs(Leaves[1:10], upper.pars = list(scatter = 'stats'),
         lower.pars = list(scatter = 'corrgram'),
         stat.pars = list(verbose = FALSE), gap = 0)
  corrgram(Leaves[,-33])
}

runexample &lt;- FALSE
if (runexample) {
  data(NewHavenResidential)
  gpairs(NewHavenResidential)
}

</code></pre>


</div>