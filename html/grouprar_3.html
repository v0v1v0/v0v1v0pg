<div class="container">

<table style="width: 100%;"><tr>
<td>BirthDeathUrn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Birth and Death Urn
</h2>

<h3>Description</h3>

<p>Simulating birth and death urn procedure (number of arms <code class="reqn">\ge 2</code>) with two-sided hypothesis testing in a clinical trial context.
</p>


<h3>Usage</h3>

<pre><code class="language-R">BirthDeathUrn(k, p, ssn, Y0 = NULL, nsim = 2000, alpha = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>a positive integer. The value specifies the number of treatment groups involved in a clinical trial. (<code class="reqn">k = 2</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>a positive vector of length equals to <code>k</code>. The values specify the true success rates for the various treatments, and these rates are used to generate data for simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ssn</code></td>
<td>
<p>a positive integer. The value specifies the total number of participants involved in each round of the simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y0</code></td>
<td>
<p>A vector of length <code>k</code>, specifying the initial probability of allocating a patient to each group. For instance, if <code>Y0 = c(1, 1, 1)</code>, the initial probabilities are calculated as <code>Y0 / sum(Y0)</code>. When <code>Y0</code> is <code>NULL</code>, the initial urn will be set as If <code>Y0</code> is <code>NULL</code>, then <code>Y0</code> is set to a vector of length <code>k</code>, with all values equal to 1 by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>a positive integer. The value specifies the total number of simulations, with a default value of 2000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A number between 0 and 1. The value represents the predetermined level of significance that defines the probability threshold for rejecting the null hypothesis, with a default value of 0.05.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The birth and death urn works as follows: Initially an urn contains balls of <code class="reqn">K</code> types and <code class="reqn">a</code> immigration balls. A ball is drawn randomly with replacement. If it is an immigration ball, one ball of each type is added to the urn, no patient is treated, and the next ball is drawn. The procedure is repeated until a type <code class="reqn">i</code> ball <code class="reqn">(i = 1, \cdots, K)</code> is drawn. Then the subject is assigned to treatment <code class="reqn">i</code>. If a success, a type <code class="reqn">i</code> ball is added in the urn; if a failure, a type <code class="reqn">i</code> ball is removed. (Hu and Rosenberger (2006)). More detail could be found in paper <em>A birth and death urn for randomized clinical trials</em> written by Ivanova etl (2000).
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>The name of procedure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>The true parameters used to do the simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assignment</code></td>
<td>
<p>The randomization sequence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>propotion</code></td>
<td>
<p>Average allocation porpotion for each of treatment groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>failRate</code></td>
<td>
<p>The proportion of individuals who do not achieve the expected outcome in each simulation, on average.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pwClac</code></td>
<td>
<p>The probability of the study to detect a significant difference or effect if it truly exists.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of arms involved in the trial.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Hu, F., &amp; Rosenberger, W. F. (2006). <em>The theory of response-adaptive randomization in clinical trials.</em> John Wiley &amp; Sons.
</p>
<p>Ivanova, A., Rosenberger, W. F., Durham, S. D. and Flournoy, N. (2000). <em>A birth and death urn for randomized clinical trials.</em> Sankhya B 62 104-118.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## a simple use
bd.res = BirthDeathUrn(k = 3, p = c(0.6, 0.7, 0.6), ssn = 400, Y0 = NULL, nsim = 200, alpha = 0.05)

## view the output
bd.res

  ## view all simulation settings
  bd.res$name
  bd.res$parameter
  bd.res$k

  ## View the simulations results
  bd.res$propotion
  bd.res$failRate
  bd.res$pwCalc
  bd.res$assignment
  
</code></pre>


</div>