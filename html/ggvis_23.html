<div class="container">

<table style="width: 100%;"><tr>
<td>compute_align</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Align positions using length.</h2>

<h3>Description</h3>

<p>This compute function is often used in conjunction with
<code>compute_count</code>, when used on data with a continuous x variable.
By default, the computed width will be equal to the resolution of the data,
or, in other words the smallest difference between two values in the data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute_align(x, var, length = NULL, align = 0.5, dir = "x")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Dataset-like object to align. Built-in methods for data frames,
grouped data frames and ggvis visualisations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>Name of variable to compute width of.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length</code></td>
<td>
<p>An absolute length to use. If <code>NULL</code> (the default), the
width will be equivalent to the resolution of the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>align</code></td>
<td>
<p>Where does the existing variable fall on the new bins?
0 = left edge, 0.5 = center, 1 = right edge.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>Direction, i.e. <code>"x"</code> or <code>"y"</code>. Used to generate
variable names in output.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>An absolute width for each x can be specified by using the <code>width</code>
argument. If <code>width</code> is NULL (the default), it will use the resolution
of the data as the width.
</p>


<h3>Value</h3>

<p>The original data frame, with additional columns:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>'dir'min_</code></td>
<td>
<p>left boundary of bin</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>'dir'max_</code></td>
<td>
<p>right boundary of bin</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>'dir'len_</code></td>
<td>
<p>width of bin</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>compute_bin</code> For counting cases within ranges of
a continuous variable.
</p>
<p><code>compute_count</code> For counting cases at specific values
of a variable.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mtcars %&gt;% compute_count(~disp) %&gt;% compute_align(~x_)
mtcars %&gt;% compute_count(~mpg) %&gt;% compute_align(~x_)

# Use a specific width
pressure %&gt;% compute_count(~temperature) %&gt;% compute_align(~x_)
pressure %&gt;% compute_count(~temperature) %&gt;% compute_align(~x_, length = 5)

# It doesn't matter whether you transform inside or outside of a vis
mtcars %&gt;% compute_count(~cyl, ~wt) %&gt;%
  compute_align(~x_, length = .5) %&gt;%
  ggvis(x = ~xmin_, x2 = ~xmax_, y = ~count_, y2 = 0) %&gt;%
  layer_rects()

mtcars %&gt;%
  ggvis(x = ~xmin_, x2 = ~xmax_, y = ~count_, y2 = 0) %&gt;%
  compute_count(~cyl, ~wt) %&gt;%
  compute_align(~x_) %&gt;%
  layer_rects()

# Varying align
mtcars %&gt;%
  ggvis(x = ~xmin_, x2 = ~xmax_, y = ~count_, y2 = 0) %&gt;%
  compute_count(~cyl, ~wt) %&gt;%
  compute_align(~x_, length = 0.5, align = input_slider(0, 1)) %&gt;%
  layer_rects()
</code></pre>


</div>