<div class="container">

<table style="width: 100%;"><tr>
<td>vec_fmt_bytes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Format a vector as values in terms of bytes</h2>

<h3>Description</h3>

<p>With numeric values in a vector, we can transform each into byte values with
human readable units. <code>vec_fmt_bytes()</code> allows for the formatting of byte
sizes to either of two common representations: (1) with decimal units
(powers of 1000, examples being <code>"kB"</code> and <code>"MB"</code>), and (2) with binary units
(powers of 1024, examples being <code>"KiB"</code> and <code>"MiB"</code>).
</p>
<p>It is assumed the input numeric values represent the number of bytes and
automatic truncation of values will occur. The numeric values will be scaled
to be in the range of 1 to &lt;1000 and then decorated with the correct unit
symbol according to the standard chosen. For more control over the formatting
of byte sizes, we can use the following options:
</p>

<ul>
<li>
<p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li>
<p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li>
<p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li>
<p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">vec_fmt_bytes(
  x,
  standard = c("decimal", "binary"),
  decimals = 1,
  n_sigfig = NULL,
  drop_trailing_zeros = TRUE,
  drop_trailing_dec_mark = TRUE,
  use_seps = TRUE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  incl_space = TRUE,
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standard</code></td>
<td>
<p><em>Standard used to express byte sizes</em>
</p>
<p><code style="white-space: pre;">⁠singl-kw:[decimal|binary]⁠</code> // <em>default:</em> <code>"decimal"</code>
</p>
<p>The form of expressing large byte sizes is divided between: (1) decimal
units (powers of 1000; e.g., <code>"kB"</code> and <code>"MB"</code>), and (2) binary units
(powers of 1024; e.g., <code>"KiB"</code> and <code>"MiB"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>1</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>. The trailing zeros can be removed with
<code>drop_trailing_zeros = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_sigfig</code></td>
<td>
<p><em>Number of significant figures</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=1)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A option to format numbers to <em>n</em> significant figures. By default, this is
<code>NULL</code> and thus number values will be formatted according to the number of
decimal places set via <code>decimals</code>. If opting to format according to the
rules of significant figures, <code>n_sigfig</code> must be a number greater than or
equal to <code>1</code>. Any values passed to the <code>decimals</code> and <code>drop_trailing_zeros</code>
arguments will be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive numbers (effectively showing
a sign for all numbers except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incl_space</code></td>
<td>
<p><em>Include a space between the value and the units</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option for whether to include a space between the value and the units.
The default is to use a space character for separation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code>info_locales()</code> for a
useful reference for all of the locales that are supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">⁠singl-kw:[auto|plain|html|latex|rtf|word]⁠</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(3.24294e14, 8, 1362902, -59027, NA)
</pre></div>
<p>Using <code>vec_fmt_bytes()</code> with the default options will create a character
vector with values in bytes. Any <code>NA</code> values remain as <code>NA</code> values. The
rendering context will be autodetected unless specified in the <code>output</code>
argument (here, it is of the <code>"plain"</code> output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_bytes(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "324.3 TB" "8 B" "1.4 MB" "-59 kB" "NA"
</pre></div>
<p>We can change the number of decimal places with the <code>decimals</code> option:
</p>
<div class="sourceCode r"><pre>vec_fmt_bytes(num_vals, decimals = 2)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "324.29 TB" "8 B" "1.36 MB" "-59.03 kB" "NA"
</pre></div>
<p>If we are formatting for a different locale, we could supply the locale ID
and <strong>gt</strong> will handle any locale-specific formatting options:
</p>
<div class="sourceCode r"><pre>vec_fmt_bytes(num_vals, locale = "fi")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "324,3 TB" "8 B" "1,4 MB" "-59 kB" "NA"
</pre></div>
<p>Should you need to have positive and negative signs on each of the output
values, use <code>force_sign = TRUE</code>:
</p>
<div class="sourceCode r"><pre>vec_fmt_bytes(num_vals, force_sign = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "+324.3 TB" "+8 B" "+1.4 MB" "-59 kB" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_bytes(num_vals, pattern = "[{x}]")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "[324.3 TB]" "[8 B]" "[1.4 MB]" "[-59 kB]" "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-12
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code>fmt_bytes()</code>.
</p>
<p>Other vector formatting functions: 
<code>vec_fmt_currency()</code>,
<code>vec_fmt_date()</code>,
<code>vec_fmt_datetime()</code>,
<code>vec_fmt_duration()</code>,
<code>vec_fmt_engineering()</code>,
<code>vec_fmt_fraction()</code>,
<code>vec_fmt_index()</code>,
<code>vec_fmt_integer()</code>,
<code>vec_fmt_markdown()</code>,
<code>vec_fmt_number()</code>,
<code>vec_fmt_partsper()</code>,
<code>vec_fmt_percent()</code>,
<code>vec_fmt_roman()</code>,
<code>vec_fmt_scientific()</code>,
<code>vec_fmt_spelled_num()</code>,
<code>vec_fmt_time()</code>
</p>


</div>