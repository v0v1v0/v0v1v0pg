<div class="container">

<table style="width: 100%;"><tr>
<td>tests</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tests/methods available in <code>add_p()</code> and <code>add_difference()</code>
</h2>

<h3>Description</h3>

<p>Below is a listing of tests available internally within gtsummary.
</p>
<p>Tests listed with <code>...</code> may have additional arguments
passed to them using <code>add_p(test.args=)</code>. For example, to
calculate a p-value from <code>t.test()</code> assuming equal variance, use
<code>tbl_summary(trial, by = trt) %&gt;% add_p(age ~ "t.test", test.args = age ~ list(var.equal = TRUE))</code>
</p>


<h3><code>tbl_summary() %&gt;% add_p()</code></h3>


<table>
<tr>
<td style="text-align: left;">
   <strong>alias</strong> </td>
<td style="text-align: left;"> <strong>description</strong> </td>
<td style="text-align: left;"> <strong>pseudo-code</strong> </td>
<td style="text-align: left;"> <strong>details</strong> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'t.test'</code> </td>
<td style="text-align: left;"> t-test </td>
<td style="text-align: left;"> <code>t.test(variable ~ as.factor(by), data = data, conf.level = 0.95, ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'mood.test'</code> </td>
<td style="text-align: left;"> Mood two-sample test of scale </td>
<td style="text-align: left;"> <code>mood.test(variable ~ as.factor(by), data = data, ...)</code> </td>
<td style="text-align: left;"> Not to be confused with the Brown-Mood test of medians </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'oneway.test'</code> </td>
<td style="text-align: left;"> One-way ANOVA </td>
<td style="text-align: left;"> <code>oneway.test(variable ~ as.factor(by), data = data, ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'kruskal.test'</code> </td>
<td style="text-align: left;"> Kruskal-Wallis test </td>
<td style="text-align: left;"> <code>kruskal.test(data[[variable]], as.factor(data[[by]]))</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'wilcox.test'</code> </td>
<td style="text-align: left;"> Wilcoxon rank-sum test </td>
<td style="text-align: left;"> <code>wilcox.test(as.numeric(variable) ~ as.factor(by), data = data, conf.int = TRUE, conf.level = conf.level,  ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'chisq.test'</code> </td>
<td style="text-align: left;"> chi-square test of independence </td>
<td style="text-align: left;"> <code>chisq.test(x = data[[variable]], y = as.factor(data[[by]]), ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'chisq.test.no.correct'</code> </td>
<td style="text-align: left;"> chi-square test of independence </td>
<td style="text-align: left;"> <code>chisq.test(x = data[[variable]], y = as.factor(data[[by]]), correct = FALSE)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'fisher.test'</code> </td>
<td style="text-align: left;"> Fisher's exact test </td>
<td style="text-align: left;"> <code>fisher.test(data[[variable]], as.factor(data[[by]]), conf.level = 0.95, ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'mcnemar.test'</code> </td>
<td style="text-align: left;"> McNemar's test </td>
<td style="text-align: left;"> <code style="white-space: pre;">⁠tidyr::pivot_wider(id_cols = group, ...); mcnemar.test(by_1, by_2, conf.level = 0.95, ...)⁠</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'mcnemar.test.wide'</code> </td>
<td style="text-align: left;"> McNemar's test </td>
<td style="text-align: left;"> <code>mcnemar.test(data[[variable]], data[[by]], conf.level = 0.95, ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'lme4'</code> </td>
<td style="text-align: left;"> random intercept logistic regression </td>
<td style="text-align: left;"> <code style="white-space: pre;">⁠lme4::glmer(by ~ (1 \UFF5C group), data, family = binomial) %&gt;% anova(lme4::glmer(by ~ variable + (1 \UFF5C group), data, family = binomial))⁠</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'paired.t.test'</code> </td>
<td style="text-align: left;"> Paired t-test </td>
<td style="text-align: left;"> <code style="white-space: pre;">⁠tidyr::pivot_wider(id_cols = group, ...); t.test(by_1, by_2, paired = TRUE, conf.level = 0.95, ...)⁠</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'paired.wilcox.test'</code> </td>
<td style="text-align: left;"> Paired Wilcoxon rank-sum test </td>
<td style="text-align: left;"> <code style="white-space: pre;">⁠tidyr::pivot_wider(id_cols = group, ...); wilcox.test(by_1, by_2, paired = TRUE, conf.int = TRUE, conf.level = 0.95, ...)⁠</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'prop.test'</code> </td>
<td style="text-align: left;"> Test for equality of proportions </td>
<td style="text-align: left;"> <code>prop.test(x, n, conf.level = 0.95, ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'ancova'</code> </td>
<td style="text-align: left;"> ANCOVA </td>
<td style="text-align: left;"> <code>lm(variable ~ by + adj.vars)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'emmeans'</code> </td>
<td style="text-align: left;"> Estimated Marginal Means or LS-means </td>
<td style="text-align: left;"> <code>lm(variable ~ by + adj.vars, data) %&gt;% emmeans::emmeans(specs =~by) %&gt;% emmeans::contrast(method = "pairwise") %&gt;% summary(infer = TRUE, level = conf.level)</code> </td>
<td style="text-align: left;"> When variable is binary, <code>glm(family = binomial)</code> and <code>emmeans(regrid = "response")</code> arguments are used. When <code>group</code> is specified, <code>lme4::lmer()</code> and <code>lme4::glmer()</code> are used with the group as a random intercept. </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3><code>tbl_svysummary() %&gt;% add_p()</code></h3>


<table>
<tr>
<td style="text-align: left;">
   <strong>alias</strong> </td>
<td style="text-align: left;"> <strong>description</strong> </td>
<td style="text-align: left;"> <strong>pseudo-code</strong> </td>
<td style="text-align: left;"> <strong>details</strong> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.t.test'</code> </td>
<td style="text-align: left;"> t-test adapted to complex survey samples </td>
<td style="text-align: left;"> <code>survey::svyttest(~variable + by, data)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.wilcox.test'</code> </td>
<td style="text-align: left;"> Wilcoxon rank-sum test for complex survey samples </td>
<td style="text-align: left;"> <code>survey::svyranktest(~variable + by, data, test = 'wilcoxon')</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.kruskal.test'</code> </td>
<td style="text-align: left;"> Kruskal-Wallis rank-sum test for complex survey samples </td>
<td style="text-align: left;"> <code>survey::svyranktest(~variable + by, data, test = 'KruskalWallis')</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.vanderwaerden.test'</code> </td>
<td style="text-align: left;"> van der Waerden's normal-scores test for complex survey samples </td>
<td style="text-align: left;"> <code>survey::svyranktest(~variable + by, data, test = 'vanderWaerden')</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.median.test'</code> </td>
<td style="text-align: left;"> Mood's test for the median for complex survey samples </td>
<td style="text-align: left;"> <code>survey::svyranktest(~variable + by, data, test = 'median')</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.chisq.test'</code> </td>
<td style="text-align: left;"> chi-squared test with Rao &amp; Scott's second-order correction </td>
<td style="text-align: left;"> <code>survey::svychisq(~variable + by, data, statistic = 'F')</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.adj.chisq.test'</code> </td>
<td style="text-align: left;"> chi-squared test adjusted by a design effect estimate </td>
<td style="text-align: left;"> <code>survey::svychisq(~variable + by, data, statistic = 'Chisq')</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.wald.test'</code> </td>
<td style="text-align: left;"> Wald test of independence for complex survey samples </td>
<td style="text-align: left;"> <code>survey::svychisq(~variable + by, data, statistic = 'Wald')</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.adj.wald.test'</code> </td>
<td style="text-align: left;"> adjusted Wald test of independence for complex survey samples </td>
<td style="text-align: left;"> <code>survey::svychisq(~variable + by, data, statistic = 'adjWald')</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.lincom.test'</code> </td>
<td style="text-align: left;"> test of independence using the exact asymptotic distribution for complex survey samples </td>
<td style="text-align: left;"> <code>survey::svychisq(~variable + by, data, statistic = 'lincom')</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.saddlepoint.test'</code> </td>
<td style="text-align: left;"> test of independence using a saddlepoint approximation for complex survey samples </td>
<td style="text-align: left;"> <code>survey::svychisq(~variable + by, data, statistic = 'saddlepoint')</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'emmeans'</code> </td>
<td style="text-align: left;"> Estimated Marginal Means or LS-means </td>
<td style="text-align: left;"> <code>survey::svyglm(variable ~ by + adj.vars, data) %&gt;% emmeans::emmeans(specs =~by) %&gt;% emmeans::contrast(method = "pairwise") %&gt;% summary(infer = TRUE, level = conf.level)</code> </td>
<td style="text-align: left;"> When variable is binary, <code>survey::svyglm(family = binomial)</code> and <code>emmeans(regrid = "response")</code> arguments are used. </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3><code>tbl_survfit() %&gt;% add_p()</code></h3>


<table>
<tr>
<td style="text-align: left;">
   <strong>alias</strong> </td>
<td style="text-align: left;"> <strong>description</strong> </td>
<td style="text-align: left;"> <strong>pseudo-code</strong> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'logrank'</code> </td>
<td style="text-align: left;"> Log-rank test </td>
<td style="text-align: left;"> <code>survival::survdiff(Surv(.) ~ variable, data, rho = 0)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'tarone'</code> </td>
<td style="text-align: left;"> Tarone-Ware test </td>
<td style="text-align: left;"> <code>survival::survdiff(Surv(.) ~ variable, data, rho = 1.5)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'petopeto_gehanwilcoxon'</code> </td>
<td style="text-align: left;"> Peto &amp; Peto modification of Gehan-Wilcoxon test </td>
<td style="text-align: left;"> <code>survival::survdiff(Surv(.) ~ variable, data, rho = 1)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'survdiff'</code> </td>
<td style="text-align: left;"> G-rho family test </td>
<td style="text-align: left;"> <code>survival::survdiff(Surv(.) ~ variable, data, ...)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'coxph_lrt'</code> </td>
<td style="text-align: left;"> Cox regression (LRT) </td>
<td style="text-align: left;"> <code>survival::coxph(Surv(.) ~ variable, data, ...)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'coxph_wald'</code> </td>
<td style="text-align: left;"> Cox regression (Wald) </td>
<td style="text-align: left;"> <code>survival::coxph(Surv(.) ~ variable, data, ...)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'coxph_score'</code> </td>
<td style="text-align: left;"> Cox regression (Score) </td>
<td style="text-align: left;"> <code>survival::coxph(Surv(.) ~ variable, data, ...)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3><code>tbl_continuous() %&gt;% add_p()</code></h3>


<table>
<tr>
<td style="text-align: left;">
   <strong>alias</strong> </td>
<td style="text-align: left;"> <strong>description</strong> </td>
<td style="text-align: left;"> <strong>pseudo-code</strong> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'anova_2way'</code> </td>
<td style="text-align: left;"> Two-way ANOVA </td>
<td style="text-align: left;"> <code>lm(continuous_variable ~ by + variable)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'t.test'</code> </td>
<td style="text-align: left;"> t-test </td>
<td style="text-align: left;"> <code>t.test(continuous_variable ~ as.factor(variable), data = data, conf.level = 0.95, ...)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'oneway.test'</code> </td>
<td style="text-align: left;"> One-way ANOVA </td>
<td style="text-align: left;"> <code>oneway.test(continuous_variable ~ as.factor(variable), data = data)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'kruskal.test'</code> </td>
<td style="text-align: left;"> Kruskal-Wallis test </td>
<td style="text-align: left;"> <code>kruskal.test(data[[continuous_variable]], as.factor(data[[variable]]))</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'wilcox.test'</code> </td>
<td style="text-align: left;"> Wilcoxon rank-sum test </td>
<td style="text-align: left;"> <code>wilcox.test(as.numeric(continuous_variable) ~ as.factor(variable), data = data, ...)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'lme4'</code> </td>
<td style="text-align: left;"> random intercept logistic regression </td>
<td style="text-align: left;"> <code style="white-space: pre;">⁠lme4::glmer(by ~ (1 \UFF5C group), data, family = binomial) %&gt;% anova(lme4::glmer(variable ~ continuous_variable + (1 \UFF5C group), data, family = binomial))⁠</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'ancova'</code> </td>
<td style="text-align: left;"> ANCOVA </td>
<td style="text-align: left;"> <code>lm(continuous_variable ~ variable + adj.vars)</code> </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>tbl_summary() %&gt;% add_difference()</h3>


<table>
<tr>
<td style="text-align: left;">
   <strong>alias</strong> </td>
<td style="text-align: left;"> <strong>description</strong> </td>
<td style="text-align: left;"> <strong>difference statistic</strong> </td>
<td style="text-align: left;"> <strong>pseudo-code</strong> </td>
<td style="text-align: left;"> <strong>details</strong> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'t.test'</code> </td>
<td style="text-align: left;"> t-test </td>
<td style="text-align: left;"> mean difference </td>
<td style="text-align: left;"> <code>t.test(variable ~ as.factor(by), data = data, conf.level = 0.95, ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'wilcox.test'</code> </td>
<td style="text-align: left;"> Wilcoxon rank-sum test </td>
<td style="text-align: left;">  </td>
<td style="text-align: left;"> <code>wilcox.test(as.numeric(variable) ~ as.factor(by), data = data, conf.int = TRUE, conf.level = conf.level,  ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'paired.t.test'</code> </td>
<td style="text-align: left;"> Paired t-test </td>
<td style="text-align: left;"> mean difference </td>
<td style="text-align: left;"> <code style="white-space: pre;">⁠tidyr::pivot_wider(id_cols = group, ...); t.test(by_1, by_2, paired = TRUE, conf.level = 0.95, ...)⁠</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'prop.test'</code> </td>
<td style="text-align: left;"> Test for equality of proportions </td>
<td style="text-align: left;"> rate difference </td>
<td style="text-align: left;"> <code>prop.test(x, n, conf.level = 0.95, ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'ancova'</code> </td>
<td style="text-align: left;"> ANCOVA </td>
<td style="text-align: left;"> mean difference </td>
<td style="text-align: left;"> <code>lm(variable ~ by + adj.vars)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'ancova_lme4'</code> </td>
<td style="text-align: left;"> ANCOVA with random intercept </td>
<td style="text-align: left;"> mean difference </td>
<td style="text-align: left;"> <code style="white-space: pre;">⁠lme4::lmer(variable ~ by + adj.vars + (1 \UFF5C group), data)⁠</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'cohens_d'</code> </td>
<td style="text-align: left;"> Cohen's D </td>
<td style="text-align: left;"> standardized mean difference </td>
<td style="text-align: left;"> <code>effectsize::cohens_d(variable ~ by, data, ci = conf.level, verbose = FALSE, ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'hedges_g'</code> </td>
<td style="text-align: left;"> Hedge's G </td>
<td style="text-align: left;"> standardized mean difference </td>
<td style="text-align: left;"> <code>effectsize::hedges_g(variable ~ by, data, ci = conf.level, verbose = FALSE, ...)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'paired_cohens_d'</code> </td>
<td style="text-align: left;"> Paired Cohen's D </td>
<td style="text-align: left;"> standardized mean difference </td>
<td style="text-align: left;"> <code style="white-space: pre;">⁠tidyr::pivot_wider(id_cols = group, ...); effectsize::cohens_d(by_1, by_2, paired = TRUE, conf.level = 0.95, verbose = FALSE, ...)⁠</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'paired_hedges_g'</code> </td>
<td style="text-align: left;"> Paired Hedge's G </td>
<td style="text-align: left;"> standardized mean difference </td>
<td style="text-align: left;"> <code style="white-space: pre;">⁠tidyr::pivot_wider(id_cols = group, ...); effectsize::hedges_g(by_1, by_2, paired = TRUE, conf.level = 0.95, verbose = FALSE, ...)⁠</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'smd'</code> </td>
<td style="text-align: left;"> Standardized Mean Difference </td>
<td style="text-align: left;"> standardized mean difference </td>
<td style="text-align: left;"> <code>smd::smd(x = data[[variable]], g = data[[by]], std.error = TRUE)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'emmeans'</code> </td>
<td style="text-align: left;"> Estimated Marginal Means or LS-means </td>
<td style="text-align: left;"> adjusted mean difference </td>
<td style="text-align: left;"> <code>lm(variable ~ by + adj.vars, data) %&gt;% emmeans::emmeans(specs =~by) %&gt;% emmeans::contrast(method = "pairwise") %&gt;% summary(infer = TRUE, level = conf.level)</code> </td>
<td style="text-align: left;"> When variable is binary, <code>glm(family = binomial)</code> and <code>emmeans(regrid = "response")</code> arguments are used. When <code>group</code> is specified, <code>lme4::lmer()</code> and <code>lme4::glmer()</code> are used with the group as a random intercept. </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>tbl_svysummary() %&gt;% add_difference()</h3>


<table>
<tr>
<td style="text-align: left;">
   <strong>alias</strong> </td>
<td style="text-align: left;"> <strong>description</strong> </td>
<td style="text-align: left;"> <strong>difference statistic</strong> </td>
<td style="text-align: left;"> <strong>pseudo-code</strong> </td>
<td style="text-align: left;"> <strong>details</strong> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'smd'</code> </td>
<td style="text-align: left;"> Standardized Mean Difference </td>
<td style="text-align: left;"> standardized mean difference </td>
<td style="text-align: left;"> <code>smd::smd(x = variable, g = by, w = weights(data),  std.error = TRUE)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'svy.t.test'</code> </td>
<td style="text-align: left;"> t-test adapted to complex survey samples </td>
<td style="text-align: left;">  </td>
<td style="text-align: left;"> <code>survey::svyttest(~variable + by, data)</code> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>'emmeans'</code> </td>
<td style="text-align: left;"> Estimated Marginal Means or LS-means </td>
<td style="text-align: left;"> adjusted mean difference </td>
<td style="text-align: left;"> <code>survey::svyglm(variable ~ by + adj.vars, data) %&gt;% emmeans::emmeans(specs =~by) %&gt;% emmeans::contrast(method = "pairwise") %&gt;% summary(infer = TRUE, level = conf.level)</code> </td>
<td style="text-align: left;"> When variable is binary, <code>survey::svyglm(family = binomial)</code> and <code>emmeans(regrid = "response")</code> arguments are used. </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Custom Functions</h3>

<p>To report a p-value (or difference) for a test not available in gtsummary, you can create a
custom function. The output is a data frame that is one line long. The
structure is similar to the output of <code>broom::tidy()</code> of a typical
statistical test. The <code>add_p()</code> and <code>add_difference()</code> functions will look for columns called
<code>"p.value"</code>, <code>"estimate"</code>, <code>"statistic"</code>, <code>"std.error"</code>, <code>"parameter"</code>,
<code>"conf.low"</code>, <code>"conf.high"</code>, and <code>"method"</code>.
</p>
<p>You can also pass an Analysis Results Dataset (ARD) object with the results
for your custom result. These objects follow the structures outlined
by the {cards} and {cardx} packages.
</p>
<p>Example calculating a p-value from a t-test assuming a common variance
between groups.
</p>
<div class="sourceCode r"><pre>ttest_common_variance &lt;- function(data, variable, by, ...) {
  data &lt;- data[c(variable, by)] %&gt;% dplyr::filter(complete.cases(.))
  t.test(data[[variable]] ~ factor(data[[by]]), var.equal = TRUE) %&gt;%
  broom::tidy()
}

trial[c("age", "trt")] %&gt;%
  tbl_summary(by = trt) %&gt;%
  add_p(test = age ~ "ttest_common_variance")
</pre></div>
<p>A custom <code>add_difference()</code> is similar, and accepts arguments <code style="white-space: pre;">⁠conf.level=⁠</code>
and <code style="white-space: pre;">⁠adj.vars=⁠</code> as well.
</p>
<div class="sourceCode r"><pre>ttest_common_variance &lt;- function(data, variable, by, conf.level, ...) {
  data &lt;- data[c(variable, by)] %&gt;% dplyr::filter(complete.cases(.))
  t.test(data[[variable]] ~ factor(data[[by]]), conf.level = conf.level, var.equal = TRUE) %&gt;%
  broom::tidy()
}
</pre></div>


<h4>Function Arguments</h4>

<p>For <code>tbl_summary()</code> objects, the custom function will be passed the
following arguments: <code>custom_pvalue_fun(data=, variable=, by=, group=, type=, conf.level=, adj.vars=)</code>.
While your function may not utilize each of these arguments, these arguments
are passed and the function must accept them. We recommend including <code>...</code>
to future-proof against updates where additional arguments are added.
</p>
<p>The following table describes the argument inputs for each gtsummary table type.</p>

<table>
<tr>
<td style="text-align: left;">
   <strong>argument</strong> </td>
<td style="text-align: left;"> <strong>tbl_summary</strong> </td>
<td style="text-align: left;"> <strong>tbl_svysummary</strong> </td>
<td style="text-align: left;"> <strong>tbl_survfit</strong> </td>
<td style="text-align: left;"> <strong>tbl_continuous</strong> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code style="white-space: pre;">⁠data=⁠</code> </td>
<td style="text-align: left;"> A data frame </td>
<td style="text-align: left;"> A survey object </td>
<td style="text-align: left;"> A <code>survfit()</code> object </td>
<td style="text-align: left;"> A data frame </td>
</tr>
<tr>
<td style="text-align: left;">
   <code style="white-space: pre;">⁠variable=⁠</code> </td>
<td style="text-align: left;"> String variable name </td>
<td style="text-align: left;"> String variable name </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> String variable name </td>
</tr>
<tr>
<td style="text-align: left;">
   <code style="white-space: pre;">⁠by=⁠</code> </td>
<td style="text-align: left;"> String variable name </td>
<td style="text-align: left;"> String variable name </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> String variable name </td>
</tr>
<tr>
<td style="text-align: left;">
   <code style="white-space: pre;">⁠group=⁠</code> </td>
<td style="text-align: left;"> String variable name </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> String variable name </td>
</tr>
<tr>
<td style="text-align: left;">
   <code style="white-space: pre;">⁠type=⁠</code> </td>
<td style="text-align: left;"> Summary type </td>
<td style="text-align: left;"> Summary type </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> <code>NA</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code style="white-space: pre;">⁠conf.level=⁠</code> </td>
<td style="text-align: left;"> Confidence interval level </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> <code>NA</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code style="white-space: pre;">⁠adj.vars=⁠</code> </td>
<td style="text-align: left;"> Character vector of adjustment variable names (e.g. used in ANCOVA) </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> Character vector of adjustment variable names (e.g. used in ANCOVA) </td>
</tr>
<tr>
<td style="text-align: left;">
   <code style="white-space: pre;">⁠continuous_variable=⁠</code> </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> <code>NA</code> </td>
<td style="text-align: left;"> String of the continuous variable name </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
</div>