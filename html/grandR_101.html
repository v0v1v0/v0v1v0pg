<div class="container">

<table style="width: 100%;"><tr>
<td>MakeColdata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract an annotation table from a formatted names vector</h2>

<h3>Description</h3>

<p>If columns (i.e. sample or cell) follow a specific naming pattern, this can be used to conveniently set up an annotation table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MakeColdata(
  names,
  design,
  semantics = DesignSemantics(),
  rownames = TRUE,
  keep.originals = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>Formatted names vector (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>Titles for the columns of the annotation table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>semantics</code></td>
<td>
<p>Additional semantics to apply to given annotations (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rownames</code></td>
<td>
<p>Add rownames to the annotation table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.originals</code></td>
<td>
<p>To not discard the original values for all annotations where semantics were applied</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The names have to contain dots (.) to separate the fields for the column annotation table.
E.g. the name <em>Mock.4h.A</em> will be split into the fields <em>Mock</em>, <em>4h</em> and  <em>A</em>.
For such names, a design vector of length 3 has to be given, that describes the meaning of each field.
A reasonable design vector for the example would be <code>c("Treatment","Time","Replicate")</code>.
Some names are predefined in the list Design.
</p>
<p>The names given in the design vector might even have additional semantics:
E.g. for the name <em>duration.4sU</em> the values are interpreted (e.g. 4h is converted into the number 4, or 30min into 0.5, or no4sU into 0).
</p>
<p>Semantics can be user-defined via the <em>semantics</em> list:
For each name in the design vector matching to a name in this list, the corresponding function in the list is run.
Functions must accept 2 parameters, the first is the original column in the annotation table, the second the original name.
The function must return a data.frame with the number of rows matching to the annotation table.
In most cases it is easier to manipulate the returned data frame instead of changing the semantics.
However, the build-in semantics provide a convenient way to reduce this kind of manipulation in most cases.
</p>


<h3>Value</h3>

<p>A data frame representing the annotation table
</p>


<h3>See Also</h3>

<p>ReadGRAND,DesignSemantics,Coldata
</p>


<h3>Examples</h3>

<pre><code class="language-R">coldata &lt;- MakeColdata(c("Mock.0h.A","Mock.0h.B","Mock.2h.A","Mock.2h.B"),
                                   design=c("Cell",Design$dur.4sU,Design$Replicate))

</code></pre>


</div>