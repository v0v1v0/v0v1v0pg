<div class="container">

<table style="width: 100%;"><tr>
<td>alter_at</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Alter aesthetics / structures at certain areas of a grob matrix</h2>

<h3>Description</h3>

<p>Flexibly alter the aesthetic / structure of a grob matrix object at specific points of
the data.frame/matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">alter_at(
  grob_object,
  .f = NULL,
  ...,
  columns = NULL,
  rows = NULL,
  data = NULL,
  structure = NULL,
  aesthetic = NULL,
  group = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>grob_object</code></td>
<td>
<p>The R6 grob object class initialized by <code>grob_matrix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.f</code></td>
<td>
<p>A quosure style lambda <code>~ fun(.)</code>, which the user wants to apply
to the specific subset of cells.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Logical predicates defined in terms of the variables in the initial 
data frame / matrix, or if the user provides a new data.frame to evaluate via 
<code>data</code>. Multiple conditions are combined with <code>&amp;</code>. Only rows where the condition 
evaluates to TRUE are evaluated. 
</p>
<p>If no logical predicates provided, then the entire columns will be altered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>
<p>A character vector of column names, or numeric column indices,
of the initial data.frame/matrix, or <code>data</code> if it is provided, the user wishes to alter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>A numeric vector of row indices, of the initial data.frame/matrix, 
or <code>data</code> if it is provided, the user wishes to alter.
</p>
<p>Ignored if the user is altering a structure and not an aesthetic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A separate data.frame/matrix of the same dimensions as the initial 
data.frame/matrix which the <code>.f</code> function and any filters will be applied to.
</p>
<p>Must match the dimensions of the subset of the initial data.frame/matrix the user
is attempting to alter.
</p>
<p>Ignored if the user is altering a structure and not an aesthetic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>structure</code></td>
<td>
<p>Which structure the user wants to make alterations to. If left 
<code>NULL</code> and <code>aesthetic</code> is left <code>NULL</code>, the function will 
look for the most previous altered structure, either via 
<code>add_structure</code>, or a previous application of <code>alter_at</code>.
</p>
<p>View the documentation of <code>add_structure</code> for a list of accepted 
structures</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aesthetic</code></td>
<td>
<p>Which aesthetic the user wants to make alterations to. If left 
<code>NULL</code> and <code>structure</code> is left <code>NULL</code>, the function will 
look for the most previous altered aesthetic, either via 
<code>add_aesthetic</code>, or a previous application of <code>alter_at</code>.
</p>
<p>View the documentation of <code>add_aesthetic</code> for a list of accepted 
aesthetics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>Which group of elements the user wants to make alterations to. If left 
<code>NULL</code>, the function will look for the most previous altered group, either
via <code>add_aesthetic</code>, or a previous application of <code>alter_at</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The R6 grob matrix object class with its aesthetic / structure properties altered.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
df = data.frame(var1 = c(5, 14, 6, 10), var2 = c(3, 30, 17, 7))
df %&gt;%
  grob_matrix() %&gt;%
  add_aesthetic(aesthetic = 'text_color', group = 'cells', value = 'red') %&gt;%
  alter_at(
    .f = ~ 'blue',
    abs(var2 - var1) &gt; 1
    ) %&gt;%
  view_grob()

test_function = function(x) ifelse(x &gt; 15, 2, 1)

df %&gt;%
  grob_matrix() %&gt;%
  alter_at(
    .f = ~ test_function(.),
    aesthetic = 'font_face',
    group = 'cells'
    ) %&gt;%
  view_grob()
  
df %&gt;%
  grob_matrix() %&gt;%
  add_structure("column_widths_p", 1) %&gt;%
  alter_at(
    .f = ~ 2,
    columns = 1
    ) %&gt;%
  view_grob()
  

</code></pre>


</div>