<div class="container">

<table style="width: 100%;"><tr>
<td>BLP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Performs BLP regression</h2>

<h3>Description</h3>

<p>Performs the linear regression for the Best Linear Predictor (BLP) procedure.
</p>


<h3>Usage</h3>

<pre><code class="language-R">BLP(
  Y,
  D,
  propensity_scores,
  proxy_BCA,
  proxy_CATE,
  HT = FALSE,
  X1_control = setup_X1(),
  vcov_control = setup_vcov(),
  significance_level = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>A numeric vector containing the response variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>A binary vector of treatment assignment. Value one denotes assignment to the treatment group and value zero assignment to the control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>propensity_scores</code></td>
<td>
<p>A numeric vector of propensity scores. We recommend to use the estimates of a <code>"propensity_score"</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proxy_BCA</code></td>
<td>
<p>A numeric vector of proxy baseline conditional average (BCA) estimates. We recommend to use the estimates of a <code>"proxy_BCA"</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proxy_CATE</code></td>
<td>
<p>A numeric vector of proxy conditional average treatment effect (CATE) estimates. We recommend to use the estimates of a <code>"proxy_CATE"</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HT</code></td>
<td>
<p>Logical. If <code>TRUE</code>, a Horvitz-Thompson (HT) transformation is applied (BLP2 in the paper). Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X1_control</code></td>
<td>
<p>Specifies the design matrix <code class="reqn">X_1</code> in the regression. Must be an object of class <code>"setup_X1"</code>. See the documentation of <code>setup_X1()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov_control</code></td>
<td>
<p>Specifies the covariance matrix estimator. Must be an object of class <code>"setup_vcov"</code>. See the documentation of <code>setup_vcov()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>significance_level</code></td>
<td>
<p>Significance level. Default is 0.05.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>"BLP"</code>, consisting of the following components:
</p>

<dl>
<dt><code>generic_targets</code></dt>
<dd>
<p>A matrix of the inferential results on the BLP generic targets.</p>
</dd>
<dt><code>coefficients</code></dt>
<dd>
<p>An object of class <code>"coeftest"</code>, contains the coefficients of the BLP regression.</p>
</dd>
<dt><code>lm</code></dt>
<dd>
<p>An object of class <code>"lm"</code> used to fit the linear regression model.</p>
</dd>
</dl>
<h3>References</h3>

<p>Chernozhukov V., Demirer M., Duflo E., Fernández-Val I. (2020). “Generic Machine Learning Inference on Heterogenous Treatment Effects in Randomized Experiments.” <em>arXiv preprint arXiv:1712.04802</em>. URL: <a href="https://arxiv.org/abs/1712.04802">https://arxiv.org/abs/1712.04802</a>.
</p>


<h3>See Also</h3>

<p><code>setup_X1()</code>,
<code>setup_diff()</code>,
<code>setup_vcov()</code>,
<code>propensity_score()</code>,
<code>proxy_BCA()</code>,
<code>proxy_CATE()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## generate data
set.seed(1)
n  &lt;- 150                        # number of observations
p  &lt;- 5                          # number of covariates
D  &lt;- rbinom(n, 1, 0.5)          # random treatment assignment
Y  &lt;- runif(n)                   # outcome variable
propensity_scores &lt;- rep(0.5, n) # propensity scores
proxy_BCA         &lt;- runif(n)    # proxy BCA estimates
proxy_CATE        &lt;- runif(n)    # proxy CATE estimates

## perform BLP
BLP(Y, D, propensity_scores, proxy_BCA, proxy_CATE)

</code></pre>


</div>