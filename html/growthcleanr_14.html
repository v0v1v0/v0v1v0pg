<div class="container">

<table style="width: 100%;"><tr>
<td>longwide</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transform data in growthcleanr format into wide structure for BMI calculation</h2>

<h3>Description</h3>

<p><code>longwide</code> transforms data from long to wide format. Ideal for
transforming output from growthcleanr::cleangrowth() into a format suitable
for growthcleanr::ext_bmiz().
</p>


<h3>Usage</h3>

<pre><code class="language-R">longwide(
  long_df,
  id = "id",
  subjid = "subjid",
  sex = "sex",
  agedays = "agedays",
  param = "param",
  measurement = "measurement",
  gcr_result = "gcr_result",
  include_all = FALSE,
  inclusion_types = c("Include"),
  extra_cols = NULL,
  keep_unmatched_data = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>long_df</code></td>
<td>
<p>A data frame to be transformed. Expects columns: id, subjid,
sex, agedays, param, measurement, and gcr_result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>name of observation ID column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subjid</code></td>
<td>
<p>name of subject ID column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sex</code></td>
<td>
<p>name of sex descriptor column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agedays</code></td>
<td>
<p>name of age (in days) descriptor column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>name of parameter column to identify each type of measurement</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measurement</code></td>
<td>
<p>name of measurement column containing the actual
measurement data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gcr_result</code></td>
<td>
<p>name of column of results from growthcleanr::cleangrowth()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_all</code></td>
<td>
<p>Determines whether the function keeps all exclusion codes.
If TRUE, all exclusion types are kept and the inclusion_types argument is
ignored. Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inclusion_types</code></td>
<td>
<p>Vector indicating which exclusion codes from the
cleaning algorithm should be included in the data, given that include_all is
FALSE. For all options, see growthcleanr::cleangrowth(). Defaults to
c("Include").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extra_cols</code></td>
<td>
<p>Vector of additional columns to include in the output. If
a column C1 differs on agedays matched height and weight values, then include
separate ht_C1 and wt_C1 columns as well as a match_C1 column that gives
booleans indicating where ht_C1 and wt_C1 are the same. If the agedays
matched height and weight columns are identical, then only include a single
version of C1. Defaults to empty vector (not keeping any additional columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_unmatched_data</code></td>
<td>
<p>boolean indicating whether to keep height/weight
observations that do not have a matching weight/height on that day</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a data frame transformed from long to wide. Includes only
values flagged with indicated inclusion types. Potentially includes
additional columns if arguments are passed to extra_cols. For each subject,
heights without corresponding weights for a given age (and vice versa) will
be dropped unless keep_unmatched_data is set to TRUE.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Run on a small subset of given data
df &lt;- as.data.frame(syngrowth)
df &lt;- df[df$subjid %in% unique(df[, "subjid"])[1:2], ]
df &lt;- cbind(df,
            "gcr_result" = cleangrowth(df$subjid,
                                       df$param,
                                       df$agedays,
                                       df$sex,
                                       df$measurement))
# Convert to wide format
wide_df &lt;- longwide(df)

# Include all inclusion types
wide_df &lt;- longwide(df, include_all = TRUE)

# Specify all inclusion codes
wide_df &lt;- longwide(df, inclusion_types = c("Include", "Exclude-Carried-Forward"))

</code></pre>


</div>