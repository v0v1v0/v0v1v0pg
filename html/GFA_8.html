<div class="container">

<table style="width: 100%;"><tr>
<td>robustComponents</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Robust GFA components</h2>

<h3>Description</h3>

<p><code>robustComponents</code> analyzes a collection of sampling chains and returns
robust components.
</p>


<h3>Usage</h3>

<pre><code class="language-R">robustComponents(models, corThr = 0.9, matchThr = 0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>models</code></td>
<td>
<p>Either a vector containing the file names, where the models are
saved as 'res', or a list containing the models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corThr</code></td>
<td>
<p>How close two components are required to be, in terms of
correlation, in order to match them.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matchThr</code></td>
<td>
<p>How big proportion of the chains need to contain the
component to include it in the robust components.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function returns the effects (i.e. reconstructions) of robust components
to the data level. It is useful for a thorough model interpretation,
accumulating power over several sampling chains by
comparing them in the observation space (as opposed to the latent space).
The function is needed for this task, as the extreme multi-modality of factor
analysis prohibits efficient sampling techniques that would result in a
posterior estimate converging to the true posterior in practice.
The function uses a heuristic correlation-based procedure to analyze which
components occur frequently in GFA sampling chains.
</p>


<h3>Value</h3>

<p>A list with the following elements (when input data are paired in two
modes, the returned list is of length 2, containing the following elements
for each mode):
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Krobust</code></td>
<td>
<p>The number of robust components found with the given
thresholds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effect</code></td>
<td>
<p>The component effect in the data space; and array of size
<code class="reqn">N \times \sum_{m=1}^M D_m \times Krobust.</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indices</code></td>
<td>
<p>The corresponding component indices; a <code class="reqn">length(models)
  \times Krobust</code> matrix. Negative indices denote the closest component in
the corresponding repetition, having no components above the threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor</code></td>
<td>
<p>The correlations of the components matched to this robust
component; a matrix of size <code class="reqn">length(models) \times Krobust</code>. The
correlations are reported relative to the first repetition with this
component observed.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">X &lt;- matrix(rnorm(10*2),10,2)
W &lt;- matrix(rnorm(15*2),15,2)
Y &lt;- tcrossprod(X,W) + matrix(rnorm(10*15),10,15)
opts &lt;- getDefaultOpts() #Default options
#Fast runs for the demo, default options recommended in general
opts[c("iter.burnin", "iter.max")] &lt;- c(500, 1000)
res &lt;- list()
for(i in 1:4) res[[i]] &lt;- gfa(list(Y[,1:6],Y[,7:15]),opts=opts,K=3)
rob &lt;- robustComponents(res)
</code></pre>


</div>