<div class="container">

<table style="width: 100%;"><tr>
<td>gce_shiny_addapp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add Shiny app to a Shiny template instance</h2>

<h3>Description</h3>

<p>Add a local shiny app to a running Shiny VM installed via gce_vm_template 
via docker_build and gce_push_registry / gce_pull_registry.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gce_shiny_addapp(instance, app_image, dockerfolder = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>instance</code></td>
<td>
<p>The instance running Shiny</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>app_image</code></td>
<td>
<p>The name of the Docker image to create or use existing from Google Container Registry. Must be numbers, dashes or lowercase letters only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dockerfolder</code></td>
<td>
<p>The folder location containing the <code>Dockerfile</code> and app dependencies</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To deploy a Shiny app, you first need to construct a <code>Dockerfile</code> which load the R packages and
dependencies, as well as copying over the Shiny app in the same folder.
</p>
<p>This function will take the Dockerfile, build it into a Docker image and 
upload it to Google Container Registry for use later.
</p>
<p>If already created, then the function will download the <code>app_image</code> from Google Container Registry 
and start it on the instance provided. 
</p>
<p>Any existing Shiny Docker containers are stopped and removed, 
so if you want multiple apps put them in the same <code>Dockerfile</code>.
</p>


<h3>Value</h3>

<p>The instance
</p>


<h3>Dockerfile</h3>

<p>Example <code>Dockerfile</code>'s are found in 
<code>system.file("dockerfiles",package = "googleComputeEngineR")</code>
</p>
<p>The Dockerfile is in the same folder as your shiny app, 
which consists of a <code>ui.R</code> and <code>server.R</code> in a shiny subfolder.  
This is copied into the Dockerfile in the last line.  
Change the name of the subfolder to have that name appear 
in the final URL of the Shinyapp. 
</p>
<p>This is then run using the R commands below:
</p>


<h3>See Also</h3>

<p>The vignette entry called <code>Shiny App</code> has examples and a walk through.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

vm &lt;- gce_vm("shiny-test",  
             template = "shiny", 
             predefined_type = "n1-standard-1")
             
vm &lt;- vm_ssh_setup(vm)

app_dir &lt;- system.file("dockerfiles","shiny-googleAuthRdemo",
                       package = "googleComputeEngineR") 
                       
gce_shiny_addapp(vm, app_image = "gceshinydemo", dockerfolder = app_dir)

# a new VM, it loads the Shiny docker image from before
gce_shiny_addapp(vm2, app_image = "gceshinydemo")


## End(Not run)

</code></pre>


</div>