<div class="container">

<table style="width: 100%;"><tr>
<td>gjamSimData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulated data for gjam analysis</h2>

<h3>Description</h3>

<p>Simulates data for analysis by <code>gjam</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  gjamSimData(n = 1000, S = 10, Q = 5, x = NULL, nmiss = 0, typeNames, effort = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>Number of response variables (columns) in <code>y</code>, typically less than
<code>n</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>Number of predictors (columns) in design matrix <code>x &lt;&lt; n</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>design <code>matrix</code>, if supplied <code>n</code> and <code>Q</code> will be set to <code>nrow(x)</code> and <code>ncol(x)</code>, respectively</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nmiss</code></td>
<td>
<p>Number of missing values to in <code>x &lt;&lt; n</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>typeNames</code></td>
<td>
<p>Character vector of data types, see <b>Details</b></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effort</code></td>
<td>
<p>List containing '<code>columns</code>' specifying columns to which
effort applies, and '<code>values</code>', a length-<code>n</code> vector of effort per 
observation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Generates simulated data and parameters for analysis by <code>gjam</code>.  Because both parameters and data are stochastic, not all simulations will give good results.   
</p>
<p><code>typeNames</code> can be '<code>PA</code>' (presenceAbsence), '<code>CA</code>'  
(continuous), '<code>DA</code>' (discrete),  '<code>FC</code>' (fractional composition),
'<code>CC</code>' (count composition), '<code>OC</code>' (ordinal counts), and '<code>CAT</code>' (categorical levels).  If more than one <code>'CAT'</code> is included, each defines a multilevel categorical reponse.
One additional type, '<code>CON</code>' (continuous), is not censored at zero by default.  
</p>
<p>If defined as a single <code>character</code> value <code>typeNames</code> applies to all columns in <code>y</code>.  If not, <code>typeNames</code> is length-<code>S</code> <code>character vector</code>, identifying each response by column in <code>y</code>.  If a column <code>'CAT'</code> is included, a random number of levels will be generated, <code>a, b, c, ...</code>.
</p>
<p>A more detailed vignette is can be obtained with:
</p>
<p><code>browseVignettes('gjam')</code>
</p>
<p>website 'http://sites.nicholas.duke.edu/clarklab/code/'.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>R formula for model, e.g., <code>~ x1 + x2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xdata</code></td>
<td>
<p><code>data.frame</code> includes columns for predictors in the
design matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ydata</code></td>
<td>
<p><code>data.frame</code> for the simulated response</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>response as a  <code>n</code> by <code>S</code> <code>matrix</code> as assembled in <code>gjam</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p><code>n</code> by <code>S</code> latent states</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>typeY</code></td>
<td>
<p>vector of data types corresponding to columns in <code>y</code>, see <b>Details</b></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>typeNames</code></td>
<td>
<p>vector of data types corresponding to columns in <code>ydata</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trueValues</code></td>
<td>
<p>list containing true parameter values <code>beta</code> (regression
coefficients), <code>sigma</code> (covariance matrix), <code>corSpec</code> (correlation 
matrix corresponding to <code>sigma</code>), and <code>cuts</code> (partition matrix for 
ordinal data).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effort</code></td>
<td>
<p> see <b>Arguments</b>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>James S Clark, <a href="mailto:jimclark@duke.edu">jimclark@duke.edu</a>
</p>


<h3>References</h3>

<p>Clark, J.S., D. Nemergut, B. Seyednasrollah, P. Turner, and S. Zhang. 2016.  Generalized joint attribute modeling for biodiversity analysis: Median-zero, multivariate, multifarious data.  Ecological Monographs 87, 34-56.
</p>


<h3>See Also</h3>

<p><code>gjam</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## ordinal data, show true parameter values
sim &lt;- gjamSimData(S = 5, typeNames = 'OC')  
sim$ydata[1:5,]                              # example data
sim$trueValues$cuts                          # simulated partition
sim$trueValues$beta                          # coefficient matrix

## continuous data censored at zero, note latent w for obs y = 0
sim &lt;- gjamSimData(n = 5, S = 5, typeNames = 'CA')  
sim$w
sim$y

## continuous and discrete data
types &lt;- c(rep('DA',5), rep('CA',4))
sim   &lt;- gjamSimData(n = 10, S = length(types), Q = 4, typeNames = types)
sim$typeNames
sim$ydata
                             
## composition count data  
sim &lt;- gjamSimData(n = 10, S = 8, typeNames = 'CC')
totalCount &lt;- rowSums(sim$ydata)
cbind(sim$ydata, totalCount)  # data with sample effort

## multiple categorical responses - compare matrix y and data.frqme ydata
types &lt;- rep('CAT',2)
sim   &lt;- gjamSimData(S = length(types), typeNames = types)
head(sim$ydata)
head(sim$y)

## discrete abundance, heterogeneous effort 
S   &lt;- 5
n   &lt;- 1000
ef  &lt;- list( columns = 1:S, values = round(runif(n,.5,5),1) )
sim &lt;- gjamSimData(n, S, typeNames = 'DA', effort = ef)
sim$effort$values[1:20]

## combinations of scales, partition only for 'OC' columns
types &lt;- c('OC','OC','OC','CC','CC','CC','CC','CC','CA','CA','PA','PA')
sim   &lt;- gjamSimData(S = length(types), typeNames = types)
sim$typeNames                           
head(sim$ydata)
sim$trueValues$cuts

## End(Not run)
</code></pre>


</div>