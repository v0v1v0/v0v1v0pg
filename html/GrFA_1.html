<div class="container">

<table style="width: 100%;"><tr>
<td>APM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Aggregated Projection Method
</h2>

<h3>Description</h3>

<p>Aggregated Projection Method
</p>


<h3>Usage</h3>

<pre><code class="language-R">APM(y, rmax = 8, r0 = NULL, r = NULL, localfactor = FALSE, weight = TRUE,
      method = "ic", type = "IC3")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a list of the observation data, each element is a data matrix of each group  with dimension <code class="reqn">T * N_m</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmax</code></td>
<td>
<p>the maximum factor numbers of all groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r0</code></td>
<td>
<p>the number of global factors, default is <code>NULL</code>, the algorithm will automatically estimate the number of global factors. If you have the prior information about the true number of global factors, you can set it by your own.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>the number of local factors in each group, default is <code>NULL</code>, the algorithm will automatically estimate the number of local factors. If you have the prior information about the true number of local factors, you can set it by your own, notice it should be an integer vector of length <code class="reqn">M</code> (the number of groups).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>localfactor</code></td>
<td>
<p>if <code>localfactor = FALSE</code>, then we would not estimate the local factors; if <code>localfactor = TRUE</code>, then we will further estimate the local factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>the weight of each projection matrix, default is <code>TRUE</code>, means <code class="reqn">w_m = N_m/N</code>, if <code>weight = FALSE</code>, then simply calculate the mean of all projection matrices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the method used in the algorithm, default is <code>ic</code>, it can also be <code>gap</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>the method used in estimating the factor numbers in each group initially, default is <code>IC3</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r0hat</code></td>
<td>
<p>the estimated number of the global factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>the estimated number of the local factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ghat</code></td>
<td>
<p>the estimated global factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loading_G</code></td>
<td>
<p>a list consisting of the estimated global factor loadings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Fhat</code></td>
<td>
<p>the estimated local factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loading_F</code></td>
<td>
<p>a list consisting of the estimated local factor loadings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e</code></td>
<td>
<p>a list consisting of the residuals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>the threshold used in determining the number of global factors, only for <code>method = ic</code>.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">dat = gendata()
dat
APM(dat$y, rmax = 8, localfactor = TRUE, method = "ic")
APM(dat$y, rmax = 8, localfactor = TRUE, method = "gap")
</code></pre>


</div>