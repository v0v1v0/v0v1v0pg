<div class="container">

<table style="width: 100%;"><tr>
<td>local_repo</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Functions for managing local git repositories</h2>

<h3>Description</h3>


<ul>
<li> <p><code>local_repo_clone()</code> - Clones a GitHub repository to a local directory.
</p>
</li>
<li> <p><code>local_repo_add()</code> - Equivalent to <code style="white-space: pre;">⁠git add⁠</code> - stages a file in a local repository.
</p>
</li>
<li> <p><code>local_repo_commit()</code> - Equivalent to <code style="white-space: pre;">⁠git commit⁠</code> - commits staged files in a local repository.
</p>
</li>
<li> <p><code>local_repo_push()</code> - Equivalent to <code style="white-space: pre;">⁠git push⁠</code> - push a local repository.
</p>
</li>
<li> <p><code>local_repo_pull()</code> - Equivalent to <code style="white-space: pre;">⁠git pull⁠</code> - pull a local repository.
</p>
</li>
<li> <p><code>local_repo_branch()</code> - Equivalent to <code style="white-space: pre;">⁠git branch⁠</code> - create a branch in a local repository.
</p>
</li>
<li> <p><code>local_repo_log()</code> - Equivalent to <code style="white-space: pre;">⁠git log⁠</code> - returns a data frame for git log entries.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">local_repo_add(repo_dir, files = ".")

local_repo_branch(repo_dir, branch)

local_repo_clone(
  repo,
  local_path = ".",
  branch = NULL,
  mirror = FALSE,
  verbose = FALSE
)

local_repo_commit(repo_dir, message)

local_repo_log(repo_dir, max = 100)

local_repo_pull(repo_dir, verbose = FALSE)

local_repo_push(
  repo_dir,
  remote = "origin",
  branch = NULL,
  force = FALSE,
  prompt = TRUE,
  mirror = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>repo_dir</code></td>
<td>
<p>Vector of repo directories or a single directory containing one or more repos.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>files</code></td>
<td>
<p>Files to be staged</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>branch</code></td>
<td>
<p>Repository branch to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repo</code></td>
<td>
<p>GitHub repo address with the form <code>owner/name</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>local_path</code></td>
<td>
<p>Local directory to store cloned repos.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mirror</code></td>
<td>
<p>Equivalent to <code>--mirror</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Display verbose output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message</code></td>
<td>
<p>Commit message</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>Maximum number of log entries to retrieve per repo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remote</code></td>
<td>
<p>Repository remote to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force</code></td>
<td>
<p>Force push?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prompt</code></td>
<td>
<p>Prompt before force push?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All <code style="white-space: pre;">⁠local_repo_*⁠</code> functions depend on the <code>gert</code> library being installed.
</p>


<h3>Value</h3>

<p><code>local_repo_clone()</code> invisibly returns a character vector of paths for
the local repo directories.
</p>
<p><code>local_repo_log()</code> returns a tibble containing repository details.'
</p>
<p>All other functions invisibly return a list containing the results of the relevant call
to <code>gert</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
repo = repo_create("ghclass-test", "local_repo_test")

dir = file.path(tempdir(), "repos")
local_repo = local_repo_clone(repo, dir)

local_repo_log(dir)

# Make a local change and push
writeLines("Hello World", file.path(local_repo, "hello.txt"))

local_repo_add(local_repo, "hello.txt")

local_repo_commit(local_repo, "Added hello world")

local_repo_push(local_repo)

repo_commits(repo)

# Pulling remote changes
repo_modify_file(repo, "hello.txt", pattern = ".*",  content = "!!!", method = "after")

local_repo_pull(local_repo)

local_repo_log(dir)

repo_delete("ghclass-test/local_repo_test", prompt=FALSE)

## End(Not run)

</code></pre>


</div>