<div class="container">

<table style="width: 100%;"><tr>
<td>eblupgeo</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>EBLUP's for domain means using Geoadditive Small Area Model</h2>

<h3>Description</h3>

<p>This function calculates EBLUP's based on unit level using Geoadditive Small Area Model
</p>


<h3>Usage</h3>

<pre><code class="language-R">eblupgeo(formula, zspline, dom, xmean, zmean, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>the model that to be fitted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zspline</code></td>
<td>
<p>n*k matrix that used in model for random effect of spline-2 (n is the number of observations, and k is the number of knots used)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dom</code></td>
<td>
<p>a*1 vector with domain codes (a is the number of small areas)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmean</code></td>
<td>
<p>a*p matrix of auxiliary variables means for each domains (a is the number of small areas, and p is the number of auxiliary variables)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zmean</code></td>
<td>
<p>a*k matrix of spline-2 means for each domains</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data unit level that used as data frame that containing the variables named in formula and dom</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function returns a list of the following objects:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>eblup</code></td>
<td>
<p>A Vector with a list of EBLUP with Geoadditive Small Area Model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>A list of components of the formed Geoadditive Small Area Model that containing the following objects such as model structure of the model, coefficients of the model, method, and residuals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma2</code></td>
<td>
<p>Variance (sigma square) of random effect and error with Geoadditive Small Area Model</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">#Load the dataset for unit level
data(dataUnit)

#Load the dataset for spline-2
data(zspline)

#Load the dataset for area level
data(dataArea)

#Construct the data frame
y       &lt;- dataUnit$y
x1      &lt;- dataUnit$x1
x2      &lt;- dataUnit$x2
x3      &lt;- dataUnit$x3
formula &lt;- y~x1+x2+x3
zspline &lt;- as.matrix(zspline[,1:6])
dom     &lt;- dataUnit$area
xmean   &lt;- cbind(1,dataArea[,3:5])
zmean   &lt;- dataArea[,7:12]
number  &lt;- dataUnit$number
area    &lt;- dataUnit$area
data    &lt;- data.frame(number, area, y, x1, x2, x3)

#Estimate EBLUP
eblup_geosae &lt;- eblupgeo(formula, zspline, dom, xmean, zmean, data)

</code></pre>


</div>