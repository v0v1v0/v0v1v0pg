<div class="container">

<table style="width: 100%;"><tr>
<td>Qval</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Q-matrix validation</h2>

<h3>Description</h3>

<p>Q-matrix validation for the (sequential) G-DINA model based on PVAF (de la Torre &amp; Chiu, 2016; Najera, Sorrel, &amp; Abad, 2019; Najera et al., 2020), stepwise Wald test (Ma &amp; de la Torre, 2020) or mesa plot (de la Torre &amp; Ma, 2016).
All these methods are suitable for dichotomous and ordinal response data. If too many modifications are suggested based on the default PVAF method, you are suggested to try the stepwise Wald test method, iterative procedures or predicted cutoffs.
You should always check the mesa plots for further examination.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Qval(
  GDINA.obj,
  method = "PVAF",
  iter = "none",
  eps = 0.95,
  digits = 4,
  wald.args = list(),
  iter.args = list(empty.att = FALSE, max.iter = 150, verbose = FALSE)
)

## S3 method for class 'Qval'
extract(object, what = c("sug.Q", "varsigma", "PVAF", "eps", "Q"), ...)

## S3 method for class 'Qval'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>GDINA.obj</code></td>
<td>
<p>an estimated model object of class <code>GDINA</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>which Q-matrix validation method is used? Can be either <code>"PVAF"</code> or <code>"wald"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>implement the method iteratively? Can be <code>"none"</code> for non-iterative validation (by default), <code>"test"</code>, <code>"test.att"</code>, or <code>"item"</code> (Najera et al., 2020).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>cutoff value for PVAF from 0 to 1. Default = 0.95. Note that it can also be -1, indicating the predicted cutoff based on Najera, Sorrel, and Abad (2019).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>how many decimal places in each number? The default is 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wald.args</code></td>
<td>
<p>a list of arguments for the stepwise Wald test method.
</p>

<dl>
<dt>SE.type</dt>
<dd>
<p>type of covariance matrix for the Wald test</p>
</dd>
<dt>alpha.level</dt>
<dd>
<p>alpha level for the wald test</p>
</dd>
<dt>GDI</dt>
<dd>
<p>it can be 0, 1 or 2; 0 means GDI is not used to choose the attribute -
when more than one attributes are significant, the one with the largest p-value will be selected;
GDI=1 means the attribute with the largest GDI will be selected; GDI=2 means the q-vector with
the largest GDI will be selected.</p>
</dd>
<dt>verbose</dt>
<dd>
<p>print detailed information or not?</p>
</dd>
<dt>stepwise</dt>
<dd>
<p><code>TRUE</code> for stepwise approach and <code>FALSE</code> for forward approach</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter.args</code></td>
<td>
<p>a list of arguments for the iterative implementation.
</p>

<dl>
<dt>empty.att</dt>
<dd>
<p>can a Q-matrix with an empty attribute (i.e., measured by no items) be provided? Default is FALSE</p>
</dd>
<dt>max.iter</dt>
<dd>
<p>maximum number of iterations. Default is 150</p>
</dd>
<dt>verbose</dt>
<dd>
<p>print information after each iteration? Default is FALSE</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p><code>Qval</code> objects for S3 methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>argument for S3 method <code>extract</code> indicating what to extract;
It can be <code>"sug.Q"</code> for suggested Q-matrix,
<code>"Q"</code> for original Q-matrix, <code>"varsigma"</code> for varsigma index,
and <code>"PVAF"</code> for PVAF.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>Qval</code>. Elements that can be
extracted using <code>extract</code> method include:
</p>

<dl>
<dt>sug.Q</dt>
<dd>
<p>suggested Q-matrix</p>
</dd>
<dt>Q</dt>
<dd>
<p>original Q-matrix</p>
</dd>
<dt>varsigma</dt>
<dd>
<p>varsigma index</p>
</dd>
<dt>PVAF</dt>
<dd>
<p>PVAF</p>
</dd>
</dl>
<h3>Methods (by generic)</h3>


<ul>
<li> <p><code>extract(Qval)</code>: extract various elements from <code>Qval</code> objects
</p>
</li>
<li> <p><code>summary(Qval)</code>: print summary information
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Wenchao Ma, The University of Alabama, <a href="mailto:wenchao.ma@ua.edu">wenchao.ma@ua.edu</a>, <br> Miguel A. Sorrel, Universidad Aut√≥noma de Madrid, <br> Jimmy de la Torre, The University of Hong Kong
</p>


<h3>References</h3>

<p>de la Torre, J. &amp; Chiu, C-Y. (2016). A General Method of Empirical Q-matrix Validation. <em>Psychometrika, 81</em>, 253-273.
</p>
<p>de la Torre, J., &amp; Ma, W. (2016, August). Cognitive diagnosis modeling: A general framework approach and its implementation in R. A Short Course at the Fourth Conference on Statistical Methods in Psychometrics, Columbia University, New York.
</p>
<p>Ma, W., &amp; de la Torre, J. (2020). An empirical Q-matrix validation method for the sequential G-DINA model. <em>British Journal of Mathematical and Statistical Psychology, 73</em>, 142-163.
</p>
<p>Najera, P., Sorrel, M. A., &amp; Abad, F.J. (2019). Reconsidering cutoff points in the general method of empirical Q-matrix validation. <em>Educational and Psychological Measurement, 79</em>, 727-753.
</p>
<p>Najera, P., Sorrel, M. A., de la Torre, J., &amp; Abad, F. J. (2020). Improving robustness in Q-matrix validation using an iterative and dynamic procedure. <em>Applied Psychological Measurement</em>.
</p>


<h3>See Also</h3>

<p><code>GDINA</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
################################
#
# Binary response
#
################################
dat &lt;- sim10GDINA$simdat
Q &lt;- sim10GDINA$simQ
Q[10,] &lt;- c(0,1,0)

# Fit the G-DINA model
mod1 &lt;- GDINA(dat = dat, Q = Q, model = "GDINA")

# Q-validation using de la Torre and Chiu's method
pvaf &lt;- Qval(mod1,method = "PVAF",eps = 0.95)
pvaf
extract(pvaf,what = "PVAF")
#See also:
extract(pvaf,what = "varsigma")
extract(pvaf,what = "sug.Q")

# Draw mesa plots using the function plot

plot(pvaf,item=10)

#The stepwise Wald test
stepwise &lt;- Qval(mod1,method = "wald")
stepwise
extract(stepwise,what = "PVAF")
#See also:
extract(stepwise,what = "varsigma")
extract(stepwise,what = "sug.Q")

#Set eps = -1 to determine the cutoff empirically
pvaf2 &lt;- Qval(mod1,method = "PVAF",eps = -1)
pvaf2

#Iterative procedure (test-attribute level)
pvaf3 &lt;- Qval(mod1, method = "PVAF", eps = -1,
              iter = "test.att", iter.args = list(verbose = 1))
pvaf3

################################
#
# Ordinal response
#
################################
seq.est &lt;- GDINA(sim20seqGDINA$simdat,sim20seqGDINA$simQ, sequential = TRUE)
stepwise &lt;- Qval(seq.est, method = "wald")

## End(Not run)
</code></pre>


</div>