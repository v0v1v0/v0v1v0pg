<div class="container">

<table style="width: 100%;"><tr>
<td>autoplot.generic_spct</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot generic spectral data.</h2>

<h3>Description</h3>

<p>This function returns a ggplot object with an annotated plot from
spectral data contained in a <code>generic_spct</code> object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'generic_spct'
autoplot(
  object,
  ...,
  y.name,
  ymin.name = NULL,
  ymax.name = NULL,
  ylab = ggplot2::waiver(),
  w.band = getOption("photobiology.plot.bands", default = list(UVC(), UVB(), UVA(),
    PhR())),
  range = getOption("ggspectra.wlrange", default = NULL),
  label.qty = "none",
  span = NULL,
  wls.target = "HM",
  annotations = NULL,
  time.format = "",
  tz = "UTC",
  text.size = 2.5,
  idfactor = NULL,
  facets = FALSE,
  ylim = c(NA, NA),
  object.label = deparse(substitute(object)),
  na.rm = TRUE
)

## S3 method for class 'generic_mspct'
autoplot(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a generic_spct object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>in the case of collections of spectra, additional arguments passed
to the plot methods for individual spectra, otherwise currently ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.name, ymin.name, ymax.name</code></td>
<td>
<p>character Names of the columns to be mapped
to the y aesthetic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>character or expression The y-axis label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w.band</code></td>
<td>
<p>a single waveband object or a list of waveband objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p>an R object on which <code>range()</code> returns a vector of length
2, with minimum and maximum wavelengths (nm).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.qty</code></td>
<td>
<p>character string giving the type of summary quantity to use
for labels, one of <code>"mean"</code>, <code>"total"</code>, <code>"contribution"</code>,
and <code>"relative"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span</code></td>
<td>
<p>a peak is defined as an element in a sequence which is greater
than all other elements within a window of width span centred at that
element.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wls.target</code></td>
<td>
<p>numeric vector indicating the spectral quantity values for
which wavelengths are to be searched and interpolated if need. The
<code>character</code> strings <code>"half.maximum"</code> and <code>"half.range"</code> are
also accepted as arguments. A list with <code>numeric</code> and/or
<code>character</code> values is also accepted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotations</code></td>
<td>
<p>a character vector. For details please see sections Plot
<strong>Annotations</strong> and <strong>Title Annotations</strong>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.format</code></td>
<td>
<p>character Format as accepted by
<code>strptime</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>character Time zone to use for title and/or subtitle.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.size</code></td>
<td>
<p>numeric size of text in the plot decorations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idfactor</code></td>
<td>
<p>character Name of an index column in data holding a
<code>factor</code> with each spectrum in a long-form multispectrum object
corresponding to a distinct level of the factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facets</code></td>
<td>
<p>logical or integer Indicating if facets are to be created for
the levels of <code>idfactor</code> when <code>spct</code> contain multiple spectra in
long form.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>numeric y axis limits,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object.label</code></td>
<td>
<p>character The name of the object being plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>logical.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>No automatic plot method is possible for objects of class
<code>generic_spct</code> as this class is meant to be mainly used only as a pure
base class for derivation. A method is provided for <code>generic_spct</code> but
not for <code>generic_mspct</code> as <code>generic_mspct</code> objects can contain an
assortment of objects including <code>generic_spct</code> and classes derived
from <code>generic_spct</code> making the spectra are unlikely be suitable for
plotting in the same ggplot.
</p>
<p>Contrary to other autoplot methods, the method for <code>generic_spct</code> does
not supply defaults to several of its parameters and cannot be used simply
by calling it with the spectrum as argument. There are also limitations on
which annotations are accepted. On-the-fly normalization is not supported.
</p>
<p>No method is implemented for <code>generic_mspct</code> objects as they can
contain an heterogeneous collection of objects of class <code>generic_spct</code>
or any other class derived from it.
</p>


<h3>Value</h3>

<p>a <code>ggplot</code> object.
</p>


<h3>Plot Annotations</h3>

<p>The recognized annotation names are: <code>"summaries"</code>, <code>"peaks"</code>,
<code>"peak.labels"</code>, <code>"valleys"</code>, <code>"valley.labels"</code>,
<code>"wls"</code>, <code>"wls.labels"</code>, <code>"colour.guide"</code>,
<code>"color.guide"</code>, <code>"boxes"</code>, <code>"segments"</code>, <code>"labels"</code>.
In addition, <code>"+"</code> is interpreted as a request to add to the already
present default annotations, <code>"-"</code> as request to remove annotations
and <code>"="</code> or missing<code>"+"</code> and <code>"-"</code> as a request to reset
annotations to those requested. If used, <code>"+"</code>, <code>"-"</code> or
<code>"="</code> must be the first member of a character vector, and followed by
one or more of the names given above. To simultaneously add and remove
annotations one can pass a <code>list</code> containing <code>character</code> vectors
each assembled as described. The vectors are applied in the order they
appear in the list. To disable all annotations pass <code>""</code> or
<code>c("=", "")</code> as argument. Adding a variation of an annotation already
present, replaces the existing one automatically: e.g., adding
<code>"peak.labels"</code> replaces<code>"peaks"</code> if present.
</p>


<h3>Title Annotations</h3>

<p>metadata retrieved from object <code>object</code> is
paased to <code>ggplot2::ggtitle()</code> as arguments for <code>title</code>,
<code>subtitle</code> and <code>caption</code>. The specification for the title is
passed as argument to <code>annotations</code>, and consists in the keyword
<code>title</code> with optional modifiers selecting the kind of metatdata to
use, separated by colons. Up to three keywords separated by colons are
accepted, and correspond to title, subtitle and caption. The recognized
keywords are: <code>"objt"</code>, <code>"class"</code>, <code>"what"</code>, <code>"when"</code>,
<code>"where"</code>, <code>"how"</code>, <code>"inst.name"</code>, <code>"inst.sn"</code>,
<code>"comment"</code> and <code>"none"</code> are recognized as modifiers to
<code>"title"</code>; <code>"none"</code> is a placeholder. Default is
<code>"title:objt"</code> or no title depending on the context.
</p>


<h3>Note</h3>

<p>If <code>idfactor = NULL</code>, the default for single spectra, the name of
the factor is retrieved from metadata or if no metadata found, the default
<code>"spct.idx"</code> is tried. The default for multiple spectra is to create a
factor named <code>"spct.idx"</code>, but if a different name is passed, it will
be used instead, possibly renaming a pre-existing one.
</p>


<h3>See Also</h3>

<p><code>normalize</code>,
<code>generic_spct</code>,
<code>waveband</code>,
<code>photobiologyWavebands-package</code>,
<code>scale_continuous</code> and
<code>autoplot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
sun.generic_spct &lt;- as.generic_spct(sun.spct)
autoplot(sun.generic_spct, y.name = "s.q.irrad")
autoplot(sun.generic_spct, y.name = "s.q.irrad",
         annotations = "")
autoplot(sun.generic_spct, y.name = "s.q.irrad",
         annotations = "title:objt:when",
         ylab = s.q.irrad_label(unit.exponent = 0))
autoplot(sun.generic_spct, y.name = "s.e.irrad",
         annotations = "colour.guide")
autoplot(sun.generic_spct, y.name = "s.q.irrad",
         ylim = c(-1e-6, 4e-6))

</code></pre>


</div>