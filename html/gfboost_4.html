<div class="container">

<table style="width: 100%;"><tr>
<td>CMB3S</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Column Measure Boosting with SingBoost and Stability Selection (CMB-3S)</h2>

<h3>Description</h3>

<p>Executes CMB and the loss-based Stability Selection.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CMB3S(
  Dtrain,
  nsing,
  Bsing = 1,
  B = 100,
  alpha = 1,
  singfam = Gaussian(),
  evalfam = Gaussian(),
  sing = FALSE,
  M = 10,
  m_iter = 100,
  kap = 0.1,
  LS = FALSE,
  best = 1,
  wagg,
  gridtype,
  grid,
  Dvalid,
  ncmb,
  robagg = FALSE,
  lower = 0,
  singcoef = FALSE,
  Mfinal = 10,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Dtrain</code></td>
<td>
<p>Data matrix. Has to be an <code class="reqn">n \times (p+1)-</code>dimensional data frame in the format <code class="reqn">(X,Y)</code>. The <code class="reqn">X-</code>part must not
contain an intercept column containing only ones since this column will be added automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsing</code></td>
<td>
<p>Number of observations (rows) used for the SingBoost submodels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Bsing</code></td>
<td>
<p>Number of subsamples based on which the SingBoost models are validated. Default is 1. Not to confuse with parameter <code>B</code> for the Stability Selection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>Number of subsamples based on which the CMB models are validated. Default is 100. Not to confuse with <code>Bsing</code> for CMB.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Optional real number in <code class="reqn">]0,1]</code>. Defines the fraction of best SingBoost models used in the aggregation step. Default is 1 (use all models).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>singfam</code></td>
<td>
<p>A SingBoost family. The SingBoost models are trained based on the corresponding loss function. Default is <code>Gaussian()</code> (squared loss).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evalfam</code></td>
<td>
<p>A SingBoost family. The SingBoost models are validated according to the corresponding loss function. Default is <code>Gaussian()</code> (squared loss).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sing</code></td>
<td>
<p>If <code>sing=FALSE</code> and the <code>singfam</code> family is a standard Boosting family that is contained in the package
<code>mboost</code>, the CMB aggregation procedure is executed for the corresponding standard Boosting models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>An integer between 2 and <code>m_iter</code>. Indicates that in every <code class="reqn">M-</code>th iteration, a singular iteration will be
performed. Default is 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m_iter</code></td>
<td>
<p>Number of SingBoost iterations. Default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kap</code></td>
<td>
<p>Learning rate (step size). Must be a real number in <code class="reqn">]0,1]</code>. Default is 0.1 It is recommended to use
a value smaller than 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LS</code></td>
<td>
<p>If a <code>singfamily</code> object that is already provided by <code>mboost</code> is used, the respective Boosting algorithm
will be performed in the singular iterations if <code>Ls</code> is set to <code>TRUE</code>. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>best</code></td>
<td>
<p>Needed in the case of localized ranking. The parameter <code>K</code> of the localized ranking loss will be
computed by <code class="reqn">best \cdot n</code> (rounded to the next larger integer). Warning: If a parameter <code>K</code> is inserted into the
<code>LocRank</code> family, it will be ignored when executing SingBoost.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wagg</code></td>
<td>
<p>Type of row weight aggregation. <code>'weights1'</code> indicates that the selection frequencies of the (best)
SingBoost models are averaged. <code>'weights2'</code> respects the validation losses for each model and downweights the ones
with higher validation losses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gridtype</code></td>
<td>
<p>Choose between <code>'pigrid'</code> and <code>'qgrid'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p>The grid for the thresholds (in <code class="reqn">]0,1]</code>) or the numbers of final variables (positive integers).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Dvalid</code></td>
<td>
<p>Validation data for selecting the optimal element of the grid and with it the best corresponding model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncmb</code></td>
<td>
<p>Number of samples used for <code>CMB</code>. Integer that must be smaller than the number of samples in <code>Dtrain</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>robagg</code></td>
<td>
<p>Optional. If setting <code>robagg=TRUE</code>, the best SingBoost models are ignored when executing the
aggregation to avoid inlier effects. Only reasonable in combination with <code>lower</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>
<p>Optional argument. Only reasonable when setting <code>robagg=TRUE</code>. <code>lower</code> is a real number in <code class="reqn">[0,1[</code> (a rather
small number is recommended) and indicates that the aggregation ignores the SingBoost models with the best
performances to avoid possible inlier effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>singcoef</code></td>
<td>
<p>Default is <code>FALSE</code>. Then the coefficients for the candidate stable models are computed by standard
linear regression (provided that the number of columns is smaller than the number of samples in the training set
for each grid element). If set to <code>TRUE</code>, the coefficients are computed by SingBoost.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Mfinal</code></td>
<td>
<p>Optional. Necessary if <code>singcoef=TRUE</code> to determine the frequency of singular iterations in the
SingBoost models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional further arguments</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See <code>CMB</code> and <code>CMB.Stabsel</code>.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Final coefficients</code></td>
<td>
<p>The coefficients corresponding to the optimal stable model as a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Stable column measure</code></td>
<td>
<p>Aggregated empirical column measure (i.e., selection frequencies) as a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Selected columns</code></td>
<td>
<p>The column numbers of the variables that form the best stable model as a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Used row measure</code></td>
<td>
<p>Aggregated empirical row measure (i.e., row weights) as a vector.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Werner, T., Gradient-Free Gradient Boosting, PhD Thesis, Carl von Ossietzky University Oldenburg, 2020
</p>
<p>T. Hothorn, P. Bühlmann, T. Kneib, M. Schmid, and B. Hofner. mboost: Model-Based
Boosting, 2017
</p>
<p>B. Hofner and T. Hothorn. stabs: Stability Selection with Error Control, 2017.
</p>
<p>B. Hofner, L. Boccuto, and M. Göker. Controlling false discoveries in high-dimensional
situations: Boosting with stability selection. BMC Bioinformatics, 16(1):144, 2015.
</p>
<p>N. Meinshausen and P. Bühlmann. Stability selection. Journal of the Royal Statistical Society:
Series B (Statistical Methodology), 72(4):417–473, 2010.
</p>


<h3>Examples</h3>

<pre><code class="language-R">firis&lt;-as.formula(Sepal.Length~.)
Xiris&lt;-model.matrix(firis,iris)
Diris&lt;-data.frame(Xiris[,-1],iris$Sepal.Length)
colnames(Diris)[6]&lt;-"Y"
set.seed(19931023)
ind&lt;-sample(1:150,120,replace=FALSE)
Dtrain&lt;-Diris[ind,]
Dvalid&lt;-Diris[-ind,]
set.seed(19931023)
cmb3s&lt;-CMB3S(Dtrain,nsing=120,Dvalid=Dvalid,ncmb=120,Bsing=1,B=1,alpha=1,singfam=Gaussian()
,evalfam=Gaussian(),sing=FALSE,M=10,m_iter=100,kap=0.1,LS=FALSE,wagg='weights1',
gridtype='pigrid',grid=seq(0.8,0.9,1),robagg=FALSE,lower=0,singcoef=TRUE,Mfinal=10)
cmb3s$Fin
cmb3s$Stab
cmb3s$Sel
glmres4&lt;-glmboost(Sepal.Length~.,iris[ind,])
coef(glmres4)
set.seed(19931023)
cmb3s1&lt;-CMB3S(Dtrain,nsing=80,Dvalid=Dvalid,ncmb=100,Bsing=10,B=100,alpha=0.5,singfam=Gaussian(),
evalfam=Gaussian(),sing=FALSE,M=10,m_iter=100,kap=0.1,LS=FALSE,wagg='weights1',gridtype='pigrid',
grid=seq(0.8,0.9,1),robagg=FALSE,lower=0,singcoef=TRUE,Mfinal=10)
cmb3s1$Fin
cmb3s1$Stab
## This will may take around a minute
set.seed(19931023)
cmb3s2&lt;-CMB3S(Dtrain,nsing=80,Dvalid=Dvalid,ncmb=100,Bsing=10,B=100,alpha=0.5,singfam=Rank(),
evalfam=Rank(),sing=TRUE,M=10,m_iter=100,kap=0.1,LS=TRUE,wagg='weights2',gridtype='pigrid',
grid=seq(0.8,0.9,1),robagg=FALSE,lower=0,singcoef=TRUE,Mfinal=10)
cmb3s2$Fin
cmb3s2$Stab
set.seed(19931023)
cmb3s3&lt;-CMB3S(Dtrain,nsing=80,Dvalid=Dvalid,ncmb=100,Bsing=10,B=100,alpha=0.5,singfam=Huber(),
evalfam=Huber(),sing=FALSE,M=10,m_iter=100,kap=0.1,LS=FALSE,wagg='weights2',gridtype='pigrid',
grid=seq(0.8,0.9,1),robagg=FALSE,lower=0,singcoef=FALSE,Mfinal=10)
cmb3s3$Fin
cmb3s3$Stab

</code></pre>


</div>