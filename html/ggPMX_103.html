<div class="container">

<table style="width: 100%;"><tr>
<td>residual_scatter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Scatter residual plots</h2>

<h3>Description</h3>

<p>Scatter residual plots
</p>
<p>DV vs PRED plot
</p>
<p>DV vs IPRED plot
</p>
<p>IWRES vs IPRED plot
</p>
<p>|IWRES| vs IPRED plot
</p>
<p>|IWRES| vs TIME plot
</p>
<p>IWRES vs TIME plot
</p>
<p>NPDE vs TIME plot
</p>
<p>NPDE vs PRED plot
</p>
<p>NPD vs TIME plot
</p>
<p>NPD vs EPRED plot
</p>
<p>NPD vs PRED plot
</p>
<p>CWRES vs TIME plot
</p>
<p>CWRES vs CPRED plot
</p>
<p>CWRES vs PRED plot
</p>


<h3>Usage</h3>

<pre><code class="language-R">residual_scatter(
  sim_blq,
  point,
  is.hline,
  hline,
  dname,
  bloq,
  filter,
  strat.facet,
  facets,
  strat.color,
  trans,
  pmxgpar,
  labels,
  axis.title,
  axis.text,
  ranges,
  is.smooth,
  smooth,
  is.band,
  band,
  is.draft,
  draft,
  is.identity_line,
  identity_line,
  scale_x_log10,
  scale_y_log10,
  color.scales,
  ...
)

pmx_plot_dv_pred(ctr, ...)

pmx_plot_dv_ipred(ctr, ...)

pmx_plot_iwres_ipred(ctr, ...)

pmx_plot_abs_iwres_ipred(ctr, ...)

pmx_plot_abs_iwres_time(ctr, ...)

pmx_plot_iwres_time(ctr, ...)

pmx_plot_npde_time(ctr, ...)

pmx_plot_npde_pred(ctr, ...)

pmx_plot_npd_time(ctr, ...)

pmx_plot_npd_epred(ctr, ...)

pmx_plot_npd_pred(ctr, ...)

pmx_plot_cwres_time(ctr, ...)

pmx_plot_cwres_cpred(ctr, ...)

pmx_plot_cwres_pred(ctr, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sim_blq</code></td>
<td>
<p><code>logical</code> if TRUE uses sim_blq values for plotting. Only for Monolix 2018 and later.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point</code></td>
<td>
<p><code>list</code> geom_point graphical parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is.hline</code></td>
<td>
<p><code>logical</code> if TRUE add horizontal line y=0 ( TRUE by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hline</code></td>
<td>
<p><code>list</code> geom_hline graphical parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dname</code></td>
<td>
<p><code>character</code> name of dataset to be used. User can create his own
dataset using <code>set_data</code> and pass it as dname to be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bloq</code></td>
<td>
<p><code>pmxBLOQ</code> object created by <code>pmx_bloq</code>.
</p>
<p><strong>pmx_update parameters</strong></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p><code>expression</code> filter which will be applied to plotting data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strat.facet</code></td>
<td>
<p><code>formula</code> optional stratification parameter by facetting.
This split plot by strats(each strat in a facet)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facets</code></td>
<td>
<p><code>list</code> facet_wrap parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strat.color</code></td>
<td>
<p><code>character</code> optional stratification parameter by grouping.
This will split the plot by group (color) of strat.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trans</code></td>
<td>
<p><code>character</code> define the transformation to apply on x or y or both variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pmxgpar</code></td>
<td>
<p>a object of class pmx_gpar possibly the output of the
</p>
<p><strong>pmx_gpar: Shared basic graphics parameters</strong></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p><code>list</code> list containing plot and/or axis labels: title, subtitle, x , y</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis.title</code></td>
<td>
<p><code>list</code> containing element_text attributes to customize
the axis title. (similar to ggplot2 axis.title theme)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis.text</code></td>
<td>
<p><code>list</code> containing element_text attributes to customize
the axis text (similar to ggplot2 axis.text theme)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ranges</code></td>
<td>
<p><code>list</code> limits of x/y ranges</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is.smooth</code></td>
<td>
<p><code>logical</code> if set to TRUE add smooth layer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p><code>list</code> geom_smooth graphical/smoothing fun parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is.band</code></td>
<td>
<p><code>logical</code> if TRUE add horizontal band</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>band</code></td>
<td>
<p><code>list</code> horizontal band parameters. geom_hline graphical parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is.draft</code></td>
<td>
<p><code>logical</code> if TRUE add draft layer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draft</code></td>
<td>
<p><code>list</code> draft layer parameters. geom_text graphical parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is.identity_line</code></td>
<td>
<p><code>logical</code> if TRUE add an identity line</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>identity_line</code></td>
<td>
<p><code>list</code>geom_abline graphical parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale_x_log10</code></td>
<td>
<p><code>logical</code> if TRUE use log10 scale for x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale_y_log10</code></td>
<td>
<p><code>logical</code> if TRUE use log10 scale for y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color.scales</code></td>
<td>
<p><code>list</code> define scales parameter in case of strat.color <code>pmx_settings</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>others graphics parameters passed :
</p>

<ul>
<li> <p><code>pmx_gpar</code> internal function to customize shared graphical parameters
</p>
</li>
<li> <p><code>residual</code> generic object for all residual (scatter) plots .
</p>
</li>
<li> <p><code>pmx_update</code> function.
</p>
</li>
<li>
<p> aess can be used to change time variable within the plot (e.g. aess = list(x="TADQBW"))
</p>
</li>
</ul>
<p><strong>residual parameters</strong></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ctr</code></td>
<td>
<p>pmx controller</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>ggplot2 object
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# NOTES ######################
# examples are availables for all residual plots:
# - pmx_plot_abs_iwres_ipred
# - pmx_plot_dv_ipred
# - pmx_plot_dv_pred
# - pmx_plot_iwres_ipred
# - pmx_plot_iwres_time
# - pmx_plot_npde_time


# basic use  ---------------------------------------

ctr &lt;- theophylline()
p &lt;- ctr %&gt;% pmx_plot_dv_pred()
## p is a ggplot2 object you can add any layer here
p + ggplot2::theme_minimal()

# update graphical parameter  ----------------------

## update labels
ctr %&gt;% pmx_plot_dv_pred(
  labels = list(title = "DV versus PRED new title")
)

## remove draft
ctr %&gt;% pmx_plot_dv_pred(is.draft = FALSE)

## remove horizontal line
ctr %&gt;% pmx_plot_dv_pred(is.hline = FALSE)

## custom point aes and static parameters
## we can customize any geom_point parameter
ctr %&gt;% pmx_plot_dv_pred(
  point = list(aes(alpha = DV), color = "green", shape = 4)
)



# stratification  ----------------------------------

## continuous stratification
ctr %&gt;% pmx_plot_dv_pred(strat.color = ~WT0)
## categorical stratification
ctr %&gt;% pmx_plot_dv_pred(strat.facet = ~SEX)
## using formula notation
ctr %&gt;% pmx_plot_dv_pred(strat.facet = STUD~SEX)

# subsetting  --------------------------------------

## we can use any expression involving the data
ctr %&gt;% pmx_plot_dv_pred(filter = DV &gt; mean(DV) &amp; PRED &lt; median(PRED))
## filter and stratify
ctr %&gt;% pmx_plot_dv_pred(filter = SEX == 1, strat.facet = ~SEX)


# transformation  --------------------------------------

## apply a log transformation in y
ctr %&gt;% pmx_plot_dv_pred(trans = "log10_y")

</code></pre>


</div>