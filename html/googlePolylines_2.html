<div class="container">

<table style="width: 100%;"><tr>
<td>encode</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Encode</h2>

<h3>Description</h3>

<p>Encodes coordinates into an encoded polyline.
</p>


<h3>Usage</h3>

<pre><code class="language-R">encode(obj, ...)

## S3 method for class 'sf'
encode(obj, strip = FALSE, ...)

## S3 method for class 'data.frame'
encode(obj, lon = NULL, lat = NULL, byrow = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>either an <code>sf</code> object or <code>data.frame</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters passed to methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strip</code></td>
<td>
<p>logical indicating if <code>sf</code> attributes should be stripped. 
Useful if you want to reduce the size even further, but you will lose the 
spatial attributes associated with the <code>sf</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lon</code></td>
<td>
<p>vector of longitudes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>vector of latitudes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byrow</code></td>
<td>
<p>logical indicating if the encoding should be done for each row</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function assumes Google Web Mercator projection (WSG 84 / EPSG:3857 / EPSG:900913)
for inputs and outputs.
</p>
<p>Will work with
</p>

<ul>
<li>
<p><code>sf</code> and <code>sfc</code> objects directly
</p>
</li>
<li>
<p><code>data.frames</code> - It will attempt to find lat &amp; lon coordinates, 
or you can explicitely define them using the <code>lat</code> and <code>lon</code> arguments
</p>
</li>
</ul>
<h3>Value</h3>

<p><code>sfencoded</code> object
</p>


<h3>Note</h3>

<p>When an <code>sfencoded</code> object is colulmn-subset using <code>`[`</code> and 
the encoded column is retained, the attributes of the column will remain. This 
is different behaviour to standard subsetting of <code>data.frames</code>, where all 
attributes are dropped by default. See examples.
</p>
<p>When encoding an <code>sf</code> object, only the XY dimensions will be used,
the Z or M (3D and/or Measure) dimensions are dropped.
</p>


<h3>See Also</h3>

<p>encodeCoordinates
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## data.frame
df &lt;- data.frame(polygonId = c(1,1,1,1),
  lineId = c(1,1,1,1),
  lon = c(-80.190, -66.118, -64.757, -80.190),
  lat = c(26.774, 18.466, 32.321, 26.774))
  
## on a data.frame, it will attemp to find the lon &amp; lat columns
encode(df)

## use byrow = TRUE to convert each row individually
encode(df, byrow = TRUE)


## Not run: 

## sf objects
library(sf)
nc &lt;- sf::st_read(system.file("shape/nc.shp", package="sf"))

encoded &lt;- encode(nc)

## view attributes
attributes(encoded) 

## view attributes of subset object
attributes(encoded[, c("AREA", "PERIMETER", "geometry")])

## view attributes without encoded column
attributes(encoded[, c("AREA", "PERIMETER")])

## strip attributes
encodedLite &lt;- encode(nc, strip = TRUE)

attributes(encodedLite)

## view attributes of subset lite object
attributes(encodedLite[, c("AREA", "PERIMETER", "geometry")])

## view attributes without encoded column
attributes(encodedLite[, c("AREA", "PERIMETER")])

## End(Not run)

</code></pre>


</div>