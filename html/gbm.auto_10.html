<div class="container">

<table style="width: 100%;"><tr>
<td>gbm.cons</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Conservation Area Mapping</h2>

<h3>Description</h3>

<p>Runs gbm.auto for multiple subsets of the same overall dataset and
scales the combined results, leading to maps which highlight areas of high
conservation importance for multiple species in the same study area e.g.
using juvenile and adult female subsets to locate candidate nursery grounds
and spawning areas respectively.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gbm.cons(
  mygrids,
  subsets,
  alerts = TRUE,
  map = TRUE,
  BnW = TRUE,
  resvars,
  gbmautos = TRUE,
  savedir = tempdir(),
  expvars,
  tcs = NULL,
  lrs = rep(list(c(0.01, 0.005)), length(resvars)),
  bfs = rep(0.5, length(resvars)),
  ZIs = rep("CHECK", length(resvars)),
  colss = rep(list(grey.colors(1, 1, 1)), length(resvars)),
  linesfiless = rep(FALSE, length(resvars)),
  savegbms = rep(TRUE, length(resvars)),
  varints = rep(TRUE, length(resvars)),
  maps = rep(TRUE, length(resvars)),
  RSBs = rep(TRUE, length(resvars)),
  BnWs = rep(TRUE, length(resvars)),
  zeroes = rep(TRUE, length(resvars)),
  shape = NULL,
  pngtype = c("cairo-png", "quartz", "Xlib"),
  gridslat = 2,
  gridslon = 1,
  grids = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mygrids</code></td>
<td>
<p>Gridded lat+long+data object to predict to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsets</code></td>
<td>
<p>Subset name(s): character; single or vector, corresponding to
matching-named dataset objects e.g. read in by read.csv().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alerts</code></td>
<td>
<p>Play sounds to mark progress steps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>Produce maps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BnW</code></td>
<td>
<p>Also produce B&amp;W maps?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resvars</code></td>
<td>
<p>Vector of resvars cols from dataset objects for gbm.autos,
length(subsets)*species, no default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gbmautos</code></td>
<td>
<p>Do gbm.auto runs for species? Default TRUE, set FALSE if
already run and output files in expected directories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savedir</code></td>
<td>
<p>Save outputs to a temporary directory (default) else change to
current directory e.g. "/home/me/folder". Do not use getwd() here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expvars</code></td>
<td>
<p>List object of expvar vectors for gbm.autos, length = no. of
subsets * no. of species. No default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tcs</code></td>
<td>
<p>Gbm.auto parameters, auto-calculated below if not provided by user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lrs</code></td>
<td>
<p>Gbm.auto parameter, uses defaults if not provided by user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bfs</code></td>
<td>
<p>Gbm.auto parameter, uses defaults if not provided by user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ZIs</code></td>
<td>
<p>Gbm.auto parameter, autocalculated below if not provided by user.
Choose one entry.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colss</code></td>
<td>
<p>Gbm.auto parameter, uses defaults if not provided by user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linesfiless</code></td>
<td>
<p>Gbm.auto parameter, uses defaults if not provided by user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savegbms</code></td>
<td>
<p>Gbm.auto parameter, uses defaults if not provided by user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varints</code></td>
<td>
<p>Gbm.auto parameter, uses defaults if not provided by user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maps</code></td>
<td>
<p>Gbm.auto parameter, uses defaults if not provided by user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RSBs</code></td>
<td>
<p>Gbm.auto parameter, uses defaults if not provided by user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BnWs</code></td>
<td>
<p>Gbm.auto parameter, uses defaults if not provided by user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeroes</code></td>
<td>
<p>For breaks.grid, include zero-only category in colour
breakpoints and subsequent legend. Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>Coastline file for gbm.map.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pngtype</code></td>
<td>
<p>File-type for png files, alternatively try "quartz" on Mac.
Choose one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gridslat</code></td>
<td>
<p>Per Gbm.auto defaults to 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gridslon</code></td>
<td>
<p>Per Gbm.auto defaults to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grids</code></td>
<td>
<p>Dummy param for package testing for CRAN, ignore.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Maps via gbm.map &amp; saved data as csv file.
</p>


<h3>Author(s)</h3>

<p>Simon Dedman, <a href="mailto:simondedman@gmail.com">simondedman@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Not run: downloads and saves external data.
data(grids)
gbm.cons(mygrids = grids, subsets = c("Juveniles","Adult_Females"),
         resvars = c(44:47,11:14),
         expvars = list(c(4:11,15,17,21,25,29,37),
                        c(4:11,15,18,22,26,30,38),
                        c(4:11,15,19,23,27,31),
                        c(4:11,15,20,24,28,32,39),
                        4:10, 4:10, 4:10, 4:10),
         tcs = list(c(2,14), c(2,14), 13, c(2,14), c(2,6), c(2,6), 6,
         c(2,6)),
         lrs = list(c(0.01,0.005), c(0.01,0.005), 0.005, c(0.01,0.005),
               0.005, 0.005, 0.001, 0.005),
         ZIs = rep(TRUE, 8),
         savegbms = rep(FALSE, 8),
         varints = rep(FALSE, 8),
         RSBs = rep(FALSE, 8),
         BnWs = rep(FALSE, 8),
         zeroes = rep(FALSE,8))
         

</code></pre>


</div>