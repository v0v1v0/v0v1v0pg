<div class="container">

<table style="width: 100%;"><tr>
<td>mcq</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate GIFT MCQs From Spreadsheet</h2>

<h3>Description</h3>

<p>Create GIFT file with single &amp; multiple answers MCQs from a spreadsheet to be exported to LMS.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mcq(data, questions, answers, categories = NULL, question_names = NULL,
  output, make_answer = FALSE, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>dataframe or tibble of mcq questions data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>questions</code></td>
<td>
<p>name(string) or index(integer) of the questions column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>answers</code></td>
<td>
<p>a vector of names(strings) or indices of answers column(s)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>categories</code></td>
<td>
<p>name(string) or index(integer) of categories column if available, Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>question_names</code></td>
<td>
<p>name(string) or index(integer) of the questions names column. If NULL, it will be the first 40 letters of the question title, Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>string of .txt file name and path where the questions will be exported to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>make_answer</code></td>
<td>
<p>If TRUE, the first column of answers columns will be set as the right answer, Default: FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If TRUE, the functions will print to the console the statistics of writing the output, Default: TRUE</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>mcq</code> function takes a dataframe with multiple choices questions(mcq) and export a text file in 'MOODLE' GIFT format. The function automatically makes an mcq a single answer or multiple answers depends on asterisks present in the answers column. If you have additional column of question_type set to 'mcq' you can also use GIFTr function which wraps all question generating functions.<br><br> See Vignette and GIFTrData for demos.
</p>


<h3>Value</h3>

<p>None
</p>


<h3>Formatting Multiple Choices Questions</h3>



<h4>Specifying mcq answer</h4>

<p>You can specify answers simply using asterisk in a the start on the answer. If you choose more than one answer, the function will generate a multiple answers mcq with every answer holds partial even credit. See GIFTrData for this usage. <br><br> If you intend to <strong>use single answer only</strong>, you might specify 'make_answer' or 'mcq_answer_column' to TRUE, this will consider the first answer column to be the answer. For example, if the answers are in columns c(5,9), the answers will be listed in the first column, 5. See GIFTrData_2 for this usage.</p>



<h3>Formatting Your Data</h3>

<p>A guideline for creating you questions data can be found below. Check the data <code>GIFTrData</code> and  <code>GIFTrData_2</code> as example for formatted questions.
</p>


<h4>Markdown, HTML Support and LATEX support</h4>

<p>'MOODLE' itself supports basic markdown and HTML for questions formatting. So when formatting your data you can use HTML tags like &lt;sub&gt; and &lt;sup&gt;. Also you can use markdown  **bold** or __bold__ and  *italic* or _italic_ ...etc. However it is better a better practice to avoid using asterisk to avoid confusion with MCQ format. For more about the supported markdown see <a href="https://docs.moodle.org/37/en/Markdown">'MOODLE' documentation</a>.
</p>



<h4>LATEX Support</h4>

<p>'MOODLE' also supports inline and block LATEX equations through <a href="https://www.mathjax.org/">mathjax</a>, however you have to be careful with the <a href="https://docs.moodle.org/37/en/GIFT_format#Special_Characters_.7E_.3D_.23_.7B_.7D">special characters</a> like curly brackets // and equal sign = , so you have to use back slash before those to ensure you can import correctly.<br><br> Note that if you see thee data in console, you will find it with 2 backslash \, however that's the escaping of the backslash in R and you write with with single slash normally. Check GIFTrData <code>GIFTrData[11,3]</code>for an example. For further details on LATEX, check <a href="https://docs.moodle.org/23/en/Using_TeX_Notation">'MOODLE' docs</a>.</p>



<h4>Answer Feedback</h4>

<p>You can easily choose to enter a feedback by using #sign after the answer you want to specify a feedback on. Check GIFTrData for examples.</p>



<h4>Data columns</h4>

<p>The data passed would differ slightly according to question type, however generally you need to have: </p>

<ol>
<li>
<p> a column contains question. This cannot contain empty values
</p>
</li>
<li>
<p> answer(s) column(s). This may be multiple columns if you have multiple answers. If you mix single and multiple answer it is better to write the single answer in the first column. If you have <strong>only single answer MCQ and NO multiple answer MCQ</strong>, you can set the answers without asterisk in the first column of the answers columns. More details in the vignette and below.
</p>
</li>
<li>
<p> a column specifying the type of question. The current supported questions are multiple choices, numerical entry, true or false and short answer questions. The should be named 'mcq' , 'num_q' , 'tf_q' and 'short_ans' respectively.
</p>
</li>
<li>
<p> a column specifying categories and subcategories in the 'MOODLE' categories are important when you are preparing a quiz as you may want to specify certain proportions of inclusions. Categories and subcategories are spaced by forward slash like Categ1/subcateg1/subsubcateg1 ...etc.
</p>
</li>
<li>
<p> a column specifying question names. So you can easily enter a certain question names by like certain ID or keyword to make the questions easily on the system. however you don't need to worry about that as automatically if not set, the first 40 letter are set a question name.
</p>
</li>
</ol>
<h3>See Also</h3>

<p><code>GIFTr</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#data with asterisk and multiple answer mcq(Q2 question)
data(GIFTrData)
mcqdata &lt;- GIFTrData[which(GIFTrData$question_type == "mcq"),]

mcq(data = mcqdata, questions = 3,
 answers = c(4:8), categories = 1,
 question_names = 2, output = file.path(tempdir(), "mcq.txt"))
 #No make_answer argument, question_name specified
 #write file "mcq.txt"in tempdir()

#data with no atrisk and no multiple answer mcq
mcqdata_2 &lt;- GIFTrData_2[which(GIFTrData_2$question_type == "mcq"),]

mcq(data = mcqdata_2, questions = 3,
 answers = c(4:8), categories = 1,
 question_names = 2, make_answer = TRUE,
 output = file.path(tempdir(), "mcq_1.txt")) #Answer is in column 4
 #write file "mcq_1.txt"in tempdir()


</code></pre>


</div>