<div class="container">

<table style="width: 100%;"><tr>
<td>Genetic</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
The genetic algorithm for finding similarities between users.
</h2>

<h3>Description</h3>

<p>Finding users' similarity by continuous genetic algorithm directly.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Genetic(ratings, active_user, near_user, Threshold_KNN, max_scour, min_scour,
         PopSize=100, MaxIteration=50, CrossPercent=70, MutatPercent=20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ratings</code></td>
<td>

<p>A rating matrix whose rows are items and columns are users.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>active_user</code></td>
<td>

<p>The id of an active user as an integer greater than zero (for example active_user&lt;-6).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>near_user</code></td>
<td>

<p>The number of neighbor users that obtained from <code>"NewKNN"</code> for the active user.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Threshold_KNN</code></td>
<td>

<p>Maximum number of neighbors.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_scour</code></td>
<td>

<p>The maximum range of ratings.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_scour</code></td>
<td>

<p>The minimum range of ratings.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PopSize</code></td>
<td>

<p>Population size (Number of chromosomes) in <code>Genetic</code> algorithm.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MaxIteration</code></td>
<td>

<p>Number of iterations in <code>Genetic</code> algorithm.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CrossPercent</code></td>
<td>

<p>Percentage of the <code>Genetic</code> algorithm population that participates in the Single-point 
crossover operator to generate new offspring.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MutatPercent</code></td>
<td>

<p>Percentage of the <code>Genetic</code> algorithm population that participates in the mutation.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The fitness function of the genetic algorithm determines the optimality of the neighbor's similarity to the active user. The fitness function is considered the MAE of the RS. The MAE is obtained by comparing the real ratings of users with the predicted ratings that are calculated according to the similarity obtained by the <code>Genetic</code> algorithm.
</p>
<p>The steps of the <code>Genetic</code> algorithm are:
</p>
<p>Selection. Selection is based on elitism. Using this operator, the best member of each population survives and will be present in the next population. In other words, the member with the highest match will automatically be transferred to the new population (elitist <code class="reqn">selection=10\%</code> of the best individuals from each generation). The application of elitism in the genetic algorithm usually improves its efficiency.
</p>
<p>Crossover. Single-point crossover technique is used. The crossover operator is used to produce children. A weight coefficient (crossover probability) of between 0 and 1 (0.8) is considered equal to the length of the parent, and by using follow formulas, two new chromosomes or two children are created.
</p>
<p style="text-align: center;"><code class="reqn">y1=\alpha * x1 + (1-\alpha) * x2</code>
</p>

<p style="text-align: center;"><code class="reqn">y2=\alpha * x2 + (1-\alpha) * x1</code>
</p>

<p><code class="reqn">x1</code> and <code class="reqn">x2</code> are decimal values that represent the parent chromosome. <code class="reqn">\alpha</code> is the weighting factor and, <code class="reqn">y1</code> and <code class="reqn">y2</code> are the children's chromosomes resulting from the parent compound.
</p>
<p>Mutation. Single-point mutation technique is used to introduce diversity. The mutation probability is 0.02. The Gaussian mutation operator is implemented. First, a chromosome is randomly selected from the population, and then one or more of its components is changed according to the Gaussian function using follow formula.
</p>
<p style="text-align: center;"><code class="reqn">y1= x1 + r1 * N(0,1)</code>
</p>

<p><code class="reqn">x1</code> is the similarity value that represents the parent chromosome, <code class="reqn">r1</code> is a random number in the range of 0 and 1 (0.02). N(0,1) is a random number distributed by using the Gaussian distribution.
</p>
<p>The genetic algorithm stops when an individual in the population has a fitness value less than a constant value (for example 0.5).
</p>


<h3>Value</h3>

<p>An object of class <code>"Genetic"</code>, a list with components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>

<p>The call used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim_GA</code></td>
<td>

<p>Similarity obtained from the <code>Genetic</code> algorithm as much as the number of neighbors.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre_GA</code></td>
<td>

<p>Predicted active user ratings for all items.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>item_GA</code></td>
<td>

<p>A set of best-predicted items for the active user.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_MAE_GA</code></td>
<td>

<p>A set of MAEs obtained from each iteration of the <code>Genetic</code> algorithm.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_Genetic</code></td>
<td>

<p>The elapsed time of <code>Genetic</code> algorithm.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Farimah Houshmand Nanehkaran
</p>
<p>Maintainer: Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;
</p>


<h3>References</h3>

<p>Bobadilla, J., Ortega, F., Hernando, A. and Alcala, J. (2011). <em>Improving collaborative filtering recommender system results and performance using genetic algorithms</em>. Knowledge-based systems, vol. 24, no. 8, pp. 1310-1316.
</p>


<h3>Examples</h3>

<pre><code class="language-R">ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)

NewKNN.out  &lt;- NewKNN (ratings, active_user=6, Threshold_KNN=4,
                      max_scour=5, min_scour=1)
                      
Genetic.out &lt;- Genetic (ratings, active_user=6, 
                        near_user=NewKNN.out$near_user, 
                        Threshold_KNN=4, max_scour=5, min_scour=1,
                        PopSize=100, MaxIteration=50, CrossPercent=70, 
                        MutatPercent=20)
</code></pre>


</div>