<div class="container">

<table style="width: 100%;"><tr>
<td>cr_run</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a CloudRun service.</h2>

<h3>Description</h3>

<p>Deploys an existing gcr.io image.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cr_run(
  image,
  name = basename(image),
  allowUnauthenticated = TRUE,
  concurrency = 1,
  port = NULL,
  max_instances = "default",
  memory = "256Mi",
  cpu = 1,
  timeout = 600L,
  region = cr_region_get(),
  projectId = cr_project_get(),
  launch_browser = interactive(),
  env_vars = NULL,
  gcloud_args = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>image</code></td>
<td>
<p>The name of the image to create or use in deployment - <code>gcr.io</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Name for deployment on Cloud Run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allowUnauthenticated</code></td>
<td>
<p>TRUE if can be reached from public HTTP address. If FALSE will configure a service-email called <code>(name)-cloudrun-invoker@(project-id).iam.gserviceaccount.com</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>concurrency</code></td>
<td>
<p>How many connections each container instance can serve. Can be up to 80.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>port</code></td>
<td>
<p>Container port to receive requests at. Also sets the $PORT environment variable. Must be a number between 1 and 65535, inclusive. To unset this field, pass the special value "default".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_instances</code></td>
<td>
<p>the desired maximum nuimber of container instances. "default" is 1000, you can get more if you requested a quota instance.  For Shiny instances on Cloud Run, this needs to be 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>memory</code></td>
<td>
<p>The format for size is a fixed or floating point number followed by a unit: G, M, or K corresponding to gigabyte, megabyte, or kilobyte, respectively, or use the power-of-two equivalents: Gi, Mi, Ki corresponding to gibibyte, mebibyte or kibibyte respectively. The default is 256Mi</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cpu</code></td>
<td>
<p>1 or 2 CPUs for your instance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p>Amount of time that this build should be allowed to run, to second</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>
<p>The endpoint region for deployment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>projectId</code></td>
<td>
<p>The GCP project from which the services should be listed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>launch_browser</code></td>
<td>
<p>Whether to launch the logs URL in a browser once deployed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env_vars</code></td>
<td>
<p>Environment arguments passed to the Cloud Run container at runtime.  Distinct from <code>env</code> that run at build time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gcloud_args</code></td>
<td>
<p>a character string of arguments that can be sent to the gcloud command not covered by other parameters of this function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed on to <code>cr_buildstep_run</code>
</p>

<dl>
<dt></dt>
<dd></dd>
</dl>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Uses Cloud Build to deploy an image to Cloud Run
</p>


<h3>See Also</h3>

<p><a href="https://cloud.google.com/run/">Google Documentation for Cloud Run</a>
</p>
<p>Use cr_deploy_docker or similar to create image, cr_deploy_run to automate building and deploying, cr_deploy_plumber to deploy plumber APIs.
</p>
<p><a href="https://cloud.google.com/build/docs/deploying-builds/deploy-cloud-run">Deploying Cloud Run using Cloud Build</a>
</p>
<p>Other Cloud Run functions: 
<code>cr_jwt_create()</code>,
<code>cr_plumber_pubsub()</code>,
<code>cr_run_email()</code>,
<code>cr_run_get()</code>,
<code>cr_run_list()</code>,
<code>cr_run_schedule_http()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
cr_project_set("my-project")
cr_region_set("europe-west1")
cr_run("gcr.io/my-project/my-image")
cr_run("gcr.io/cloud-tagging-10302018/gtm-cloud-image:stable",
  env_vars = c("CONTAINER_CONFIG=xxxxxxx")
)

## End(Not run)
</code></pre>


</div>