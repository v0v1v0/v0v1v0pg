<div class="container">

<table style="width: 100%;"><tr>
<td>tidy_basis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A tidy basis representation of a smooth object</h2>

<h3>Description</h3>

<p>Takes an object of class <code>mgcv.smooth</code> and returns a tidy representation
of the basis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tidy_basis(smooth, data = NULL, at = NULL, coefs = NULL, p_ident = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>a smooth object of or inheriting from class <code>"mgcv.smooth"</code>.
Typically, such objects are returned as part of a fitted GAM or GAMM in
the <code style="white-space: pre;">⁠$smooth⁠</code> component of the model object or the <code style="white-space: pre;">⁠$gam$smooth⁠</code> component
if the model was fitted by <code>mgcv::gamm()</code> or <code>gamm4::gamm4()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the variables used in <code>smooth</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p>a data frame containing values of the smooth covariate(s) at which
the basis should be evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefs</code></td>
<td>
<p>numeric; an optional vector of coefficients for the smooth</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_ident</code></td>
<td>
<p>logical vector; only used for handling <code>scam::scam()</code> smooths.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble.
</p>


<h3>Author(s)</h3>

<p>Gavin L. Simpson
</p>


<h3>Examples</h3>

<pre><code class="language-R">load_mgcv()

df &lt;- data_sim("eg1", n = 400, seed = 42)

# fit model
m &lt;- gam(y ~ s(x0) + s(x1) + s(x2) + s(x3), data = df, method = "REML")

# tidy representaition of a basis for a smooth definition
# extract the smooth
sm &lt;- get_smooth(m, "s(x2)")
# get the tidy basis - need to pass where we want it to be evaluated
bf &lt;- tidy_basis(sm, at = df)

# can weight the basis by the model coefficients for this smooth
bf &lt;- tidy_basis(sm, at = df, coefs = smooth_coefs(sm, model = m))

</code></pre>


</div>