<div class="container">

<table style="width: 100%;"><tr>
<td>outliers.detect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Detect outliers in a set of geographical coordinates</h2>

<h3>Description</h3>

<p>This function generates pseudo-abscences from an input data.frame
containing latitude and longitude coordinates by using environmental data and
then uses both presences and pseudo-absences to train a SVM model used to 
flag possible outliers for a given species.
</p>


<h3>Usage</h3>

<pre><code class="language-R">outliers.detect(
  longlat,
  training = NULL,
  hi_res = TRUE,
  crop = FALSE,
  threshold = 0.05,
  method = "all"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>longlat</code></td>
<td>
<p>data.frame. With two columns containing latitude and longitude, describing
the locations of a species, which may contain outliers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>training</code></td>
<td>
<p>data.frame. With the same formatting as <code>longlat</code>, indicating only known
locations where a target species occurs. Used exclusively as training data for
method 'svm'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hi_res</code></td>
<td>
<p>logical. Specifies if 1 KM resolution environmental data should be used. 
If <code>FALSE</code> 10 KM resolution data is used instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop</code></td>
<td>
<p>logical. Indicates whether environmental data should be cropped to
an extent similar to what is given in <code>longlat</code> and <code>training</code>. Useful to avoid
large processing times of higher resolutions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>numeric. Value indicating the threshold for classifying 
outliers in methods <code>"geo"</code> and <code>"env"</code>. E.g.: under the default
of 0.05, points that are at an average distance greater than the 95
of the average distances of all points, will be classified as outliers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A string specifying the outlier detection method. <code>"geo"</code> 
calculates the euclidean distance between point coordinates and classifies as
outliers those outside the 0
<code>"env"</code>
performs the same calculation but instead uses the environmental data extracted
from those points. <code>"svm"</code> will use the dataset given to <code>"longlat"</code> and it corresponding
extracted environmental data to train a support vector machine model that then
predicts outliers.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Environmental data used is WorldClim and requires a long download, see
<code>gecko::gecko.setDir()</code>
This function is heavily based on the methods described in Liu et al. (2017). 
There the authors describe SVM_pdSDM, a pseudo-SDM method similar to a 
two-class presence only SVM that is capable of using pseudo-absence points, 
implemented with the ksvm function in the R package kernlab. 
It is suggested that, for each set of <code>"n"</code> occurence 
records, <code>"2 * n"</code> pseudo-absences points are generated.
Whilst using it keep in mind works highlighting limitations such as such as
Meynard et al. (2019). See References section.
</p>


<h3>Value</h3>

<p>list if <code>method = "all"</code>, containing whether or not a given point
was classified as <code>TRUE</code> or <code>FALSE</code> along with the confusion matrix
for the training data. If <code>method = "geo"</code> or 
<code>method = "env"</code> a data.frame is returned.
</p>


<h3>References</h3>

<p>Liu, C., White, M. and Newell, G. (2017) ‘Detecting outliers in species distribution data’, Journal of Biogeography, 45(1), pp. 164–176. doi:10.1111/jbi.13122. <br><br>
Meynard, C.N., Kaplan, D.M. and Leroy, B. (2019) ‘Detecting outliers in species distribution data: Some caveats and clarifications on a virtual species study’, Journal of Biogeography, 46(9), pp. 2141–2144. doi:10.1111/jbi.13626. <br></p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
new_occurences = gecko.data("records")
old_occurences = data.frame(X = runif(10, -17.1, -17.05), Y = runif(10, 32.73, 32.76))
outliers.detect(new_occurences, old_occurences)

## End(Not run)
</code></pre>


</div>