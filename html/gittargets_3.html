<div class="container">

<table style="width: 100%;"><tr>
<td>tar_git_init</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Initialize a data repository (Git).</h2>

<h3>Description</h3>

<p>Initialize a Git repository for a <code>targets</code> data store.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tar_git_init(
  store = targets::tar_config_get("store"),
  stash_gitignore = TRUE,
  git_lfs = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>store</code></td>
<td>
<p>Character of length 1, path to the data store of the pipeline.
If <code>NULL</code>, the <code>store</code> setting is left unchanged in the
YAML configuration file (default: <code style="white-space: pre;">⁠_targets.yaml⁠</code>).
Usually, the data store lives at <code style="white-space: pre;">⁠_targets⁠</code>.
Set <code>store</code> to a custom directory
to specify a path other than <code style="white-space: pre;">⁠_targets/⁠</code>. The path need not exist
before the pipeline begins, and it need not end with "_targets",
but it must be writeable.
For optimal performance, choose a storage location
with fast read/write access.
If the argument <code>NULL</code>, the setting is not modified.
Use <code>tar_config_unset()</code> to delete a setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stash_gitignore</code></td>
<td>
<p>Logical of length 1, whether to temporarily
stash the <code>.gitignore</code> file of the data store. See the
"Stashing .gitignore" section for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>git_lfs</code></td>
<td>
<p>Logical, whether to automatically opt into Git LFS to track
large files in <code style="white-space: pre;">⁠_targets/objects⁠</code> more efficiently. If <code>TRUE</code>
and Git LFS is installed, it should work automatically. If <code>FALSE</code>,
you can always opt in later by running <code style="white-space: pre;">⁠git lfs track objects⁠</code>
inside the data store.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical of length 1, whether to print messages to the
R console.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>tar_git_init()</code> also writes a <code>.gitattributes</code> file to the
store to automatically track target output date with <code>git-lfs</code>
if it is installed on your system.
</p>


<h3>Value</h3>

<p><code>NULL</code> (invisibly).
</p>


<h3>Stashing .gitignore</h3>

<p>The <code>targets</code> package writes a <code>.gitignore</code> file to new data stores
in order to prevent accidental commits to the code Git repository.
Unfortunately, for <code>gittargets</code>, this automatic <code>.gitignore</code> file
interferes with proper data versioning. So by default, <code>gittargets</code>
temporarily stashes it to a hidden file called <code>.gittargets_gitignore</code>
inside the data store. If your R program crashes while the stash
is active, you can simply move it manually back to <code>.gitignore</code>
or run <code>tar_git_status_data()</code> to restore the stash automatically
if no <code>.gitignore</code> already exists.
</p>


<h3>See Also</h3>

<p>Other git: 
<code>tar_git_checkout()</code>,
<code>tar_git_log()</code>,
<code>tar_git_ok()</code>,
<code>tar_git_snapshot()</code>,
<code>tar_git_status_code()</code>,
<code>tar_git_status_data()</code>,
<code>tar_git_status_targets()</code>,
<code>tar_git_status()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (Sys.getenv("TAR_EXAMPLES") == "true" &amp;&amp; tar_git_ok(verbose = FALSE)) {
targets::tar_dir({ # Containing code does not modify the user's file space.
targets::tar_script(tar_target(data, 1))
targets::tar_make()
tar_git_init()
})
}
</code></pre>


</div>