<div class="container">

<table style="width: 100%;"><tr>
<td>prepare_chat_history</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare chat completion prompt</h2>

<h3>Description</h3>

<p>This function prepares the chat completion prompt to be sent to the OpenAI API.
It also generates a system message according to the given parameters and inserts
it at the beginning of the conversation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepare_chat_history(
  history = NULL,
  style = getOption("gptstudio.code_style"),
  skill = getOption("gptstudio.skill"),
  task = "coding",
  custom_prompt = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>history</code></td>
<td>
<p>A list of previous messages in the conversation. This can include
roles such as 'system', 'user', or 'assistant'. System messages are discarded.
Default is NULL.i</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p>The style of code to use. Applicable styles can be
retrieved from the "gptstudio.code_style" option. Default is the
"gptstudio.code_style" option. Options are "base", "tidyverse", or
"no preference".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skill</code></td>
<td>
<p>The skill level of the user for the chat conversation. This
can be set through the "gptstudio.skill" option. Default is the
"gptstudio.skill" option. Options are "beginner", "intermediate",
"advanced", and "genius".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>task</code></td>
<td>
<p>Specifies the task that the assistant will help with. Default is
"coding". Others are "general", "advanced developer", and "custom".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>custom_prompt</code></td>
<td>
<p>This is a custom prompt that may be used to guide the AI in
its responses. Default is NULL. It will be the only content provided to the
system prompt.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list where the first entry is an initial system message followed by any
non-system entries from the chat history.
</p>


</div>