<div class="container">

<table style="width: 100%;"><tr>
<td>api-parray</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Representation of and operations on multidimensional arrays</h2>

<h3>Description</h3>

<p>General representation of multidimensional arrays
(with named dimnames, also called named arrays.)
</p>


<h3>Usage</h3>

<pre><code class="language-R">parray(varNames, levels, values = 1, normalize = "none", smooth = 0)

as.parray(values, normalize = "none", smooth = 0)

data2parray(data, varNames = NULL, normalize = "none", smooth = 0)

makeDimNames(varNames, levels, sep = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>varNames</code></td>
<td>
<p>Names of variables defining table; can be a right hand sided
formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>Either 1) a vector with number of levels of the factors in
varNames or 2) a list with specification of the levels of the factors in
varNames. See 'examples' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>Values to go into the array</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p>Either "none", "first" or "all". Should result be
normalized, see 'Details' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>Should values be smoothed, see 'Details' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data to be coerced to a <code>parray</code>; can be <code>data.frame</code>,
<code>table</code>, <code>xtabs</code>, <code>matrix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>Desired separator in dim names; defaults to "".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A named array object represents a table defined by a set of
variables and their levels, together with the values of the
table. E.g. f(a,b,c) can be a table with a,b,c representing levels
of binary variable
</p>
<p>If <code>normalize="first"</code> then for each configuration of all
other variables than the first, the probabilities are normalized to
sum to one.  Thus f(a,b,c) becomes a conditional probability table
of the form p(a|b,c).
</p>
<p>If <code>normalize="all"</code> then the sum over all entries of f(a,b,c)
is one.
</p>
<p>If <code>smooth</code> is positive then <code>smooth</code> is added to
<code>values</code> before normalization takes place.
</p>


<h3>Value</h3>

<p>A a named array.
</p>


<h3>Author(s)</h3>

<p>Søren Højsgaard, <a href="mailto:sorenh@math.aau.dk">sorenh@math.aau.dk</a>
</p>


<h3>See Also</h3>

<p><code>is.named.array</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"> 
t1 &lt;- parray(c("gender","answer"), list(c('male','female'),c('yes','no')), values=1:4)
t1 &lt;- parray(~gender:answer, list(c('male','female'),c('yes','no')), values=1:4)
t1 &lt;- parray(~gender:answer, c(2,2), values=1:4)

t2 &lt;- parray(c("answer","category"), list(c('yes','no'),c(1,2)), values=1:4+10)
t3 &lt;- parray(c("category","foo"), c(2,2), values=1:4+100)

varNames(t1)
nLevels(t1)
valueLabels(t1)

## Create 1-dimensional vector with dim and dimnames
x1 &lt;- 1:5
as.parray(x1)
x2 &lt;- parray("x", levels=length(x1), values=x1)
dim(x2)
dimnames(x2)

## Matrix
x1 &lt;- matrix(1:6, nrow=2)
as.parray(x1)
parray(~a:b, levels=dim(x1), values=x1)

## Extract parrays from data
## 1) a dataframe
data(cad1) 
data2parray(cad1, ~Sex:AngPec:AMI)
data2parray(cad1, c("Sex","AngPec","AMI"))
data2parray(cad1, c(1,2,3))
## 2) a table
data2parray(UCBAdmissions,c(1,2), normalize="first")
</code></pre>


</div>