<div class="container">

<table style="width: 100%;"><tr>
<td>vsi_stat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get filesystem object info</h2>

<h3>Description</h3>

<p><code>vsi_stat()</code> fetches status information about a filesystem object (file,
directory, etc).
This function goes through the GDAL <code>VSIFileHandler</code> virtualization and may
work on unusual filesystems such as in memory.
It is a wrapper for <code>VSIStatExL()</code> in the GDAL Common Portability Library.
Analog of the POSIX <code>stat()</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">vsi_stat(filename, info = "exists")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>Character string. The path of the filesystem object to be
queried.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info</code></td>
<td>
<p>Character string. The type of information to fetch, one of
<code>"exists"</code> (the default), <code>"type"</code> or <code>"size"</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>info = "exists"</code>, returns logical <code>TRUE</code> if the file system
object exists, otherwise <code>FALSE</code>. If <code>info = "type"</code>, returns a character
string with one of <code>"file"</code> (regular file), <code>"dir"</code> (directory),
<code>"symlink"</code> (symbolic link), or empty string (<code>""</code>). If <code>info = "size"</code>,
returns the file size in bytes (as <code>bit64::integer64</code> type), or <code>-1</code> if an
error occurs.
</p>


<h3>Note</h3>

<p>For portability, <code>vsi_stat()</code> supports a subset of <code>stat()</code>-type
information for filesystem objects. This function is primarily intended
for use with GDAL virtual file systems (e.g., URLs, cloud storage systems,
ZIP/GZip/7z/RAR archives, in-memory files).
The base R function <code>utils::file_test()</code> could be used instead for file
tests on regular local filesystems.
</p>


<h3>See Also</h3>

<p>GDAL Virtual File Systems:<br><a href="https://gdal.org/user/virtual_file_systems.html">https://gdal.org/user/virtual_file_systems.html</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data_dir &lt;- system.file("extdata", package="gdalraster")
vsi_stat(data_dir)
vsi_stat(data_dir, "type")
# stat() on a directory doesn't return the sum of the file sizes in it,
# but rather how much space is used by the directory entry
vsi_stat(data_dir, "size")

elev_file &lt;- file.path(data_dir, "storml_elev.tif")
vsi_stat(elev_file)
vsi_stat(elev_file, "type")
vsi_stat(elev_file, "size")

nonexistent &lt;- file.path(data_dir, "nonexistent.tif")
vsi_stat(nonexistent)
vsi_stat(nonexistent, "type")
vsi_stat(nonexistent, "size")

# /vsicurl/ file system handler
base_url &lt;- "https://raw.githubusercontent.com/usdaforestservice/"
f &lt;- "gdalraster/main/sample-data/landsat_c2ard_sr_mt_hood_jul2022_utm.tif"
url_file &lt;- paste0("/vsicurl/", base_url, f)

vsi_stat(url_file)
vsi_stat(url_file, "type")
vsi_stat(url_file, "size")
</code></pre>


</div>