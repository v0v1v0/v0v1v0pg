<div class="container">

<table style="width: 100%;"><tr>
<td>ratio_summary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summarize the ratio of two variables</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
This helper, to be used with <code>tbl_custom_summary()</code>, creates a function
computing the ratio of two continuous variables and its confidence interval.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ratio_summary(numerator, denominator, na.rm = TRUE, conf.level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>numerator</code></td>
<td>
<p>(<code>string</code>)<br>
String indicating the name of the variable to be summed for computing the numerator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>denominator</code></td>
<td>
<p>(<code>string</code>)<br>
String indicating the name of the variable to be summed
for computing the denominator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>(scalar <code>logical</code>)<br>
Should missing values be removed before summing the numerator
and the denominator? (default is <code>TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>(scalar <code>numeric</code>)<br>
Confidence level for the returned confidence interval.
Must be strictly greater than 0 and less than 1. Default to 0.95, which
corresponds to a 95 percent confidence interval.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Computed statistics:
</p>

<ul>
<li> <p><code>{num}</code> sum of the variable defined by <code>numerator</code>
</p>
</li>
<li> <p><code>{denom}</code> sum of the variable defined by <code>denominator</code>
</p>
</li>
<li> <p><code>{ratio}</code> ratio of <code>num</code> by <code>denom</code>
</p>
</li>
<li> <p><code>{conf.low}</code> lower confidence interval
</p>
</li>
<li> <p><code>{conf.high}</code> upper confidence interval
</p>
</li>
</ul>
<p>Confidence interval is computed with <code>stats::poisson.test()</code>, if and only if
<code>num</code> is an integer.
</p>


<h3>Author(s)</h3>

<p>Joseph Larmarange
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example 1 ----------------------------------
trial |&gt;
  tbl_custom_summary(
    include = c("stage", "grade"),
    by = "trt",
    stat_fns = ~ ratio_summary("response", "ttdeath"),
    statistic = ~"{ratio} [{conf.low}; {conf.high}] ({num}/{denom})",
    digits = ~ c(ratio = 3, conf.low = 2, conf.high = 2),
    overall_row = TRUE,
    overall_row_label = "All stages &amp; grades"
  ) |&gt;
  bold_labels() |&gt;
  modify_footnote(all_stat_cols() ~ "Ratio [95% CI] (n/N)")
</code></pre>


</div>