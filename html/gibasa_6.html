<div class="container">

<table style="width: 100%;"><tr>
<td>build_user_dic</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build user dictionary</h2>

<h3>Description</h3>

<p>Builds a UTF-8 user dictionary from a csv file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">build_user_dic(dic_dir, file, csv_file, encoding)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dic_dir</code></td>
<td>
<p>Directory where the source dictionaries are located.
This argument is passed as '-d' option argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Path to write the user dictionary.
This argument is passed as '-u' option argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>csv_file</code></td>
<td>
<p>Path to an input csv file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>Encoding of input csv files.
This argument is passed as '-f' option argument.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is a wrapper around dictionary compiler of 'MeCab'.
</p>
<p>Note that this function does not support auto assignment of word cost field.
So, you can't leave any word costs as empty in your input csv file.
To estimate word costs, use <code>posDebugRcpp()</code> function.
</p>


<h3>Value</h3>

<p>A <code>TRUE</code> is invisibly returned if dictionary is successfully built.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if (requireNamespace("withr")) {
  # create a sample dictionary in temporary directory
  build_sys_dic(
    dic_dir = system.file("latin", package = "gibasa"),
    out_dir = tempdir(),
    encoding = "utf8"
  )
  # copy the 'dicrc' file
  file.copy(
    system.file("latin/dicrc", package = "gibasa"),
    tempdir()
  )
  # write a csv file and compile it into a user dictionary
  csv_file &lt;- tempfile(fileext = ".csv")
  writeLines(
    c(
      "qa, 0, 0, 5, \u304f\u3041",
      "qi, 0, 0, 5, \u304f\u3043",
      "qu, 0, 0, 5, \u304f",
      "qe, 0, 0, 5, \u304f\u3047",
      "qo, 0, 0, 5, \u304f\u3049"
    ),
    csv_file
  )
  build_user_dic(
    dic_dir = tempdir(),
    file = (user_dic &lt;- tempfile(fileext = ".dic")),
    csv_file = csv_file,
    encoding = "utf8"
  )
  # mocking a 'mecabrc' file to temporarily use the dictionary
  withr::with_envvar(
    c(
      "MECABRC" = if (.Platform$OS.type == "windows") {
        "nul"
      } else {
        "/dev/null"
      },
      "RCPP_PARALLEL_BACKEND" = "tinythread"
    ),
    {
      tokenize("quensan", sys_dic = tempdir(), user_dic = user_dic)
    }
  )
}

</code></pre>


</div>