<div class="container">

<table style="width: 100%;"><tr>
<td>action_age</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gadget3 age action</h2>

<h3>Description</h3>

<p>Add ageing actions to a g3 model
</p>


<h3>Usage</h3>

<pre><code class="language-R">g3a_age(
        stock,
        output_stocks = list(),
        output_ratios = rep(1/length(output_stocks),
        times = length(output_stocks)),
        run_f = ~cur_step_final,
        run_at = g3_action_order$age,
        transition_at = g3_action_order$age)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>stock</code></td>
<td>

<p><code>g3_stock</code> to age.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_stocks</code></td>
<td>

<p>List of <code>g3_stock</code>s that oldest specimens in <var>stock</var> should move into.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_ratios</code></td>
<td>

<p>Vector of proportions for how to distribute into <var>output_stocks</var>, default evenly spread.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>run_f</code></td>
<td>

<p>formula specifying a condition for running this action, default is end of model year.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>run_at</code></td>
<td>

<p>Integer order that actions will be run within model, see <code>g3_action_order</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transition_at</code></td>
<td>

<p>Integer order that transition actions will be run within model, see <code>g3_action_order</code>.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An action (i.e. list of formula objects) that will, for the given <var>stock</var>...</p>

<ol>
<li>
<p>Move the final age group into temporary storage, <code>stock__transitioning_num</code> / <code>stock__transitioning_wgt</code>
</p>
</li>
<li>
<p>Move the contents of all other age groups into the age group above
</p>
</li>
<li>
<p>Move the contents of the temporary storage into <var>output_stocks</var>
</p>
</li>
</ol>
<p>If <var>stock</var> has only one age, and <var>output_stocks</var> has been specified, then the contentes will be moved,
if <var>output_stocks</var> is empty, then the action will do nothing.
</p>


<h3>See Also</h3>

<p><a href="https://gadget-framework.github.io/gadget2/userguide/chap-stock.html#sec:stockmature">https://gadget-framework.github.io/gadget2/userguide/chap-stock.html#sec:stockmature</a>,
<code>g3_stock</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
ling_imm &lt;- g3_stock('ling_imm', seq(20, 156, 4)) %&gt;% g3s_age(3, 10)
ling_mat &lt;- g3_stock('ling_mat', seq(20, 156, 4)) %&gt;% g3s_age(5, 15)

# Ageing for immature ling
age_action &lt;- g3a_age(ling_imm,
    output_stocks = list(ling_mat))
</code></pre>


</div>