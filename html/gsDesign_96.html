<div class="container">

<table style="width: 100%;"><tr>
<td>toInteger</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Translate group sequential design to integer events (survival designs)
or sample size (other designs)</h2>

<h3>Description</h3>

<p>Translate group sequential design to integer events (survival designs)
or sample size (other designs)
</p>


<h3>Usage</h3>

<pre><code class="language-R">toInteger(x, ratio = 0, roundUpFinal = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>gsDesign</code> or <code>gsSurv</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio</code></td>
<td>
<p>A non-negative integer, usually corresponding to experimental:control sample size ratio. 
Rounding is done to a multiple of <code>ratio + 1</code>. If input <code>x</code> has class <code>gsSurv</code> (design for time-to-event outcome),
and <code>x$ratio</code> is a whole number, <code>ratio</code> is replaced by <code>x$ratio</code>.
See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>roundUpFinal</code></td>
<td>
<p>Final value in returned <code>n.I</code> is rounded up
if <code>TRUE</code>; otherwise, just rounded. For <code>gsSurv</code> input, final total sample size is also controlled by this. See details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>ratio = 3</code>, rounding for final sample size is done to a multiple of 3 + 1 = 4. 
For a <code>gsSurv</code> object input in <code>x</code>, event counts output in <code>n.I</code> are rounded to nearest integer and 
final total sample size is rounded to a multiple of <code>ratio + 1</code>.
For other input values of <code>x</code> (<code>gsDesign</code> class), <code>n.I</code> is interpreted as sample size; 
final value is rounded to a multiple of <code>ratio + 1</code>, with <code>roundUpFinal</code> controlling rounding of last value.
</p>


<h3>Value</h3>

<p>Output is an object of the same class as input <code>x</code>; i.e., <code>gsDesign</code> with integer vector for <code>n.I</code>
or <code>gsSurv</code> with integer vector <code>n.I</code> and integer total sample size. See details.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># The following code derives the group sequential design using the method
# of Lachin and Foulkes

x &lt;- gsSurv(
  k = 3,                 # 3 analyses
  test.type = 4,         # Non-binding futility bound 1 (no futility bound) and 4 are allowable
  alpha = .025,          # 1-sided Type I error
  beta = .1,             # Type II error (1 - power)
  timing = c(0.45, 0.7), # Proportion of final planned events at interims
  sfu = sfHSD,           # Efficacy spending function
  sfupar = -4,           # Parameter for efficacy spending function
  sfl = sfLDOF,          # Futility spending function; not needed for test.type = 1
  sflpar = 0,            # Parameter for futility spending function
  lambdaC = .001,        # Exponential failure rate
  hr = 0.3,              # Assumed proportional hazard ratio (1 - vaccine efficacy = 1 - VE)
  hr0 = 0.7,             # Null hypothesis VE
  eta = 5e-04,           # Exponential dropout rate
  gamma = 10,            # Piecewise exponential enrollment rates
  R = 16,                # Time period durations for enrollment rates in gamma
  T = 24,                # Planned trial duration
  minfup = 8,            # Planned minimum follow-up
  ratio = 3              # Randomization ratio (experimental:control)
)
# Convert bounds to exact binomial bounds
toInteger(x, ratio = 3)
</code></pre>


</div>