<div class="container">

<table style="width: 100%;"><tr>
<td>cr_build_yaml</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a cloudbuild Yaml object in R</h2>

<h3>Description</h3>

<p>This can be written to disk or used directly with functions such as cr_build
</p>


<h3>Usage</h3>

<pre><code class="language-R">cr_build_yaml(
  steps,
  timeout = NULL,
  logsBucket = NULL,
  options = NULL,
  substitutions = NULL,
  tags = NULL,
  secrets = NULL,
  availableSecrets = NULL,
  images = NULL,
  artifacts = NULL,
  serviceAccount = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>steps</code></td>
<td>
<p>A vector of cr_buildstep</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p>How long the entire build will run. If not set will be 10mins</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logsBucket</code></td>
<td>
<p>Where logs are written.  If you don't set this field, Cloud Build will use a default bucket to store your build logs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>A named list of options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>substitutions</code></td>
<td>
<p>Build macros that will replace entries in other elements</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tags</code></td>
<td>
<p>Tags for the build</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>secrets</code></td>
<td>
<p>A secrets object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>availableSecrets</code></td>
<td>
<p>What environment arguments from Secret Manager are available to the build - create via cr_build_yaml_secrets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>images</code></td>
<td>
<p>What images will be build from this cloudbuild</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>artifacts</code></td>
<td>
<p>What artifacts may be built from this cloudbuild - create via cr_build_yaml_artifact</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>serviceAccount</code></td>
<td>
<p>What service account should the build be run under?</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><a href="https://cloud.google.com/build/docs/build-config-file-schema">Build configuration overview for cloudbuild.yaml</a>
</p>
<p>Other Cloud Build functions: 
<code>Build()</code>,
<code>RepoSource()</code>,
<code>Source()</code>,
<code>StorageSource()</code>,
<code>cr_build_artifacts()</code>,
<code>cr_build_list()</code>,
<code>cr_build_logs()</code>,
<code>cr_build_make()</code>,
<code>cr_build_status()</code>,
<code>cr_build_targets()</code>,
<code>cr_build_upload_gcs()</code>,
<code>cr_build_wait()</code>,
<code>cr_build_write()</code>,
<code>cr_build_yaml_artifact()</code>,
<code>cr_build_yaml_secrets()</code>,
<code>cr_build()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">cr_project_set("my-project")
image &lt;- "gcr.io/my-project/my-image"
cr_build_yaml(
  steps = c(
    cr_buildstep("docker", c("build", "-t", image, ".")),
    cr_buildstep("docker", c("push", image)),
    cr_buildstep("gcloud", c("beta", "run", "deploy", "test1", "--image", image))
  ),
  images = image
)
</code></pre>


</div>