<div class="container">

<table style="width: 100%;"><tr>
<td>summary.spendfn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Spending Function</h2>

<h3>Description</h3>

<p>Spending Function
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'spendfn'
summary(object, ...)

spendingFunction(alpha, t, param)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A spendfn object to be summarized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Real value <code class="reqn">&gt; 0</code> and no more than 1. Defaults in calls to
<code>gsDesign()</code> are <code>alpha=0.025</code> for one-sided Type I error
specification and <code>alpha=0.1</code> for Type II error specification.
However, this could be set to 1 if, for descriptive purposes, you wish to
see the proportion of spending as a function of the proportion of sample
size/information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>A vector of points with increasing values from 0 to 1, inclusive.
Values of the proportion of sample size/information for which the spending
function will be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>A single real value or a vector of real values specifying the
spending function parameter(s); this must be appropriately matched to the
spending function specified.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>spendingFunction</code> and spending functions in general produce an
object of type <code>spendfn</code>.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A character string with the name of the spending function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>any parameters used for the spending function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parname</code></td>
<td>
<p>a character string or strings with the name(s) of
the parameter(s) in <code>param</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sf</code></td>
<td>
<p>the spending function specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spend</code></td>
<td>
<p>a vector of cumulative spending values corresponding to
the input values in <code>t</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bound</code></td>
<td>
<p>this is null when returned from the spending function,
but is set in <code>gsDesign()</code> if the spending function is called
from there.  Contains z-values for bounds of a design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>this is null when returned from the spending function,
but is set in <code>gsDesign()</code> if the spending function is called
from there.  Contains probabilities of boundary crossing at <code>i</code>-th
analysis for <code>j</code>-th theta value input to <code>gsDesign()</code> in
<code>prob[i,j]</code>.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>The gsDesign technical manual is available at
<a href="https://keaven.github.io/gsd-tech-manual/">https://keaven.github.io/gsd-tech-manual/</a>.
</p>


<h3>Author(s)</h3>

<p>Keaven Anderson <a href="mailto:keaven_anderson@merck.com">keaven_anderson@merck.com</a>
</p>


<h3>References</h3>

<p>Jennison C and Turnbull BW (2000), <em>Group Sequential
Methods with Applications to Clinical Trials</em>. Boca Raton: Chapman and Hall.
</p>


<h3>See Also</h3>

<p><code>gsDesign</code>, <code>sfHSD</code>, <code>sfPower</code>,
<code>sfLogistic</code>, <code>sfExponential</code>,
<code>sfTruncated</code>, <code>vignette("gsDesignPackageOverview")</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example 1: simple example showing what most users need to know

# Design a 4-analysis trial using a Hwang-Shih-DeCani spending function
# for both lower and upper bounds
x &lt;- gsDesign(k = 4, sfu = sfHSD, sfupar = -2, sfl = sfHSD, sflpar = 1)

# Print the design
x
# Summarize the spending functions
summary(x$upper)
summary(x$lower)

# Plot the alpha- and beta-spending functions
plot(x, plottype = 5)

# What happens to summary if we used a boundary function design
x &lt;- gsDesign(test.type = 2, sfu = "OF")
y &lt;- gsDesign(test.type = 1, sfu = "WT", sfupar = .25)
summary(x$upper)
summary(y$upper)

# Example 2: advanced example: writing a new spending function
# Most users may ignore this!

# Implementation of 2-parameter version of
# beta distribution spending function
# assumes t and alpha are appropriately specified (does not check!)
sfbdist &lt;- function(alpha, t, param) {
  # Check inputs
  checkVector(param, "numeric", c(0, Inf), c(FALSE, TRUE))
  if (length(param) != 2) {
    stop(
      "b-dist example spending function parameter must be of length 2"
    )
  }

  # Set spending using cumulative beta distribution and return
  x &lt;- list(
    name = "B-dist example", param = param, parname = c("a", "b"),
    sf = sfbdist, spend = alpha *
      pbeta(t, param[1], param[2]), bound = NULL, prob = NULL
  )

  class(x) &lt;- "spendfn"

  x
}

# Now try it out!
# Plot some example beta (lower bound) spending functions using
# the beta distribution spending function
t &lt;- 0:100 / 100
plot(
  t, sfbdist(1, t, c(2, 1))$spend,
  type = "l",
  xlab = "Proportion of information",
  ylab = "Cumulative proportion of total spending",
  main = "Beta distribution Spending Function Example"
)
lines(t, sfbdist(1, t, c(6, 4))$spend, lty = 2)
lines(t, sfbdist(1, t, c(.5, .5))$spend, lty = 3)
lines(t, sfbdist(1, t, c(.6, 2))$spend, lty = 4)
legend(
  x = c(.65, 1), y = 1 * c(0, .25), lty = 1:4,
  legend = c("a=2, b=1", "a=6, b=4", "a=0.5, b=0.5", "a=0.6, b=2")
)
</code></pre>


</div>