<div class="container">

<table style="width: 100%;"><tr>
<td>gjamTrimY</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trim gjam response data</h2>

<h3>Description</h3>

<p>Returns a <code>list</code> that includes a subset of columns in <code>y</code>.  Rare species can be aggregated into a single class.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  gjamTrimY(y, minObs = 2, maxCols = NULL, OTHER = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p><code>n</code> by <code>S</code> numeric response <code>matrix</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minObs</code></td>
<td>
<p>minimum number of non-zero observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxCols</code></td>
<td>
<p>maximum number of response variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OTHER</code></td>
<td>
<p><code>logical</code> or <code>character</code> string.  If <code>OTHER = TRUE</code>, rare species are aggregated in a new column <code>'other'</code>.  A <code>character</code> vector contains the names of columns in <code>y</code> to be aggregated with rare species in the new column <code>'other'</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Data sets commonly have many responses that are mostly zeros, large numbers of rare species, even singletons.  Response matrix <code>y</code> can be trimmed to include only taxa having <code>&gt; minObs</code> non-zero observations or to <code>&lt;= maxCol</code> total columns.  The option <code>OTHER</code> is recommended for composition data ('CC', 'FC'), where the <code>'other'</code> column is taken as the reference class.  If there are unidentified species they might be included in this class.  [See <code>gjamSimData</code> for <code>typeName</code> codes].  
</p>


<h3>Value</h3>

<p>Returns a <code>list</code> containing three elements.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>trimmed version of <code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colIndex</code></td>
<td>
<p>length-<code>S vector</code> of indices for new columns in <code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nobs</code></td>
<td>
<p>number of non-zero observations by column in <code>y</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>James S Clark, <a href="mailto:jimclark@duke.edu">jimclark@duke.edu</a>
</p>


<h3>References</h3>

<p>Clark, J.S., D. Nemergut, B. Seyednasrollah, P. Turner, and S. Zhang. 2017. 
Generalized joint attribute modeling for biodiversity analysis: Median-zero, multivariate, multifarious data. Ecological Monographs 87, 34-56.
</p>


<h3>See Also</h3>

<p><code>gjamSimData</code> simulates data
<code>gjam</code> analyzes data
</p>
<p>A more detailed vignette is can be obtained with:
</p>
<p><code>browseVignettes('gjam')</code>
</p>
<p>web site 'http://sites.nicholas.duke.edu/clarklab/code/'.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(repmis)
source_data("https://github.com/jimclarkatduke/gjam/blob/master/forestTraits.RData?raw=True")

y   &lt;- gjamReZero(fungEnd$yDeZero)     # re-zero data
dim(y)
y   &lt;- gjamTrimY(y, minObs = 200)$y    # species in &gt;= 200 observations
dim(y)
tail(colnames(y))    # last column is 'other'

## End(Not run)
</code></pre>


</div>