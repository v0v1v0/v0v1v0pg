<div class="container">

<table style="width: 100%;"><tr>
<td>emis_to_dt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert emission estimates from list to data.table format</h2>

<h3>Description</h3>

<p>Read emission estimates generated by the <code>emission_model</code> or from
emission factor functions (e.g. <code>ef_brazil_cetesb</code>) and convert
them into a <code>data.table</code> format.
</p>


<h3>Usage</h3>

<pre><code class="language-R">emis_to_dt(
  emi_list,
  emi_vars = "emi",
  veh_vars = "veh_type",
  pol_vars = "pollutant",
  segment_vars = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>emi_list</code></td>
<td>
<p>list. A list of emission estimates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>emi_vars</code></td>
<td>
<p>character. data.frame names of 'emi_list' object attributed
to emissions or  emission factors. Default is 'emi'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>veh_vars</code></td>
<td>
<p>character. data.frame names of 'emi_list' object attributed
to vehicle characteristics. Default is 'veh_type'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pol_vars</code></td>
<td>
<p>character. data.frame names of 'emi_list' object attributed
to pollutants. Default is 'pollutant'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segment_vars</code></td>
<td>
<p>character. data.frame names of 'emi_list' object
attributed to the road segments. Default is NULL.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data.table.
</p>


<h3>See Also</h3>

<p>Other emission analysis: 
<code>emis_grid()</code>,
<code>emis_summary()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(gtfs2emis)
library(gtfstools)

# read GTFS
gtfs_file &lt;- system.file("extdata/bra_cur_gtfs.zip", package = "gtfs2emis")
gtfs &lt;- gtfstools::read_gtfs(gtfs_file) 

# keep a single trip_id to speed up this example
gtfs_small &lt;- gtfstools::filter_by_trip_id(gtfs, trip_id ="4451136")
  
# run transport model
tp_model &lt;- transport_model(gtfs_data = gtfs_small,
                            min_speed = 2,
                            max_speed = 80,
                            new_speed = 20,
                            spatial_resolution = 100,
                            parallel = FALSE)

# Example using Brazilian emission model and fleet
fleet_data_ef_cetesb &lt;- data.frame(veh_type = "BUS_URBAN_D",
                                   model_year = 2010:2019,
                                   fuel = "D",
                                   fleet_composition = rep(0.1,10)
                                   )
                                   
emi_list &lt;- emission_model(
                tp_model = tp_model,
                ef_model = "ef_brazil_cetesb",
                fleet_data = fleet_data_ef_cetesb,
                pollutant = c("CO","PM10","CO2","CH4","NOx")
                )

# convert emission list to data.table
dt &lt;- emis_to_dt(emi_list)

</code></pre>


</div>