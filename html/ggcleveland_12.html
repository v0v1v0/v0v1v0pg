<div class="container">

<table style="width: 100%;"><tr>
<td>gg_coplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Conditional plots</h2>

<h3>Description</h3>

<p>Implements conditional plots or coplots.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gg_coplot(
  df,
  x,
  y,
  faceting,
  number_bins = 6,
  overlap = 0.5,
  equal_length = TRUE,
  loess = TRUE,
  loess_span = 3/4,
  loess_degree = 1,
  loess_family = "gaussian",
  ylabel = quo_text(y),
  xlabel = quo_text(x),
  facet_label = quo_text(faceting),
  facet_labeller = NULL,
  show_intervals = TRUE,
  intervals_height = 0.25,
  remove_strip = FALSE,
  facets_nrow = NULL,
  hline_at = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric variable for x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>numeric variable for y-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>faceting</code></td>
<td>
<p>faceting numeric variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number_bins</code></td>
<td>
<p>integer; the number of conditioning intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overlap</code></td>
<td>
<p>numeric &lt; 1; the fraction of overlap of the conditioning
variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>equal_length</code></td>
<td>
<p>if 'overlap = 0' non overlaping intervals are produced
all with same length if 'equal_length' is 'TRUE' (default) or with the same
number of values otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loess</code></td>
<td>
<p>logical; should a loess smoothing curve be added to the coplots?
Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loess_span</code></td>
<td>
<p>span parameter for loess</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loess_degree</code></td>
<td>
<p>degree parameter for loess</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loess_family</code></td>
<td>
<p>famiyly argument for the loess() function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylabel</code></td>
<td>
<p>label for y-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabel</code></td>
<td>
<p>label for x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_label</code></td>
<td>
<p>label for faceting variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_labeller</code></td>
<td>
<p>defaults to NULL so facet labels are automatically
produced, but can take a fuction to be used in 'facet_wrap(~faceting,
labeller = labeller(faceting = facet_labeler))'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_intervals</code></td>
<td>
<p>logical; should the overlapping intervals be shown on
their own panel on the top of the figure? Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intervals_height</code></td>
<td>
<p>numeric between 0 and 1, relative size of the
intervals pane</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_strip</code></td>
<td>
<p>logical; should de facets have no strips with labels?
Default to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facets_nrow</code></td>
<td>
<p>integer; number of rows for the facets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hline_at</code></td>
<td>
<p>numeric; if provide a horizontal line will be added at that
heigth</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>addtional parameters passed to geom_point()</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the number of bins is equal to the number of unique values in the
faceting variable, then no overlaping intervals are produced and each value
in the faceting variable is used as a slice ('frac' is ingored).
</p>
<p>If 'overlap = 0' then 'ggplot2::cut_interval' is used to generate
the intervals if 'equal_length = TRUE' (default), otherwise
'ggplot2::cut_number' is used. If 'overlap' is not zero,
'graphics::co.interval' is called.
</p>


<h3>Value</h3>

<p>a coplot
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(ruber)

# Slicing con intervalos solapados
gg_coplot(rubber, x = tensile.strength, y = abrasion.loss, faceting = hardness,
  number_bins = 6, overlap = 3/4,
  ylabel = "Pérdida de abrasión (g/hp-hour))",
  xlabel = "Resistencia a la tracción (kg/cm2)",
  facet_label = "Dureza (grados Shore)", loess_family = "symmetric", size = 2)

# Slicing con los valores únicos de la variable de faceting
gg_coplot(galaxy, x = posicion.radial, y = velocidad,
  faceting = angulo, number_bins = 7, loess_span = .5, loess_degree = 2,
  facet_labeller = function(x) paste0("Ángulo = ", x, "º"),
  facet_label = "Ángulo (grado)", facets_nrow = 2, intervals_height = 0.2,
  xlabel = "Posición radial (arcsec)", ylabel = "Velocidad (km/s)")

data(galaxy)
gg_coplot(galaxy, x = este.oeste, y = norte.sur, faceting = velocidad,
  number_bins = 25, overlap = 0,  size = 0.5,
  ylabel = "Coordenada sur-norte jittered (arcsec)",
  xlabel = "Coordenada este-oeste jittered (arcsec)",
  facet_label = "Velocidad (km/s)", facets_nrow = 5,
  remove_strip = TRUE, intervals_height = 0.15, loess = FALSE)
</code></pre>


</div>