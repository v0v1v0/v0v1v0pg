<div class="container">

<table style="width: 100%;"><tr>
<td>vec_fmt_percent</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Format a vector as percentage values</h2>

<h3>Description</h3>

<p>With numeric values in vector, we can perform percentage-based formatting. It
is assumed that numeric values in the input vector are proportional values
and, in this case, the values will be automatically multiplied by <code>100</code>
before decorating with a percent sign (the other case is accommodated though
setting the <code>scale_values</code> to <code>FALSE</code>). For more control over percentage
formatting, we can use the following options:
</p>

<ul>
<li>
<p> percent sign placement: the percent sign can be placed after or
before the values and a space can be inserted between the symbol and the
value.
</p>
</li>
<li>
<p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li>
<p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li>
<p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li>
<p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">vec_fmt_percent(
  x,
  decimals = 2,
  drop_trailing_zeros = FALSE,
  drop_trailing_dec_mark = TRUE,
  scale_values = TRUE,
  use_seps = TRUE,
  accounting = FALSE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  incl_space = FALSE,
  placement = "right",
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>2</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale_values</code></td>
<td>
<p><em>Multiply input values by 100</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Should the values be scaled through multiplication by 100? By default this
scaling is performed since the expectation is that incoming values are
usually proportional. Setting to <code>FALSE</code> signifies that the values are
already scaled and require only the percent sign when formatted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accounting</code></td>
<td>
<p><em>Use accounting style</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to use accounting style for values. Normally, negative values
will be shown with a minus sign but using accounting style will instead put
any negative values in parentheses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.
This option is disregarded when using accounting notation with
<code>accounting = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incl_space</code></td>
<td>
<p><em>Include a space between the value and the % sign</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option for whether to include a space between the value and the percent
sign. The default is to not introduce a space character.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>placement</code></td>
<td>
<p><em>Percent sign placement</em>
</p>
<p><code style="white-space: pre;">⁠singl-kw:[right|left]⁠</code> // <em>default:</em> <code>"right"</code>
</p>
<p>This option governs the placement of the percent sign. This can be either
be <code>"right"</code> (the default) or <code>"left"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code>info_locales()</code> for a
useful reference for all of the locales that are supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">⁠singl-kw:[auto|plain|html|latex|rtf|word]⁠</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(0.0052, 0.08, 0, -0.535, NA)
</pre></div>
<p>Using <code>vec_fmt_percent()</code> with the default options will create a character
vector where the resultant percentage values have two decimal places and <code>NA</code>
values will render as <code>"NA"</code>. The rendering context will be autodetected
unless specified in the <code>output</code> argument (here, it is of the <code>"plain"</code>
output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0.52%" "8.00%" "0.00%" "-53.50%" "NA"
</pre></div>
<p>We can change the decimal mark to a comma, and we have to be sure to change
the digit separator mark from the default comma to something else (a period
works here):
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals, sep_mark = ".", dec_mark = ",")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0,52%" "8,00%" "0,00%" "-53,50%" "NA"
</pre></div>
<p>If we are formatting for a different locale, we could supply the locale ID
and let <strong>gt</strong> handle these locale-specific formatting options:
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals, locale = "pt")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0,52%" "8,00%" "0,00%" "-53,50%" "NA"
</pre></div>
<p>There are many options for formatting values. Perhaps you need to have
explicit positive and negative signs? Use <code>force_sign = TRUE</code> for that.
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals, force_sign = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "+0.52%" "+8.00%" "0.00%" "-53.50%" "NA"
</pre></div>
<p>Those trailing zeros past the decimal mark can be stripped out by using the
<code>drop_trailing_zeros</code> option.
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals, drop_trailing_zeros = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0.52%" "8%" "0%" "-53.5%" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals, pattern = "{x}wt")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0.52%wt" "8.00%wt" "0.00%wt" "-53.50%wt" "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code>fmt_percent()</code>.
</p>
<p>Other vector formatting functions: 
<code>vec_fmt_bytes()</code>,
<code>vec_fmt_currency()</code>,
<code>vec_fmt_date()</code>,
<code>vec_fmt_datetime()</code>,
<code>vec_fmt_duration()</code>,
<code>vec_fmt_engineering()</code>,
<code>vec_fmt_fraction()</code>,
<code>vec_fmt_index()</code>,
<code>vec_fmt_integer()</code>,
<code>vec_fmt_markdown()</code>,
<code>vec_fmt_number()</code>,
<code>vec_fmt_partsper()</code>,
<code>vec_fmt_roman()</code>,
<code>vec_fmt_scientific()</code>,
<code>vec_fmt_spelled_num()</code>,
<code>vec_fmt_time()</code>
</p>


</div>