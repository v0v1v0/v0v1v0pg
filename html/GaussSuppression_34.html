<div class="container">

<table style="width: 100%;"><tr>
<td>PrimaryFromSuppressedData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
<code>primary</code> and <code>forced</code> from suppressed data</h2>

<h3>Description</h3>

<p>Function for <code>GaussSuppressionFromData</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">PrimaryFromSuppressedData(
  x,
  crossTable,
  suppressedData,
  forcedData = FALSE,
  totCode = FindTotCode2(x, crossTable),
  ...
)

ForcedFromSuppressedData(..., forcedData = TRUE)

NotPrimaryFromSuppressedData(..., forcedData = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A (sparse) dummy matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crossTable</code></td>
<td>
<p>crossTable generated by parent function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suppressedData</code></td>
<td>
<p>A data frame or a list of data frames as output from <code>GaussSuppressionFromData</code>.
If the variable <code>suppressed</code> is not included, all rows are considered suppressed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forcedData</code></td>
<td>
<p>When <code>TRUE</code>, the suppressed coding is swapped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>totCode</code></td>
<td>
<p>A named list of totals codes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Unused parameters</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>ForcedFromSuppressedData</code>  uses <code>forcedData = TRUE</code> and hence a  vector to be use as forced is generated.
<code>NotPrimaryFromSuppressedData</code> is similar, but <code>TRUE</code> elements are replaced by <code>NA</code>'s.
Hence the result can be used as an extra primary vector to ensure that code combinations
not suppressed according to <code>suppressedData</code> are forced not to be primary suppressed.
</p>
<p>The variables used in <code>suppressedData</code> in addition to <code>"suppressed"</code> are those with matching names in <code>crossTable</code>. Others are ignored.
For variables in <code>crossTable</code> not in <code>suppressedData</code>, only totals are considered.
Others rows are ignored when mathing with <code>suppressedData</code>.
</p>
<p>When suppressedData is a list, the final result is the union of individual results of each data frame.
</p>


<h3>Value</h3>

<p>Logical vector to be used as <code>GaussSuppression</code> input
</p>


<h3>Examples</h3>

<pre><code class="language-R">
z2 &lt;- SSBtoolsData("z2")

# Data to be used as suppressedData
a &lt;- GaussSuppressionFromData(z2, c(1, 3, 4), 5, protectZeros = FALSE)

# For alternative ways to suppress the same table
b1 &lt;- GaussSuppressionFromData(z2, 1:4, 5)
b2 &lt;- GaussSuppressionFromData(z2, 1:4, 5, primary = c(PrimaryDefault, PrimaryFromSuppressedData),
                               suppressedData = a)
b3 &lt;- GaussSuppressionFromData(z2, 1:4, 5, primary = c(PrimaryDefault, PrimaryFromSuppressedData),
                               suppressedData = a, forced = ForcedFromSuppressedData)
b4 &lt;- GaussSuppressionFromData(z2, 1:4, 5, 
             primary = c(PrimaryDefault, PrimaryFromSuppressedData, NotPrimaryFromSuppressedData),
                               suppressedData = a, forced = ForcedFromSuppressedData)

# Reducing data to rows mathing a
b1r &lt;- b1[SSBtools::Match(a[1:2], b1[1:2]), ]
b2r &lt;- b2[SSBtools::Match(a[1:2], b2[1:2]), ]
b3r &lt;- b3[SSBtools::Match(a[1:2], b3[1:2]), ]
b4r &lt;- b4[SSBtools::Match(a[1:2], b4[1:2]), ]


# Look at rows where new suppression is different from that in a  

# Both TRUE and FALSE changed
cbind(a, b1r)[b1r$suppressed != a$suppressed, c(1:5, 9:10)]

# Only  FALSE changed to TRUE (suppression is preserved)
cbind(a, b2r)[b2r$suppressed != a$suppressed, c(1:5, 9:10)]

# Only change is due to new primary suppression rule (protectZeros = TRUE) 
cbind(a, b3r)[b3r$suppressed != a$suppressed, c(1:5, 9:10)]

# No changes 
cbind(a, b4r)[b4r$suppressed != a$suppressed, c(1:5, 9:10)]


</code></pre>


</div>