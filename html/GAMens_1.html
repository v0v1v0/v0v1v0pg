<div class="container">

<table style="width: 100%;"><tr>
<td>GAMens</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Applies the GAMbag, GAMrsm or GAMens ensemble classifier to a data set</h2>

<h3>Description</h3>

<p>Fits the GAMbag, GAMrsm or GAMens ensemble algorithms for binary
classification using generalized additive models as base classifiers.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GAMens(formula, data, rsm_size = 2, autoform = FALSE, iter = 10, df = 4,
  bagging = TRUE, rsm = TRUE, fusion = "avgagg")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula, as in the <code>gam</code> function. Smoothing splines
are supported as nonparametric smoothing terms, and should be indicated by
<code>s</code>. See the documentation of <code>s</code> in the <code>gam</code> package for
its arguments. The <code>GAMens</code> function also provides the possibility for
automatic <code>formula</code> specification. See 'details' for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame in which to interpret the variables named in
<code>formula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsm_size</code></td>
<td>
<p>an integer, the number of variables to use for random
feature subsets used in the Random Subspace Method. Default is 2.  If
<code>rsm=FALSE</code>, the value of <code>rsm_size</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autoform</code></td>
<td>
<p>if <code>FALSE</code> (default), the model specification in
<code>formula</code> is used. If <code>TRUE</code>, the function triggers automatic
<code>formula</code> specification. See 'details' for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>an integer, the number of base classifiers (GAMs) in the
ensemble. Defaults to <code>iter=10</code> base classifiers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>an integer, the number of degrees of freedom (df) used for
smoothing spline estimation. Its value is only used when <code>autoform =
TRUE</code>. Defaults to <code>df=4</code>. Its value is ignored if a formula is
specified and <code>autoform</code> is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bagging</code></td>
<td>
<p>enables Bagging if value is <code>TRUE</code> (default). If
<code>FALSE</code>, Bagging is disabled. Either <code>bagging</code>, <code>rsm</code> or both
should be <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsm</code></td>
<td>
<p>enables Random Subspace Method (RSM) if value is <code>TRUE</code>
(default). If <code>FALSE</code>, RSM is disabled. Either <code>bagging</code>,
<code>rsm</code> or both should be <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fusion</code></td>
<td>
<p>specifies the fusion rule for the aggregation of member
classifier outputs in the ensemble. Possible values are <code>'avgagg'</code>
(default), <code>'majvote'</code>, <code>'w.avgagg'</code> or <code>'w.majvote'</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>GAMens</code> function applies the GAMbag, GAMrsm or GAMens ensemble
classifiers (De Bock et al., 2010) to a data set. GAMens is the default with
(<code>bagging=TRUE</code> and <code>rsm=TRUE</code>. For GAMbag, <code>rsm</code> should be
specified as <code>FALSE</code>.  For GAMrsm, <code>bagging</code> should be
<code>FALSE</code>.
</p>
<p>The <code>GAMens</code> function provides the possibility for automatic formula
specification. In this case, dichotomous variables in <code>data</code> are
included as linear terms, and other variables are assumed continuous,
included as nonparametric terms, and estimated by means of smoothing
splines. To enable automatic formula specification, use the generic formula
<code>[response variable name]~.</code> in combination with <code>autoform =
TRUE</code>. Note that in this case, all variables available in <code>data</code> are
used in the model. If a formula other than <code>[response variable name]~.</code>
is specified then the <code>autoform</code> option is automatically overridden. If
<code>autoform=FALSE</code> and the generic formula <code>[response variable
name]~.</code> is specified then the GAMs in the ensemble will not contain
nonparametric terms (i.e., will only consist of linear terms).
</p>
<p>Four alternative fusion rules for member classifier outputs can be
specified. Possible values are <code>'avgagg'</code> for average aggregation
(default), <code>'majvote'</code> for majority voting, <code>'w.avgagg'</code> for
weighted average aggregation, or <code>'w.majvote'</code> for weighted majority
voting.  Weighted approaches are based on member classifier error rates.
</p>


<h3>Value</h3>

<p>An object of class <code>GAMens</code>, which is a list with the following
components: </p>
<table>
<tr style="vertical-align: top;">
<td><code>GAMs</code></td>
<td>
<p>the member GAMs in the ensemble.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>the
formula used tot create the <code>GAMens</code> object.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>the
ensemble size. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>number of degrees of freedom (df) used for
smoothing spline estimation. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsm</code></td>
<td>
<p>indicates whether the Random
Subspace Method was used to create the <code>GAMens</code> object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bagging</code></td>
<td>
<p>indicates whether bagging was used to create the
<code>GAMens</code> object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsm_size</code></td>
<td>
<p>the number of variables used for
random feature subsets. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fusion_method</code></td>
<td>
<p>the fusion rule that was used
to combine member classifier outputs in the ensemble. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>the
class membership probabilities, predicted by the ensemble classifier.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>the class predicted by the ensemble classifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples</code></td>
<td>
<p>an array indicating, for every base classifier in the
ensemble, which observations were used for training. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>a
vector with weights defined as (1 - error rate). Usage depends upon
specification of <code>fusion_method</code>. </p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Koen W. De Bock <a href="mailto:kdebock@audencia.com">kdebock@audencia.com</a>, Kristof Coussement
<a href="mailto:K.Coussement@ieseg.fr">K.Coussement@ieseg.fr</a> and Dirk Van den Poel
<a href="mailto:Dirk.VandenPoel@ugent.be">Dirk.VandenPoel@ugent.be</a>
</p>


<h3>References</h3>

<p>De Bock, K.W. and Van den Poel, D. (2012):
"Reconciling Performance and Interpretability in Customer Churn Prediction Modeling
Using Ensemble Learning Based on Generalized Additive Models".
Expert Systems With Applications, Vol 39, 8, pp. 6816–6826.
</p>
<p>De Bock, K. W., Coussement, K. and Van den Poel, D. (2010):
"Ensemble Classification based on generalized additive models".
Computational Statistics &amp; Data Analysis, Vol 54, 6, pp. 1535–1546.
</p>
<p>Breiman, L. (1996): "Bagging predictors". Machine Learning, Vol 24, 2, pp.
123–140.
</p>
<p>Hastie, T. and Tibshirani, R. (1990): "Generalized Additive Models", Chapman
and Hall, London.
</p>
<p>Ho, T. K. (1998): "The random subspace method for constructing decision
forests". IEEE Transactions on Pattern Analysis and Machine Intelligence,
Vol 20, 8, pp. 832–844.
</p>


<h3>See Also</h3>

<p><code>predict.GAMens</code>, <code>GAMens.cv</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

## Load data (mlbench library should be loaded)
library(mlbench)
data(Ionosphere)
IonosphereSub&lt;-Ionosphere[,c("V1","V2","V3","V4","V5","Class")]

## Train GAMens using all variables in Ionosphere dataset
Ionosphere.GAMens &lt;- GAMens(Class~., IonosphereSub ,4 , autoform=TRUE,
iter=10 )

## Compare classification performance of GAMens, GAMrsm and GAMbag ensembles,
## using 4 nonparametric terms and 2 linear terms
Ionosphere.GAMens &lt;- GAMens(Class~s(V3,4)+s(V4,4)+s(V5,3)+s(V6,5)+V7+V8,
Ionosphere ,3 , autoform=FALSE, iter=10 )

Ionosphere.GAMrsm &lt;- GAMens(Class~s(V3,4)+s(V4,4)+s(V5,3)+s(V6,5)+V7+V8,
Ionosphere ,3 , autoform=FALSE, iter=10, bagging=FALSE, rsm=TRUE )

Ionosphere.GAMbag &lt;- GAMens(Class~s(V3,4)+s(V4,4)+s(V5,3)+s(V6,5)+V7+V8,
Ionosphere ,3 , autoform=FALSE, iter=10, bagging=TRUE, rsm=FALSE )

## Calculate AUCs (for function colAUC, load caTools library)
library(caTools)
GAMens.auc &lt;- colAUC(Ionosphere.GAMens[[9]], Ionosphere["Class"]=="good",
plotROC=FALSE)
GAMrsm.auc &lt;- colAUC(Ionosphere.GAMrsm[[9]], Ionosphere["Class"]=="good",
plotROC=FALSE)
GAMbag.auc &lt;- colAUC(Ionosphere.GAMbag[[9]], Ionosphere["Class"]=="good",
plotROC=FALSE)

</code></pre>


</div>