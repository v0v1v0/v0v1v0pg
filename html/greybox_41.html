<div class="container">

<table style="width: 100%;"><tr>
<td>dsrboot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data Shape Replication Bootstrap</h2>

<h3>Description</h3>

<p>The function implements a bootstrap inspired by the Maximum Entropy Bootstrap
</p>


<h3>Usage</h3>

<pre><code class="language-R">dsrboot(y, nsim = 100, intermittent = TRUE, type = c("multiplicative",
  "additive"), kind = c("nonparametric", "parametric"), lag = frequency(y),
  sd = NULL, scale = TRUE)

## S3 method for class 'dsrboot'
plot(x, sorted = FALSE, legend = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The original time series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>Number of iterations (simulations) to run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intermittent</code></td>
<td>
<p>Whether to treat the demand as intermittent or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of bootstrap to use. <code>"additive"</code> means that the randomness is
added, while <code>"multiplicative"</code> implies the multiplication.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kind</code></td>
<td>
<p>A kind of the bootstrap to do: nonparametric or parametric. The latter
relies on the normal distribution, while the former uses the empirical distribution of
differences of the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>The lag to use in the calculation of differences. Should be 1 for non-seasonal
data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd</code></td>
<td>
<p>Standard deviation to use in the normal distribution. Estimated as mean absolute
differences of the data if omitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Whether or not to do scaling of time series to the bootstrapped ones to have
similar variance to the original data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The object of the class dsrboot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sorted</code></td>
<td>
<p>Whether the sorted (<code>TRUE</code>) or the original (<code>FALSE</code>)
data should be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>Whether to produce the legend on the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters passed to the plot function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The "Data Shape Replication" bootstrap reproduces the shape of the original time series
by creating randomness around it. It is done in the following steps:
</p>
<p>1. Sort the data in the ascending order, recording the original order of elements;
2. Take first differences of the original data and sort them;
3. Generate random numbers from the uniform distribution between 0 and 1;
4. Get the smoothed differences that correspond to the random numbers (randomly extract
empirical quantiles). This way we take the empirical density into account when
selecting the differences;
5. Add the random differences to the sorted series from (1) to get a new time series;
6. Sort the new time series in the ascending order;
7. Reorder (6) based on the initial order of series;
8. Centre the data around the original series;
9. Scale the data to make sure that the variance is constant over time.
</p>
<p>If the multiplicative bootstrap is used then logarithms of the sorted series
are used and at the very end, the exponent of the resulting data is taken. This way the
discrepancies in the data have similar scale no matter what the level of the original
series is. In case of the additive bootstrap, the trended series will be noisier when
the level of series is low.
</p>


<h3>Value</h3>

<p>The function returns:
</p>

<ul>
<li> <p><code>call</code> - the call that was used originally;
</p>
</li>
<li> <p><code>data</code> - the original data used in the function;
</p>
</li>
<li> <p><code>boot</code> - the matrix with the new series in columns and observations in rows.
</p>
</li>
<li> <p><code>type</code> - type of the bootstrap used.
</p>
</li>
<li> <p><code>sd</code> - the value of sd used in case of parameteric bootstrap.
</p>
</li>
<li> <p><code>scale</code> - whether the scaling was needed.
</p>
</li>
<li> <p><code>smooth</code> - the smoothed ordered actual data.</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Ivan Svetunkov, <a href="mailto:ivan@svetunkov.ru">ivan@svetunkov.ru</a>
</p>


<h3>References</h3>

<p>Vinod HD, López-de-Lacalle J (2009). "Maximum Entropy Bootstrap for Time Series:
The meboot R Package." Journal of Statistical Software, 29(5), 1–19. <a href="https://doi.org/10.18637/jss.v029.i05">doi:10.18637/jss.v029.i05</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">dsrboot(AirPassengers) |&gt; plot()

</code></pre>


</div>