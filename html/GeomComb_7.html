<div class="container">

<table style="width: 100%;"><tr>
<td>comb_EIG4</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trimmed Bias-Corrected Eigenvector Forecast Combination</h2>

<h3>Description</h3>

<p>Computes forecast combination weights according to the trimmed bias-corrected  eigenvector approach by Hsiao and Wan (2014) and produces forecasts for the test set, if provided.
</p>


<h3>Usage</h3>

<pre><code class="language-R">comb_EIG4(x, ntop_pred = NULL, criterion = "RMSE")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>foreccomb</code>. Contains training set (actual values + matrix of model forecasts) and optionally a test set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntop_pred</code></td>
<td>
<p>Specifies the number of retained predictors. If <code>NULL</code> (default), the inbuilt optimization algorithm selects this number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>If <code>ntop_pred</code> is not specified, a selection criterion is required for the optimization algorithm: one of "MAE", "MAPE",
or "RMSE". If <code>ntop_pred</code> is selected by the user, <code>criterion</code> should be set to <code>NULL</code> (default).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The underlying methodology of the trimmed bias-corrected eigenvector approach by Hsiao and Wan (2014) is the same as their
<code>bias-corrected eigenvector approach</code>. The only difference is that the bias-corrected trimmed eigenvector approach
pre-selects the models that serve as input for the forecast combination, only a subset of the available forecast models is retained,
while the models with the worst performance are discarded.
</p>
<p>The number of retained forecast models is controlled via <code>ntop_pred</code>. The user can choose whether to select this number, or leave the selection
to the inbuilt optimization algorithm (in that case <code>ntop_pred = NULL</code>). If the optimization algorithm should select the best number of
retained models, the user must select the optimization <code>criterion</code>: MAE, MAPE, or RMSE. After this trimming step, the weights, the intercept and the
combined forecast are computed in the same way as in the <code>bias-corrected eigenvector approach</code>.
</p>
<p>The bias-corrected trimmed eigenvector approach combines the strengths of the <br><code>bias-corrected eigenvector approach</code> and the <code>trimmed eigenvector approach</code>.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>foreccomb_res</code> with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Method</code></td>
<td>
<p>Returns the used forecast combination method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Models</code></td>
<td>
<p>Returns the individual input models that were used for the forecast combinations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Intercept</code></td>
<td>
<p>Returns the intercept (bias correction).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Weights</code></td>
<td>
<p>Returns the combination weights obtained by applying the combination method to the training set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Top_Predictors</code></td>
<td>
<p>Number of retained predictors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ranking</code></td>
<td>
<p>Ranking of the predictors that determines which models are removed in the trimming step.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Fitted</code></td>
<td>
<p>Returns the fitted values of the combination method for the training set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Accuracy_Train</code></td>
<td>
<p>Returns range of summary measures of the forecast accuracy for the training set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Forecasts_Test</code></td>
<td>
<p>Returns forecasts produced by the combination method for the test set. Only returned if input included a forecast matrix for the test set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Accuracy_Test</code></td>
<td>
<p>Returns range of summary measures of the forecast accuracy for the test set. Only returned if input included a forecast matrix and a vector of actual values for the test set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Input_Data</code></td>
<td>
<p>Returns the data forwarded to the method.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Christoph E. Weiss and Gernot R. Roetzer
</p>


<h3>References</h3>

<p>Hsiao, C., and Wan, S. K. (2014). Is There An Optimal Forecast Combination? <em>Journal of Econometrics</em>, <b>178(2)</b>, 294â€“309.
</p>


<h3>See Also</h3>

<p><code>comb_EIG2</code>
<code>comb_EIG3</code>
<code>foreccomb</code>,
<code>plot.foreccomb_res</code>,
<code>summary.foreccomb_res</code>,
<code>accuracy</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">obs &lt;- rnorm(100)
preds &lt;- matrix(rnorm(1000, 1), 100, 10)
train_o&lt;-obs[1:80]
train_p&lt;-preds[1:80,]
test_o&lt;-obs[81:100]
test_p&lt;-preds[81:100,]

## Number of retained models selected by the user:
data&lt;-foreccomb(train_o, train_p, test_o, test_p)
comb_EIG4(data, ntop_pred = 2, criterion = NULL)

## Number of retained models selected by algorithm:
data&lt;-foreccomb(train_o, train_p, test_o, test_p)
comb_EIG4(data, ntop_pred = NULL, criterion = "RMSE")

</code></pre>


</div>