<div class="container">

<table style="width: 100%;"><tr>
<td>wlr_weight</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Weight functions for weighted log-rank test</h2>

<h3>Description</h3>


<ul>
<li> <p><code>wlr_weight_fh</code> is Fleming-Harrington, FH(rho, gamma) weight function.
</p>
</li>
<li> <p><code>wlr_weight_1</code>  is constant for log rank test.
</p>
</li>
<li> <p><code>wlr_weight_power</code> is Gehan-Breslow and Tarone-Ware weight function.
</p>
</li>
<li> <p><code>wlr_weight_mb</code> is Magirr (2021) weight function.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">wlr_weight_fh(x, arm0, arm1, rho = 0, gamma = 0, tau = NULL)

wlr_weight_1(x, arm0, arm1)

wlr_weight_n(x, arm0, arm1, power = 1)

wlr_weight_mb(x, arm0, arm1, tau = NULL, wmax = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector of numeric values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arm0</code></td>
<td>
<p>An <code>arm</code> object defined in the npsurvSS package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arm1</code></td>
<td>
<p>An <code>arm</code> object defined in the npsurvSS package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>A scalar parameter that controls the type of test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>A scalar parameter that controls the type of test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>A scalar parameter of the cut-off time for modest weighted log rank test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>A scalar parameter that controls the power of the weight function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wmax</code></td>
<td>
<p>A scalar parameter of the cut-off weight for modest weighted log rank test.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of weights.
</p>
<p>A vector of weights.
</p>
<p>A vector of weights.
</p>
<p>A vector of weights.
</p>


<h3>Specification</h3>


<p>The contents of this section are shown in PDF user manual only.
</p>


<h3>Examples</h3>

<pre><code class="language-R">enroll_rate &lt;- define_enroll_rate(
  duration = c(2, 2, 10),
  rate = c(3, 6, 9)
)

fail_rate &lt;- define_fail_rate(
  duration = c(3, 100),
  fail_rate = log(2) / c(9, 18),
  hr = c(.9, .6),
  dropout_rate = .001
)

gs_arm &lt;- gs_create_arm(enroll_rate, fail_rate, ratio = 1)
arm0 &lt;- gs_arm$arm0
arm1 &lt;- gs_arm$arm1

wlr_weight_fh(1:3, arm0, arm1, rho = 0, gamma = 0, tau = NULL)
enroll_rate &lt;- define_enroll_rate(
  duration = c(2, 2, 10),
  rate = c(3, 6, 9)
)

fail_rate &lt;- define_fail_rate(
  duration = c(3, 100),
  fail_rate = log(2) / c(9, 18),
  hr = c(.9, .6),
  dropout_rate = .001
)

gs_arm &lt;- gs_create_arm(enroll_rate, fail_rate, ratio = 1)
arm0 &lt;- gs_arm$arm0
arm1 &lt;- gs_arm$arm1

wlr_weight_1(1:3, arm0, arm1)
enroll_rate &lt;- define_enroll_rate(
  duration = c(2, 2, 10),
  rate = c(3, 6, 9)
)

fail_rate &lt;- define_fail_rate(
  duration = c(3, 100),
  fail_rate = log(2) / c(9, 18),
  hr = c(.9, .6),
  dropout_rate = .001
)

gs_arm &lt;- gs_create_arm(enroll_rate, fail_rate, ratio = 1)
arm0 &lt;- gs_arm$arm0
arm1 &lt;- gs_arm$arm1

wlr_weight_n(1:3, arm0, arm1, power = 2)
enroll_rate &lt;- define_enroll_rate(
  duration = c(2, 2, 10),
  rate = c(3, 6, 9)
)

fail_rate &lt;- define_fail_rate(
  duration = c(3, 100),
  fail_rate = log(2) / c(9, 18),
  hr = c(.9, .6),
  dropout_rate = .001
)

gs_arm &lt;- gs_create_arm(enroll_rate, fail_rate, ratio = 1)
arm0 &lt;- gs_arm$arm0
arm1 &lt;- gs_arm$arm1

wlr_weight_mb(1:3, arm0, arm1, tau = -1, wmax = 1.2)
</code></pre>


</div>