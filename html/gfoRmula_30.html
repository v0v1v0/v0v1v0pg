<div class="container">

<table style="width: 100%;"><tr>
<td>obs_calculate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate Observed Covariate Means and Risk</h2>

<h3>Description</h3>

<p>This internal function calculates the mean observed values of covariates at each time point, as well as mean
observed risk.
</p>


<h3>Usage</h3>

<pre><code class="language-R">obs_calculate(
  outcome_name,
  compevent_name,
  compevent2_name,
  censor_name,
  time_name,
  id,
  covnames,
  covtypes,
  comprisk,
  comprisk2,
  censor,
  fitD2,
  fitC,
  outcome_type,
  obs_data,
  ipw_cutoff_quantile,
  ipw_cutoff_value
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>outcome_name</code></td>
<td>
<p>Character string specifying the name of the outcome variable in <code>obs_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compevent_name</code></td>
<td>
<p>Character string specifying the name of the competing event variable in <code>obs_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compevent2_name</code></td>
<td>
<p>Character string specifying the name of the competing event variable in <code>obs_data</code> if competing events are treated as censoring events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censor_name</code></td>
<td>
<p>Character string specifying the name of the censoring variable in <code>obs_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_name</code></td>
<td>
<p>Character string specifying the name of the time variable in <code>obs_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Character string specifying the name of the ID variable in <code>obs_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covnames</code></td>
<td>
<p>Vector of character strings specifying the names of the time-varying covariates in <code>obs_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covtypes</code></td>
<td>
<p>Vector of character strings specifying the "type" of each time-varying covariate included in <code>covnames</code>. The possible "types" are: <code>"binary"</code>, <code>"normal"</code>, <code>"categorical"</code>, <code>"bounded normal"</code>, <code>"zero-inflated normal"</code>, <code>"truncated normal"</code>, <code>"absorbing"</code>, <code>"categorical time"</code>, and <code>"custom"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comprisk</code></td>
<td>
<p>Logical scalar indicating the presence of a competing event.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comprisk2</code></td>
<td>
<p>Logical scalar indicating whether competing events are treated as censoring events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censor</code></td>
<td>
<p>Logical scalar indicating the presence of a censoring variable in <code>obs_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitD2</code></td>
<td>
<p>Model fit for the competing event variable if competing events are treated as censoring events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitC</code></td>
<td>
<p>Model fit for the censoring variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome_type</code></td>
<td>
<p>Character string specifying the "type" of the outcome. The possible "types" are: <code>"survival"</code>, <code>"continuous_eof"</code>, and <code>"binary_eof"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs_data</code></td>
<td>
<p>Data table containing the observed data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ipw_cutoff_quantile</code></td>
<td>
<p>Percentile by which to truncate inverse probability weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ipw_cutoff_value</code></td>
<td>
<p>Cutoff value by which to truncate inverse probability weights.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list. Its first entry is a list of mean covariate values at each time point;
its second entry is a vector of the mean observed risk (for <code>"survival"</code>
outcome types) or the mean observed outcome (for <code>"continuous_eof"</code> and
<code>"binary_eof"</code> outcome types); for <code>"survival"</code> outcome types, its
third entry is a vector of mean observed survival.
</p>


</div>