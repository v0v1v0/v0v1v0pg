<div class="container">

<table style="width: 100%;"><tr>
<td>google_snapToRoads</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Snap To Roads</h2>

<h3>Description</h3>

<p>Takes up to 100 GPS coordinates collected along a route and returns a similar set of data,
with the points snapped to the most likely roads the vehicle was treveling along
</p>


<h3>Usage</h3>

<pre><code class="language-R">google_snapToRoads(
  df_path,
  lat = NULL,
  lon = NULL,
  interpolate = FALSE,
  simplify = TRUE,
  curl_proxy = NULL,
  key = get_api_key("roads")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df_path</code></td>
<td>
<p><code>data.frame</code> with at least two columns specifying the latitude &amp; longitude coordinates,
with a maximum of 100 pairs of coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>string specifying the column of <code>df_path</code> containing the
'latitude' coordinates. If left NULL, a best-guess will be made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lon</code></td>
<td>
<p>string specifying the column of <code>df_path</code> containing the '
longitude' coordinates. If left NULL, a best-guess will be made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interpolate</code></td>
<td>
<p>logical indicating whether to interpolate a path to
include all points forming the full road-geometry.
When <code>TRUE</code>, additional interpolated points will also be returned, resulting in a path
that smoothly follows the geometry of the road, even around corners and through
tunnels. Interpolated paths will most likely contain more ponts that the original path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be coerced into a list.
FALSE indicates the returend JSON will be returned as a string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p><code>string</code> A valid Google Developers Places API key</p>
</td>
</tr>
</table>
<h3>API use and limits</h3>

<p>The amount of queries you can make to Google's APIs is dependent on both the service
and the API you are using.
</p>
<p>Each API has specific quotas and limits. Check Google's API documentation for details.
</p>
<p>View your usage at the Google Cloud Console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>
</p>
<p>Each API can only accept and return one request at a time. If you write a loop
to make multiple API calls you should ensure you don't go over your quota / limits
during the loop.
</p>


<h3>Note</h3>

<p>The snapping algorithm works best for points that are not too far apart.
If you observe odd snapping behaviour, try creating paths that have points closer together.
To ensure the best snap-to-road quality, you should aim to provide paths on which consecutive
pairs of points are within 300m of each other. This will also help in handling any
isolated, long jumps between consecutive points caused by GPS signal loss or noise.
</p>


<h3>See Also</h3>

<p>google_nearestRoads
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

key &lt;- 'your_api_key'

df_path &lt;- read.table(text = "lat lon
-35.27801 149.12958
-35.28032 149.12907
-35.28099 149.12929
-35.28144 149.12984
-35.28194 149.13003
-35.28282 149.12956
-35.28302 149.12881
-35.28473 149.12836", header = T)

google_snapToRoads(df_path, key = key, interpolate = TRUE, simplify = TRUE)



## End(Not run)
</code></pre>


</div>