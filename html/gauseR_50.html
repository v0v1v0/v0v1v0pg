<div class="container">

<table style="width: 100%;"><tr>
<td>ode_prediction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Optimizer extension</h2>

<h3>Description</h3>

<p>Takes in paramter values in the form returned by the gause_wrapper function,
and calculates expected abundances for all n species, returned as a single vector.
This function is potentially useful in combination with other optimizer software,
e.g. as might be used for hypothesis testing.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ode_prediction(pars_full, time, N)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pars_full</code></td>
<td>
<p>Initial Population Size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>A vector of times. Must be repeated once per species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>Number of species. Can be either a number, or a vector the same length as time.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a stacked vector with predicted abundances for all species
</p>


<h3>Examples</h3>

<pre><code class="language-R">#load competition data
data("gause_1934_science_f02_03")

#subset out data from species grown in mixture
mixturedat&lt;-gause_1934_science_f02_03[gause_1934_science_f02_03$Treatment=="Mixture",]

#extract time and species data
time&lt;-mixturedat$Day
species&lt;-data.frame(mixturedat$Volume_Species1, mixturedat$Volume_Species2)
colnames(species)&lt;-c("P_caudatum", "P_aurelia")


#run wrapper
gause_out&lt;-gause_wrapper(time=time, species=species)

# number of species
N&lt;-ncol(gause_out$rawdata)-1
# parameters
pars_full&lt;-c(gause_out$parameter_intervals$mu)
# data.frame for optimization
fittigdata&lt;-data.frame(y=unlist(gause_out$rawdata[,-1]),
                       time=gause_out$rawdata$time,
                       N=N)

yest&lt;-ode_prediction(pars_full, time=fittigdata$time, N=fittigdata$N)
plot(fittigdata$y, yest, xlab="observation", ylab="prediction")
abline(a=0, b=1, lty=2)

#example of how to apply function, using nls()
mod&lt;-nls(y~ode_prediction(pars_full, time, N),
           start = list(pars_full=pars_full),
           data=fittigdata)
summary(mod)

</code></pre>


</div>