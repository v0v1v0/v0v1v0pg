<div class="container">

<table style="width: 100%;"><tr>
<td>tr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
A interface function to use rpart() function within GAMLSS
</h2>

<h3>Description</h3>

<p>The tr() function is a additive function to be used for GAMLSS models. It is an interface for the <code>rpart()</code> function of package <code>rpart</code>. The function tr() allows the user to use regression trees within gamlss. The great advantage of course comes from the fact GAMLSS models provide a variety of distributions and diagnostics. Note that the function gamlss.tr is not used by the user but it needed for the backfitting.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tr(formula, method = c("rpart"), control = rpart.control(...), ...)
gamlss.tr(x, y, w, xeval = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula containing the expolanatory variables i.e. <code>~x1+x2+x3</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>only method "rpart" is supported at the moment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p> control here is equivalent to <code>rpart.control()</code> function od package <code>rpart</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object passing informatio to the function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>the iterative y variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>the iterative weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xeval</code></td>
<td>
<p>whether prediction or not is used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that, the gamlss fit maybe would not coverged. Also occasianly  the <code>gd.tol</code> argument in <code>gamlss</code> has to be increased. The 
</p>


<h3>Value</h3>

<p>Note that <code>tr</code> itself does no smoothing; it simply sets things up for the function <code>gamlss()</code> which in turn uses the function <code>additive.fit()</code> for backfitting which in turn uses <code>gamlss.tr()</code>
The result is a <code>rpart</code> object.
</p>


<h3>Author(s)</h3>

<p>Mikis Stasinopoulos <a href="mailto:mikis.stasinopoulos@gamlss.org">mikis.stasinopoulos@gamlss.org</a>, Bob Rigby  based on work of Therneau and Atkison (2015)
</p>


<h3>References</h3>

<p>Rigby, R. A. and  Stasinopoulos D. M. (2005). Generalized additive models for location, scale and shape,(with discussion), 
<em>Appl. Statist.</em>, <b>54</b>, part 3, pp 507-554.
</p>
<p>Rigby R.A., Stasinopoulos D. M., Heller G., and De Bastiani F., (2019) <em>Distributions for Modeling Location, Scale and Shape: Using GAMLSS in R</em>, Chapman and Hall/CRC.
</p>
<p>Ripley, B. D. (1996) <em>Pattern Recognition and Neural Networks</em>. Cambridge. 
</p>
<p>Stasinopoulos D. M. Rigby R.A. (2007) Generalized additive models for location scale and shape (GAMLSS) in R.
<em>Journal of Statistical Software</em>, <b>23</b>(7), 1â€“46, <a href="https://doi.org/10.18637/jss.v023.i07">doi:10.18637/jss.v023.i07</a>
</p>
<p>Stasinopoulos D. M., Rigby R.A., Heller G., Voudouris V., and De Bastiani F., (2017) <em>Flexible Regression and Smoothing: Using GAMLSS in R</em>, Chapman and Hall/CRC. 
</p>
<p>(see also <a href="https://www.gamlss.com/">https://www.gamlss.com/</a>).
</p>
<p>Therneau T. M., Atkinson E. J. (2015) An Introduction to Recursive Partitioning Using the RPART Routines. Vignette in package rpart.
</p>
<p>Venables, W. N. and Ripley, B. D. (2002) <em>Modern Applied Statistics with S</em>. Fourth edition. Springer. 
</p>


<h3>See Also</h3>

<p>See Also as <code>nn</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(rent)
#--- fitting gamlss+tree Nornal
library(rpart)
data(rent)
rg1 &lt;- gamlss(R ~ tr(~A+Fl), data=rent, family=NO)
plot(rg1)
plot(getSmo(rg1))
text(getSmo(rg1))
## Not run: 
# fitting Gamma  errors
rg2 &lt;- gamlss(R ~ tr(~A+Fl), data=rent, family=GA)
plot(rg2)
plot(getSmo(rg2))
text(getSmo(rg2))
#--- fitting also model in the variance
rg3 &lt;- gamlss(R ~ tr(~A+Fl), sigma.fo=~tr(~Fl+A), data=rent, 
                family=GA, gd.tol=100, c.crit=0.1)
plot(rg3)
plot(getSmo(rg3))
text(getSmo(rg3))
plot(getSmo(rg3, what="sigma"))
text(getSmo(rg3, what="sigma"))
## End(Not run)
</code></pre>


</div>