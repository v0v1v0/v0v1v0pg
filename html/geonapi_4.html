<div class="container">

<table style="width: 100%;"><tr>
<td>GNLegacyAPIManager</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>GNLegacyAPIManager</h2>

<h3>Description</h3>

<p>GNLegacyAPIManager
</p>
<p>GNLegacyAPIManager
</p>


<h3>Format</h3>

<p><code>R6Class</code> object.
</p>


<h3>Value</h3>

<p>Object of <code>R6Class</code> with methods for communication with
the REST API of a GeoNetwork instance using the legacy API.
</p>


<h3>Super class</h3>

<p><code>geonapi::GNAbstractManager</code> -&gt; <code>GNLegacyAPIManager</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-GNLegacyAPIManager-new"><code>GNLegacyAPIManager$new()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-login"><code>GNLegacyAPIManager$login()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-getGroups"><code>GNLegacyAPIManager$getGroups()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-getCategories"><code>GNLegacyAPIManager$getCategories()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-insertMetadata"><code>GNLegacyAPIManager$insertMetadata()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-setPrivConfiguration"><code>GNLegacyAPIManager$setPrivConfiguration()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-get"><code>GNLegacyAPIManager$get()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-getMetadataByID"><code>GNLegacyAPIManager$getMetadataByID()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-getMetadataByUUID"><code>GNLegacyAPIManager$getMetadataByUUID()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-getInfoByID"><code>GNLegacyAPIManager$getInfoByID()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-getInfoByUUID"><code>GNLegacyAPIManager$getInfoByUUID()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-updateMetadata"><code>GNLegacyAPIManager$updateMetadata()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-deleteMetadata"><code>GNLegacyAPIManager$deleteMetadata()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-deleteMetadataAll"><code>GNLegacyAPIManager$deleteMetadataAll()</code></a>
</p>
</li>
<li> <p><a href="#method-GNLegacyAPIManager-clone"><code>GNLegacyAPIManager$clone()</code></a>
</p>
</li>
</ul>
<details><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="geonapi" data-topic="GNAbstractManager" data-id="ERROR"><a href="../../geonapi/html/GNAbstractManager.html#method-GNAbstractManager-ERROR"><code>geonapi::GNAbstractManager$ERROR()</code></a></span></li>
<li><span class="pkg-link" data-pkg="geonapi" data-topic="GNAbstractManager" data-id="INFO"><a href="../../geonapi/html/GNAbstractManager.html#method-GNAbstractManager-INFO"><code>geonapi::GNAbstractManager$INFO()</code></a></span></li>
<li><span class="pkg-link" data-pkg="geonapi" data-topic="GNAbstractManager" data-id="WARN"><a href="../../geonapi/html/GNAbstractManager.html#method-GNAbstractManager-WARN"><code>geonapi::GNAbstractManager$WARN()</code></a></span></li>
<li><span class="pkg-link" data-pkg="geonapi" data-topic="GNAbstractManager" data-id="getClassName"><a href="../../geonapi/html/GNAbstractManager.html#method-GNAbstractManager-getClassName"><code>geonapi::GNAbstractManager$getClassName()</code></a></span></li>
<li><span class="pkg-link" data-pkg="geonapi" data-topic="GNAbstractManager" data-id="getLang"><a href="../../geonapi/html/GNAbstractManager.html#method-GNAbstractManager-getLang"><code>geonapi::GNAbstractManager$getLang()</code></a></span></li>
<li><span class="pkg-link" data-pkg="geonapi" data-topic="GNAbstractManager" data-id="getUrl"><a href="../../geonapi/html/GNAbstractManager.html#method-GNAbstractManager-getUrl"><code>geonapi::GNAbstractManager$getUrl()</code></a></span></li>
<li><span class="pkg-link" data-pkg="geonapi" data-topic="GNAbstractManager" data-id="logger"><a href="../../geonapi/html/GNAbstractManager.html#method-GNAbstractManager-logger"><code>geonapi::GNAbstractManager$logger()</code></a></span></li>
</ul></details><hr>
<a id="method-GNLegacyAPIManager-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>This method is used to instantiate a GNLegacyAPIManager with the <code>url</code> of the
GeoNetwork and credentials to authenticate (<code>user</code>/<code>pwd</code>).
</p>
<p>The <code>keyring_backend</code> can be set to use a different backend for storing 
the Geonetwork password/token with <span class="pkg">keyring</span> (Default value is 'env').
</p>
<p>The logger can be either NULL, "INFO" (with minimum logs), or "DEBUG" 
(for complete curl http calls logs)
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$new(
  url,
  user = NULL,
  pwd = NULL,
  version,
  logger = NULL,
  keyring_backend = "env"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>url</code></dt>
<dd>
<p>url</p>
</dd>
<dt><code>user</code></dt>
<dd>
<p>user</p>
</dd>
<dt><code>pwd</code></dt>
<dd>
<p>pwd</p>
</dd>
<dt><code>version</code></dt>
<dd>
<p>version</p>
</dd>
<dt><code>logger</code></dt>
<dd>
<p>logger</p>
</dd>
<dt><code>keyring_backend</code></dt>
<dd>
<p>keyring backend. Default is 'env'</p>
</dd>
</dl>
</div>


<hr>
<a id="method-GNLegacyAPIManager-login"></a>



<h4>Method <code>login()</code>
</h4>

<p>#'    This methods attempts a connection to GeoNetwork REST API. User internally
during initialization of <code>GNLegacyAPIManager</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$login(user, pwd)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>user</code></dt>
<dd>
<p>user</p>
</dd>
<dt><code>pwd</code></dt>
<dd>
<p>pwd</p>
</dd>
</dl>
</div>


<hr>
<a id="method-GNLegacyAPIManager-getGroups"></a>



<h4>Method <code>getGroups()</code>
</h4>

<p>Retrieves the list of user groups available in Geonetwork
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$getGroups()</pre></div>



<h5>Returns</h5>

<p>an object of class <code>data.frame</code>
</p>


<hr>
<a id="method-GNLegacyAPIManager-getCategories"></a>



<h4>Method <code>getCategories()</code>
</h4>

<p>Retrieves the list of categories available in Geonetwork
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$getCategories()</pre></div>



<h5>Returns</h5>

<p>an object of class <code>data.frame</code>
</p>


<hr>
<a id="method-GNLegacyAPIManager-insertMetadata"></a>



<h4>Method <code>insertMetadata()</code>
</h4>

<p>Inserts a metadata by file, XML object or <span class="pkg">geometa</span> object of class
<code>ISOMetadata</code> or <code>ISOFeatureCatalogue</code>. If successful, returns the Geonetwork
metadata internal identifier (integer). Extra parameters <code>geometa_validate</code> (TRUE 
by default) and <code>geometa_inspire</code> (FALSE by default) can be used with geometa objects 
for perform ISO and INSPIRE validation respectively. In that case on object of class 
<code>geometa::INSPIREMetadataValidator</code>, with a proper user API key, should be specified as
<code>geometa_inspireValidator</code> argument.
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$insertMetadata(
  xml = NULL,
  file = NULL,
  geometa = NULL,
  group,
  category = NULL,
  stylesheet = NULL,
  validate = FALSE,
  geometa_validate = TRUE,
  geometa_inspire = FALSE,
  geometa_inspireValidator = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>xml</code></dt>
<dd>
<p>xml object of class XMLInternalNode-class from <span class="pkg">XML</span></p>
</dd>
<dt><code>file</code></dt>
<dd>
<p>file</p>
</dd>
<dt><code>geometa</code></dt>
<dd>
<p>geometa, object of class <code>ISOMetadata</code> or <code>ISOFeatureCatalogue</code> from <span class="pkg">geometa</span></p>
</dd>
<dt><code>group</code></dt>
<dd>
<p>group</p>
</dd>
<dt><code>category</code></dt>
<dd>
<p>category</p>
</dd>
<dt><code>stylesheet</code></dt>
<dd>
<p>stylesheet</p>
</dd>
<dt><code>validate</code></dt>
<dd>
<p>validate</p>
</dd>
<dt><code>geometa_validate</code></dt>
<dd>
<p>validate geometa object</p>
</dd>
<dt><code>geometa_inspire</code></dt>
<dd>
<p>validate geometa object vs. INSPIRE</p>
</dd>
<dt><code>geometa_inspireValidator</code></dt>
<dd>
<p>geometa INSPIRE validator to use</p>
</dd>
</dl>
</div>


<hr>
<a id="method-GNLegacyAPIManager-setPrivConfiguration"></a>



<h4>Method <code>setPrivConfiguration()</code>
</h4>

<p>Set the privilege configuration for a metadata. 'id' is the metadata integer id.
'config' is an object of class "GNPrivConfiguration".
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$setPrivConfiguration(id, config)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>id</p>
</dd>
<dt><code>config</code></dt>
<dd>
<p>config</p>
</dd>
</dl>
</div>


<hr>
<a id="method-GNLegacyAPIManager-get"></a>



<h4>Method <code>get()</code>
</h4>

<p>Generic getter for metadata. Possible values for by are 'id', 'uuid'. Used
internally only. The 'output' argument gives the type of output to return,
with possible values "id", "metadata", "info".
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$get(id, by, output)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>id</p>
</dd>
<dt><code>by</code></dt>
<dd>
<p>by</p>
</dd>
<dt><code>output</code></dt>
<dd>
<p>output</p>
</dd>
</dl>
</div>


<hr>
<a id="method-GNLegacyAPIManager-getMetadataByID"></a>



<h4>Method <code>getMetadataByID()</code>
</h4>

<p>Get a metadata by Id
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$getMetadataByID(id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>id</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>an object of class <code>ISOMetadata</code> (ISO 19115) or <code>ISOFeatureCatalogue</code> 
(ISO 19110) (from <span class="pkg">geometa</span> package)
</p>


<hr>
<a id="method-GNLegacyAPIManager-getMetadataByUUID"></a>



<h4>Method <code>getMetadataByUUID()</code>
</h4>

<p>Get a metadata by UUID
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$getMetadataByUUID(uuid)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>uuid</code></dt>
<dd>
<p>uuid</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>an object of class <code>ISOMetadata</code> (ISO 19115) or <code>ISOFeatureCatalogue</code> 
(ISO 19110) (from <span class="pkg">geometa</span> package)
</p>


<hr>
<a id="method-GNLegacyAPIManager-getInfoByID"></a>



<h4>Method <code>getInfoByID()</code>
</h4>

<p>Get a metadata Info by Id.
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$getInfoByID(id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>id</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>an XML document object
</p>


<hr>
<a id="method-GNLegacyAPIManager-getInfoByUUID"></a>



<h4>Method <code>getInfoByUUID()</code>
</h4>

<p>Get a metadata Info by UUID
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$getInfoByUUID(uuid)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>uuid</code></dt>
<dd>
<p>uuid</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>an XML document object
</p>


<hr>
<a id="method-GNLegacyAPIManager-updateMetadata"></a>



<h4>Method <code>updateMetadata()</code>
</h4>

<p>Updates a metadata by file, XML object or <span class="pkg">geometa</span> object of class
'ISOMetadata' or 'ISOFeatureCatalogue'. Extra parameters <code>geometa_validate</code> (TRUE 
by default) and <code>geometa_inspire</code> (FALSE by default) can be used with geometa objects 
for perform ISO and INSPIRE validation respectively. In that case on object of class 
<code>geometa::INSPIREMetadataValidator</code>, with a proper user API key, should be specified as
<code>geometa_inspireValidator</code> argument.
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$updateMetadata(
  id,
  xml = NULL,
  file = NULL,
  geometa = NULL,
  geometa_validate = TRUE,
  geometa_inspire = FALSE,
  geometa_inspireValidator = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>metadata id</p>
</dd>
<dt><code>xml</code></dt>
<dd>
<p>xml object of class XMLInternalNode-class from <span class="pkg">XML</span></p>
</dd>
<dt><code>file</code></dt>
<dd>
<p>file</p>
</dd>
<dt><code>geometa</code></dt>
<dd>
<p>geometa, object of class <code>ISOMetadata</code> or <code>ISOFeatureCatalogue</code> from <span class="pkg">geometa</span></p>
</dd>
<dt><code>geometa_validate</code></dt>
<dd>
<p>validate geometa object</p>
</dd>
<dt><code>geometa_inspire</code></dt>
<dd>
<p>validate geometa object vs. INSPIRE</p>
</dd>
<dt><code>geometa_inspireValidator</code></dt>
<dd>
<p>geometa INSPIRE validator to use</p>
</dd>
</dl>
</div>


<hr>
<a id="method-GNLegacyAPIManager-deleteMetadata"></a>



<h4>Method <code>deleteMetadata()</code>
</h4>

<p>Deletes metadata by Id.
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$deleteMetadata(id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>id</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>the id of the record deleted, <code>NULL</code> otherwise
</p>


<hr>
<a id="method-GNLegacyAPIManager-deleteMetadataAll"></a>



<h4>Method <code>deleteMetadataAll()</code>
</h4>

<p>Deletes all metadata
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$deleteMetadataAll()</pre></div>


<hr>
<a id="method-GNLegacyAPIManager-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>GNLegacyAPIManager$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Author(s)</h3>

<p>Emmanuel Blondel &lt;emmanuel.blondel1@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
   GNLegacyAPIManager$new("http://localhost:8080/geonetwork", "admin", "geonetwork", "3.0.0")

## End(Not run)

</code></pre>


</div>