<div class="container">

<table style="width: 100%;"><tr>
<td>estimate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>estimate</h2>

<h3>Description</h3>

<p>Estimators for Hybrid Experiments
</p>


<h3>Usage</h3>

<pre><code class="language-R">estimate(rand, tr, y, iterations = 5000L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rand</code></td>
<td>
<p>An integer or logical vector specifying whether each observation is from the random (1) or self-selection (0) arm of the experiment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tr</code></td>
<td>
<p>An integer or logical vector specifying whether each observation was treated (1) or control (0), regardless of the arm of the experiment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector specifying outcome values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterations</code></td>
<td>
<p>An integer specifying the number of bootstrap iterations used to estimate standard errors.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The package provides R implementations of the treatment effect estimators for hybrid (self-selection) experiments, as developed by Gaines and Kuklinski (2011). These functions estimate local average treatment effects for unobserved population subgroups inclined and disinclined to be treated, as revealed by a three-condition (two-arm) experimental design. In the design, participants are randomly assigned to one of three conditions: 1) treatment (T), 2) control (C), or 3) self-selection (S) of treatment or control. The design enables the estimation of three treatment effects:
</p>

<ol>
<li>
<p> First, the sample average treatment effect is estimated from conditions (1) and (2) as:\
<code class="reqn">\hat{t} = \bar{Y}_{T} - \bar{Y}_{C}</code>
</p>
</li>
<li>
<p> The effect for those inclined to choose treatment is given by:\
<code class="reqn">\hat{t}_s = \frac{\bar{Y}_{S} - \bar{Y}_{C}}{\hat{\alpha}}</code>
where <code class="reqn">\hat{\alpha}</code> is the observed proportion of individuals in group S that choose T (rather than C).
</p>
</li>
<li>
<p> The effect for those disinclined to choose treatment (or, equivalently, inclined to choose control) is given by:\
<code class="reqn">\hat{t}_n = \frac{\bar{Y}_{T} - \bar{Y}_{S}}{1-\hat{\alpha}}</code>
</p>
</li>
</ol>
<p>By definition, the sample average treatment effect is an average of the other two effects.
</p>


<h3>Value</h3>

<p>A data.frame containing the following variables:
</p>

<ul>
<li> <p><code>Effect</code>, a character vector of effect names (“t”, “t_s”, “t_n”, “naive”)
</p>
</li>
<li> <p><code>Estimate</code>, a numeric vector of effect estimates
</p>
</li>
<li> <p><code>SE</code>, a numeric vector of bootstrapped standard errors
</p>
</li>
<li> <p><code>t</code>, a t-statistic for the effect
</p>
</li>
<li> <p><code>p</code>, a two-tailed p-value
</p>
</li>
</ul>
<p>The return value will also carry an attribute “alpha”, indicating the estimated proportion <code class="reqn">\alpha</code>.
</p>


<h3>Author(s)</h3>

<p>Thomas J. Leeper &lt;thosjleeper@gmail.com&gt;
</p>


<h3>References</h3>

<p>Brian J. Gaines and James H. Kuklinski, (2011), "Experimental Estimation of Heterogeneous Treatment Effects Related to Self-Selection," <em>American Journal of Political Science</em> 55(3): 724-736.
</p>


<h3>See Also</h3>

<p><code>ajps</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create fake data
set.seed(12345)
d &lt;- 
data.frame(rand = c(rep(1, 200), rep(0, 100)),
           tr = c(rep(0, 100), rep(1, 100), rep(0, 37), rep(1, 63)),
           y = c(rnorm(100), rnorm(100) + 1, rnorm(37), rnorm(63) + 3))

# estimate effects
estimate(rand = d$rand, tr = d$tr, y = d$y)
</code></pre>


</div>