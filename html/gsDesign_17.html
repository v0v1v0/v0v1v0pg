<div class="container">

<table style="width: 100%;"><tr>
<td>eEvents</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expected number of events for a time-to-event study</h2>

<h3>Description</h3>

<p><code>eEvents()</code> is used to calculate the expected number of events for a
population with a time-to-event endpoint.  It is based on calculations
demonstrated in Lachin and Foulkes (1986) and is fundamental in computations
for the sample size method they propose. Piecewise exponential survival and
dropout rates are supported as well as piecewise uniform enrollment. A
stratified population is allowed. Output is the expected number of events
observed given a trial duration and the above rate parameters.
</p>
<p><code>eEvents()</code> produces an object of class <code>eEvents</code> with the number
of subjects and events for a set of pre-specified trial parameters, such as
accrual duration and follow-up period. The underlying power calculation is
based on Lachin and Foulkes (1986) method for proportional hazards assuming
a fixed underlying hazard ratio between 2 treatment groups. The method has
been extended here to enable designs to test non-inferiority. Piecewise
constant enrollment and failure rates are assumed and a stratified
population is allowed. See also <code>nSurvival</code> for other Lachin and
Foulkes (1986) methods assuming a constant hazard difference or exponential
enrollment rate.
</p>
<p><code>print.eEvents()</code> formats the output for an object of class
<code>eEvents</code> and returns the input value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">eEvents(
  lambda = 1,
  eta = 0,
  gamma = 1,
  R = 1,
  S = NULL,
  T = 2,
  Tfinal = NULL,
  minfup = 0,
  digits = 4
)

## S3 method for class 'eEvents'
print(x, digits = 4, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>scalar, vector or matrix of event hazard rates; rows represent
time periods while columns represent strata; a vector implies a single
stratum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eta</code></td>
<td>
<p>scalar, vector or matrix of dropout hazard rates; rows represent
time periods while columns represent strata; if entered as a scalar, rate is
constant across strata and time periods; if entered as a vector, rates are
constant across strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>a scalar, vector or matrix of rates of entry by time period
(rows) and strata (columns); if entered as a scalar, rate is constant
across strata and time periods; if entered as a vector, rates are constant
across strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>a scalar or vector of durations of time periods for recruitment
rates specified in rows of <code>gamma</code>. Length is the same as number of
rows in <code>gamma</code>. Note that the final enrollment period is extended as
long as needed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>a scalar or vector of durations of piecewise constant event rates
specified in rows of <code>lambda</code>, <code>eta</code> and <code>etaE</code>; this is NULL
if there is a single event rate per stratum (exponential failure) or length
of the number of rows in <code>lambda</code> minus 1, otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T</code></td>
<td>
<p>time of analysis; if <code>Tfinal=NULL</code>, this is also the study
duration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tfinal</code></td>
<td>
<p>Study duration; if <code>NULL</code>, this will be replaced with
<code>T</code> on output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minfup</code></td>
<td>
<p>time from end of planned enrollment (<code>sum(R)</code> from output
value of <code>R</code>) until <code>Tfinal</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>which controls number of digits for printing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>eEvents</code> returned from <code>eEvents()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments that may be passed to the generic print function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>eEvents()</code> and <code>print.eEvents()</code> return an object of
class <code>eEvents</code> which contains the following items: </p>
<table>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>as
input; converted to a matrix on output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eta</code></td>
<td>
<p>as input; converted to a
matrix on output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>as input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>as input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>as
input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T</code></td>
<td>
<p>as input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tfinal</code></td>
<td>
<p>planned duration of study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minfup</code></td>
<td>
<p>as input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>expected number of events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>expected sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>as input.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Keaven Anderson <a href="mailto:keaven_anderson@merck.com">keaven_anderson@merck.com</a>
</p>


<h3>References</h3>

<p>Lachin JM and Foulkes MA (1986), Evaluation of Sample Size and
Power for Analyses of Survival with Allowance for Nonuniform Patient Entry,
Losses to Follow-Up, Noncompliance, and Stratification. <em>Biometrics</em>,
42, 507-519.
</p>
<p>Bernstein D and Lagakos S (1978), Sample size and power determination for
stratified clinical trials. <em>Journal of Statistical Computation and
Simulation</em>, 8:65-73.
</p>


<h3>See Also</h3>

<p><code>vignette("gsDesignPackageOverview")</code>, plot.gsDesign,
<code>gsDesign</code>, <code>gsHR</code>,
<code>nSurvival</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# 3 enrollment periods, 3 piecewise exponential failure rates
str(eEvents(
  lambda = c(.05, .02, .01), eta = .01, gamma = c(5, 10, 20),
  R = c(2, 1, 2), S = c(1, 1), T = 20
))

# control group for example from Bernstein and Lagakos (1978)
lamC &lt;- c(1, .8, .5)
n &lt;- eEvents(
  lambda = matrix(c(lamC, lamC * 2 / 3), ncol = 6), eta = 0,
  gamma = matrix(.5, ncol = 6), R = 2, T = 4
)

</code></pre>


</div>