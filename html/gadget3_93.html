<div class="container">

<table style="width: 100%;"><tr>
<td>stock</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gadget3 stock storage</h2>

<h3>Description</h3>

<p>Define multi-dimensional storage for use in models, mostly to contain state
about stocks.
</p>


<h3>Usage</h3>

<pre><code class="language-R">g3_stock(var_name, lengthgroups, open_ended = TRUE)

g3_stock_instance(stock, init_value = NA, desc = "")

g3_fleet(var_name)

g3_stock_def(stock, name)

g3s_clone(inner_stock, var_name)

g3_is_stock(stock)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>var_name</code></td>
<td>

<p>Prefix used for all instance variables of this stock. Can have multiple
parts that will be concatentated together, see example.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lengthgroups</code></td>
<td>

<p>Vector defining length groups, each entry defining the minimum value.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>open_ended</code></td>
<td>

<p>If TRUE, final <var>lengthgroups</var> value defines a group <code>x:Inf</code>.
If FALSE, final <var>lengthgroups</var> value is the upper bound for the previous group.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner_stock</code></td>
<td>

<p>A <code>g3_stock</code> or <code>g3_fleet</code> object to clone.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stock</code></td>
<td>

<p>A <code>g3_stock</code> or <code>g3_fleet</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init_value</code></td>
<td>

<p>Intially the array will be filled with this constant, e.g. <code>1</code>, <code>0</code> or <code>NaN</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>desc</code></td>
<td>

<p>Description of the array that will be included in models
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>

<p>Name of definition to extract, e.g. <code>"minlen"</code>.
</p>
</td>
</tr>
</table>
<h3>Value</h3>



<h4>g3_stock</h4>

<p>A <code>g3_stock</code> with length groups
</p>



<h4>g3_stock_instance</h4>

<p>An array with dimensions matching the stock.
</p>



<h4>g3_fleet</h4>

<p>A <code>g3_stock</code> without length groups
</p>



<h4>g3s_clone</h4>

<p>A <code>g3_stock</code> with identical dimensions to <var>inner_stock</var> but with a new name.
</p>



<h4>g3_is_stock</h4>

<p><code>TRUE</code> iff <var>stock</var> is a <code>g3_stock</code> object.
</p>



<h3>Examples</h3>

<pre><code class="language-R">

# Define a stock with 3 lengthgroups
stock &lt;- g3_stock('name', c(1, 10, 100))

# Define a stock with a multi-part name. We can then dig out species name
stock &lt;- g3_stock(c(species = 'ling', 'imm'), c(1, 10, 100))
stopifnot( stock$name == 'ling_imm' )
stopifnot( stock$name_parts[['species']] == 'ling' )

# Use stock_instance define storage for mean weight of stock,
# has dimensions matching what was defined above.
g3_stock_instance(stock, 1, "Mean weight")

# Retrieve the upperlen for the stock
g3_stock_def(stock, 'upperlen')

# Define a stock, not-open-ended. Now only 2 groups long
stock &lt;- g3_stock('name', c(1, 10, 100), open_ended = FALSE)

# Use stock_instance to see what the array would look like
g3_stock_instance(stock)

# Fleets don't have lengthgroups
stock &lt;- g3_fleet('name') %&gt;% g3s_livesonareas(1)

# Use stock_instance to see what the array would look like
g3_stock_instance(stock)
</code></pre>


</div>