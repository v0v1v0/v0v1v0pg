<div class="container">

<table style="width: 100%;"><tr>
<td>ggnestedpie</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create nested pie plot.</h2>

<h3>Description</h3>

<p>Create nested pie plot.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggnestedpie(
  data,
  group_key = NULL,
  count_type = c("count", "full"),
  r0 = 0.5,
  r1 = 1.5,
  r2 = 2.5,
  inner_thick = 1,
  outer_thick = 1,
  inner_fill_color = NULL,
  inner_label = TRUE,
  inner_label_info = c("count", "ratio", "all"),
  inner_label_color = "black",
  inner_label_split = "[[:space:]]+",
  inner_label_len = 40,
  inner_label_threshold = NULL,
  inner_label_size = 4,
  outer_fill_color = NULL,
  outer_label_type = c("circle", "horizon", "none"),
  outer_label_pos = c("in", "out"),
  outer_label_info = c("count", "ratio", "all"),
  outer_label_split = "[[:space:]]+",
  outer_label_len = 40,
  outer_label_color = "black",
  outer_label_gap = 0.05,
  outer_label_threshold = NULL,
  outer_label_size = 4,
  border_color = "black",
  border_size = 1,
  outer_nudge_x = 1,
  outer_nudge_y = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame contains full data or summarized data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_key</code></td>
<td>
<p>Column used to summarize the data. Default: NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count_type</code></td>
<td>
<p>Data frame type, chosen from "count" and "full". "count" means summarized data and "full" means full data. Default: count.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r0</code></td>
<td>
<p>The radius of inner blank circle. Default: 0.5 (donut plot). When set to 0, inner plot is pie.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r1</code></td>
<td>
<p>The radius of inner pie plot. Default: 1.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r2</code></td>
<td>
<p>The radius of outer pie plot. Default: 2.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner_thick</code></td>
<td>
<p>The width of inner pie plot. Default: 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_thick</code></td>
<td>
<p>The width of outer pie plot. Default: 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner_fill_color</code></td>
<td>
<p>Colors used for inner pie plot. Default: NULL (conduct automatic selection).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner_label</code></td>
<td>
<p>Logical value, whether to show label on inner pie label. Default: TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner_label_info</code></td>
<td>
<p>Label information type of inner pie plot, chosen from count, ratio and all (count and ratio). Default: count.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner_label_color</code></td>
<td>
<p>Color of the label on inner pie. Default: black.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner_label_split</code></td>
<td>
<p>Pattern used to split the label of inner pie, support regular expression. Default: space.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner_label_len</code></td>
<td>
<p>Label text length of inner pie. Used when <code>inner_label_split</code> is NULL. Default: 40.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner_label_threshold</code></td>
<td>
<p>Threshold of the ratio to determine label or not on inner pie. Default: NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner_label_size</code></td>
<td>
<p>Size of the label on inner pie. Default: 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_fill_color</code></td>
<td>
<p>Colors used for outer pie plot. Default: NULL (conduct automatic selection).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_label_type</code></td>
<td>
<p>Label style of outer pie plot, chosen from circle, horizon and none (no label). Default: circle.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_label_pos</code></td>
<td>
<p>Label position of outer pie, chosen from in and out. Default: in.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_label_info</code></td>
<td>
<p>Label information type of outer pie plot, chosen from count, ratio and all (count and ratio). Default: count.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_label_split</code></td>
<td>
<p>Pattern used to split the label of outer pie, support regular expression. Default: space.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_label_len</code></td>
<td>
<p>Label text length of outer pie. Used when <code>outer_label_split</code> is NULL. Default: 40.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_label_color</code></td>
<td>
<p>Color of the label on outer pie. Default: black.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_label_gap</code></td>
<td>
<p>Gap between label and outer pie plot, used when <code>outer_label_pos</code> is out.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_label_threshold</code></td>
<td>
<p>Threshold of the ratio to determine label position (in/out pie). Default: NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_label_size</code></td>
<td>
<p>Size of the label on outer pie. Default: 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border_color</code></td>
<td>
<p>Border color. Default: black.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border_size</code></td>
<td>
<p>Border thickness. Default: 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_nudge_x</code></td>
<td>
<p>Parameter of <code>geom_text_repel</code>. Default: 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_nudge_y</code></td>
<td>
<p>Parameter of <code>geom_text_repel</code>. Default: 1.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ggpie)
library(ggplot2)
data(diamonds)
# inner circle label, outer circle label and in pie plot
ggnestedpie(
  data = diamonds, group_key = c("cut", "color"), count_type = "full",
  inner_label_info = "all", inner_label_split = NULL,
  outer_label_type = "circle", outer_label_pos = "in", outer_label_info = "all"
)
# inner circle label, outer circle label and in pie plot, remove fraction below 1 of inner pie
ggnestedpie(
  data = diamonds, group_key = c("cut", "color"), count_type = "full",
  inner_label_info = "all", inner_label_split = NULL,
  inner_label_threshold = 1, inner_label_size = 3,
  outer_label_type = "circle", outer_label_pos = "in", outer_label_info = "all"
)
# inner circle label, outer circle label and out of pie plot
ggnestedpie(
  data = diamonds, group_key = c("cut", "color"), count_type = "full",
  inner_label_info = "all", inner_label_split = NULL,
  outer_label_type = "circle", outer_label_pos = "out", outer_label_info = "all"
)
# inner circle label and no split, outer horizon label and out of pie plot,
# remove fraction below 1 of inner pie
ggnestedpie(
  data = diamonds, group_key = c("cut", "color"), count_type = "full",
  inner_label_info = "all", inner_label_split = NULL,
  inner_label_threshold = 1, inner_label_size = 3,
  outer_label_type = "horizon", outer_label_pos = "out", outer_label_info = "all"
)
# inner circle label and no split, outer horizon label and in pie plot,
# remove fraction below 1 of inner pie,
# adjust fraction below 10 to out of pie of outer pie plot.
ggnestedpie(
  data = diamonds, group_key = c("cut", "color"), count_type = "full",
  inner_label_info = "all", inner_label_split = NULL,
  inner_label_threshold = 1, inner_label_size = 3,
  outer_label_type = "horizon", outer_label_pos = "in",
  outer_label_info = "all", outer_label_threshold = 10
)
# create blank between inner and outer pie
ggnestedpie(
  data = diamonds, group_key = c("cut", "color"), count_type = "full", r0 = 0.5, r1 = 1.5, r2 = 2.6,
  inner_label_info = "all", inner_label_split = NULL,
  inner_label_threshold = 1, inner_label_size = 3,
  outer_label_type = "horizon", outer_label_pos = "in",
  outer_label_info = "all", outer_label_threshold = 10
)
</code></pre>


</div>