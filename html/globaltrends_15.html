<div class="container">

<table style="width: 100%;"><tr>
<td>compute_score</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute keyword-country search score</h2>

<h3>Description</h3>

<p>The function computes search scores for object keywords. Search volumes for
control and object batches are mapped to the same base. Next, search volumes
for object batches are divided by the sum of search volumes for the
respective control batch. <code>compute_voi</code> computes volume of
internationalization (VOI) as global search scores.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute_score(object, control = 1, locations = gt.env$countries)

## S3 method for class 'numeric'
compute_score(object, control = 1, locations = gt.env$countries)

## S3 method for class 'list'
compute_score(object, control = 1, locations = gt.env$countries)

compute_voi(object, control = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Object batch for which the data is downloaded. Object
of type <code>numeric</code> or object of type <code>list</code> containing single
objects of type <code>numeric</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>Control batch for which the data is downloaded. Object
of type <code>numeric</code>. Defaults to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locations</code></td>
<td>
<p>List of countries or regions for which the data is
downloaded. Refers to lists generated in <code>start_db</code>. Defaults to
<code>countries</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The search score computation proceeds in four steps. First, the function
aggregates all search volumes to monthly data. Then, it applies some optional
time series adjustments: seasonally adjusted <code>forecast::seasadj</code> and
trend only <code>stats::stl</code>. Next, it follows the procedure outlined by
Castelnuovo and Tran (2017, pp. A1-A2) to map control and object data. After
the mapping, object search volumes are divided by the sum of control search
volumes in the respective control batch. We use the sum of search volumes for
a set of control keywords, rather than the search volumes for a single
control keyword, to smooth-out variation in the underlying control data.
</p>
<p><em>Castelnuovo, E. &amp; Tran, T. D. 2017. Google It Up! A Google Trends-based
Uncertainty index for the United States and Australia. Economics Letters,
161: 149-153.</em>
</p>


<h3>Value</h3>

<p>Message that data has been computed successfully. Data is written to
table <em>data_score</em>.
</p>


<h3>Note</h3>

<p>When synonyms were specified through <code>add_synonym</code>, search
scores for synonyms are added to the main keyword.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code>example_score()</code>
</p>
</li>
<li> <p><code>add_synonym()</code>
</p>
</li>
<li> <p><code>stats::stl()</code>
</p>
</li>
<li> <p><code>forecast::seasadj()</code>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
compute_score(
  object = 1,
  control = 1,
  locations = countries
)
compute_voi(
  object = 1,
  control = 1
)
compute_score(
  object = as.list(1:5),
  control = 1,
  locations = countries
)

## End(Not run)

</code></pre>


</div>