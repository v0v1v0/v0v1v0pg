<div class="container">

<table style="width: 100%;"><tr>
<td>model_new_caps_and_div293</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Modelling superannuation changes</h2>

<h3>Description</h3>

<p>Model changes to the contributions cap, Division 293 threshold 
and related modelling. Note: defaults are relevant to pre-2017 for 
compatibility.
</p>


<h3>Usage</h3>

<pre><code class="language-R">model_new_caps_and_div293(
  .sample.file,
  fy.year,
  new_cap = 30000,
  new_cap2 = 35000,
  new_age_based_cap = TRUE,
  new_cap2_age = 49,
  new_ecc = FALSE,
  new_contr_tax = "15%",
  new_div293_threshold = 3e+05,
  use_other_contr = FALSE,
  scale_contr_match_ato = FALSE,
  .lambda = 0,
  reweight_late_lodgers = TRUE,
  .mu = 1.05,
  impute_zero_concess_contr = TRUE,
  .min.Sw.for.SG = 450 * 12,
  .SG_rate = 0.0925,
  prv_cap = 30000,
  prv_cap2 = 35000,
  prv_age_based_cap = TRUE,
  prv_cap2_age = 49,
  prv_ecc = FALSE,
  prv_div293_threshold = 3e+05
)

n_affected_from_new_cap_and_div293(..., adverse_only = TRUE)

revenue_from_new_cap_and_div293(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.sample.file</code></td>
<td>
<p>A <code>data.table</code> whose variables include those in <code>taxstats::sample_file_1314</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fy.year</code></td>
<td>
<p>The financial year tax scales.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_cap</code></td>
<td>
<p>The <strong>proposed</strong> cap on concessional contributions for all taxpayers if <code>age_based_cap</code> is FALSE, or for those below the age threshold otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_cap2</code></td>
<td>
<p>The <strong>proposed</strong> cap on concessional contributions for those above the age threshold. No effect if <code>age_based_cap</code> is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_age_based_cap</code></td>
<td>
<p>Is the <strong>proposed</strong> cap on concessional contributions age-based?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_cap2_age</code></td>
<td>
<p>The age above which <code>new_cap2</code> applies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_ecc</code></td>
<td>
<p>(logical) Should an excess concessional contributions charge be calculated? (Not implemented.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_contr_tax</code></td>
<td>
<p>A string to determine the contributions tax.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_div293_threshold</code></td>
<td>
<p>The <strong>proposed</strong> Division 293 threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_other_contr</code></td>
<td>
<p>Should <code>MCS_Othr_Contr</code> be used to calculate Division 293 liabilities?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale_contr_match_ato</code></td>
<td>
<p>(logical) Should concessional contributions be inflated to match aggregates in 2013-14? That is, should the concessional contributions by multiplied by the internal constant <code>grattan:::super_contribution_inflator_1314</code>, which was defined to be: </p>
<p style="text-align: center;"><code class="reqn">\frac{\textrm{Total assessable contributions in SMSF and funds}}{\textrm{Total contributions in 2013-14 sample file}}</code>
</p>
<p>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.lambda</code></td>
<td>
<p>Scalar weight applied to <code>concessional contributions</code>. <code class="reqn">\lambda = 0</code> means no (extra) weight. <code class="reqn">\lambda = 1</code> means contributions are inflated by the ratio of aggregates to the sample file's total. For <code class="reqn">R = \textrm{actual} / \textrm{apparent}</code> then the contributions are scaled by <code class="reqn">1 + \lambda(R - 1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reweight_late_lodgers</code></td>
<td>
<p>(logical) Should WEIGHT be inflated to account for late lodgers?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.mu</code></td>
<td>
<p>Scalar weight for WEIGHT. (<code class="reqn">w' = \mu w</code>) No effect if <code>reweight_late_lodgers</code> is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>impute_zero_concess_contr</code></td>
<td>
<p>Should zero concessional contributions be imputed using salary?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.min.Sw.for.SG</code></td>
<td>
<p>The minimum salary required for super guarantee to be imputed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.SG_rate</code></td>
<td>
<p>The super guarantee rate for imputation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prv_cap</code></td>
<td>
<p>The <strong>comparator</strong> cap on concessional contributions for all taxpayers if <code>age_based_cap</code> is FALSE, or for those below the age threshold otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prv_cap2</code></td>
<td>
<p>The <strong>comparator</strong> cap on concessional contributions for those above the age threshold. No effect if <code>age_based_cap</code> is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prv_age_based_cap</code></td>
<td>
<p>Is the <strong>comparator</strong> cap on concessional contributions age-based?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prv_cap2_age</code></td>
<td>
<p>The age above which <code>new_cap2</code> applies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prv_ecc</code></td>
<td>
<p>(logical) Should an excess concessional contributions charge be calculated? (Not implemented.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prv_div293_threshold</code></td>
<td>
<p>The <strong>comparator</strong> Division 293 threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed to <code>model_new_caps_and_div293</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adverse_only</code></td>
<td>
<p>Count only individuals who are adversely affected by the change.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>For <code>model_new_caps_and_div293</code>, a <code>data.frame</code>, comprising 
the variables in <code>.sample.file</code>, the superannuation variables generated by 
<code>apply_super_caps_and_div293</code>, and two variables, <code>prv_revenue</code> and <code>new_revenue</code>,
which give the tax (income tax, super tax, and division 293 tax) payable by 
that taxpayer in the comparator scenario and the proposed scenario, respectively.
</p>
<p>For <code>n_affected_from_new_cap_and_div293</code>, the number of individuals affected by the proposed changes.
</p>
<p>For <code>revenue_from_new_cap_and_div293</code>, the extra revenue expected from the proposed changes.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# if (requireNamespace("taxstats", quietly = TRUE)) {
#   library(data.table)
#   s1314 &lt;- taxstats::sample_file_1314
#   s1314[, WEIGHT := 50L]
#   revenue_from_new_cap_and_div293(s1314, new_cap = 12e3, "2016-17")
#   revenue_from_new_cap_and_div293(s1314, new_contr_tax = "mr - 15%", "2016-17")
# }


</code></pre>


</div>