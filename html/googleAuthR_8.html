<div class="container">

<table style="width: 100%;"><tr>
<td>gar_attach_auto_auth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Auto Authentication function for use within .onAttach</h2>

<h3>Description</h3>

<p>To be placed within .onAttach to auto load an authentication file from an environment variable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gar_attach_auto_auth(required_scopes, environment_var = "GAR_AUTH_FILE")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>required_scopes</code></td>
<td>
<p>A character vector of minimum required scopes for this API library</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environment_var</code></td>
<td>
<p>The name of the environment variable where the file path to the authentication file is kept
</p>
<p>This function works with gar_auto_auth.  It is intended to be placed within the .onAttach hook so that it loads when you load your library.
</p>
<p>For auto-authentication to work, the environment variable needs to hold a file path to an existing auth file such as created via gar_auth or a JSON file file download from the Google API console.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Invisible, used for its side effects of calling auto-authentication.
</p>


<h3>See Also</h3>

<p>Other authentication functions: 
<code>gar_auth()</code>,
<code>gar_auth_service()</code>,
<code>gar_auto_auth()</code>,
<code>gar_gce_auth()</code>,
<code>get_google_token()</code>,
<code>should_skip_token_checks()</code>,
<code>token_exists()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

.onAttach &lt;- function(libname, pkgname){

  googleAuthR::gar_attach_auto_auth("https://www.googleapis.com/auth/urlshortener", "US_AUTH_FILE")

}

## will only work if you have US_AUTH_FILE environment variable pointing to an auth file location
## .Renviron example
US_AUTH_FILE="/home/mark/auth/urlshortnerauth.json"


## End(Not run)

</code></pre>


</div>