<div class="container">

<table style="width: 100%;"><tr>
<td>ewma</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Exponentially Weighted Moving Average (EWMA)</h2>

<h3>Description</h3>

<p><code>ewma</code> calculates the exponentially weighted moving average (EWMA) for a set of numeric observations over time.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ewma(agedays, z, ewma.exp, ewma.adjacent = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>agedays</code></td>
<td>
<p>Vector of age in days for each z score (potentially transformed to adjust weighting).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>Input vector of numeric z-score data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ewma.exp</code></td>
<td>
<p>Exponent to use for weighting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ewma.adjacent</code></td>
<td>
<p>Specify whether EWMA values excluding adjacent measurements should be calculated.  Defaults to TRUE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Data frame with 3 variables:
</p>

<ul>
<li>
<p> The first variable (ewma.all) contains the EWMA at observation time
excluding only the actual observation for that time point.
</p>
</li>
<li>
<p> The second variable (ewma.before) contains the EWMA for each observation excluding both the actual observation
and the immediate prior observation.
</p>
</li>
<li>
<p> The third variable (ewma.after) contains the EWMA for each observation excluding both the actual observation
and the subsequent observation.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># Run on 1 subject, 1 type of parameter
df_stats &lt;- as.data.frame(syngrowth)
df_stats &lt;- df_stats[df_stats$subjid == df_stats$subjid[1] &amp;
                       df_stats$param == "HEIGHTCM", ]

# Get the uncentered z-scores
measurement_to_z &lt;- read_anthro(cdc.only = TRUE)
sd &lt;- measurement_to_z(df_stats$param,
                       df_stats$agedays,
                       df_stats$sex,
                       df_stats$measurement,
                       TRUE)

# Calculate exponentially weighted moving average
e_df &lt;- ewma(df_stats$agedays, sd, ewma.exp = -1.5)
</code></pre>


</div>