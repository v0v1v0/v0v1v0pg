<div class="container">

<table style="width: 100%;"><tr>
<td>gmat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Globe Rotation Matrix
</h2>

<h3>Description</h3>

<p>Globe Rotation Matrix
</p>


<h3>Usage</h3>

<pre><code class="language-R">gmat(vec, p, alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vec</code></td>
<td>
<p> vector axis to rotate about
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p> translation point (c(0,0,0))
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p> angle to rotate, degrees 
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Given an arbitrary axis, return matrix for rotation about the
axis by alpha degrees.
</p>


<h3>Value</h3>

<p>4 by 4 Matrix for translation and rotation
</p>


<h3>Author(s)</h3>

<p>Jonathan M. Lees&lt;jonathan.lees@unc.edu&gt;
</p>


<h3>References</h3>

<p>Rogers and Adams
</p>


<h3>Examples</h3>

<pre><code class="language-R">

################   kamchatka

kamlat = c(48.5,  65)
kamlon = c(150, 171)

KAMLAT0=mean(kamlat)
KAMLON0=mean(kamlon)


################  korea

 KORlon = c(123,133)
    KORlat = c(33,44)


KORLON0=mean(KORlon)
KORLAT0=mean(KORlat)

# convert to cartesian
v1 = ll2xyz(KORLAT0, KORLON0 )
v2 = ll2xyz(KAMLAT0,  KAMLON0)

###   get cross product
g = X.prod((v1), (v2))

### use dot product to get angle
delta = (180/pi)*acos( sum(v1*v2)/(sqrt(sum(v1^2))*sqrt(sum(v2^2))))

###   get rotation matrix
R1 =gmat(g, c(0,0,0) , -delta)


</code></pre>


</div>