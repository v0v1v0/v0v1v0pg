<div class="container">

<table style="width: 100%;"><tr>
<td>strip_nested</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Nested strips</h2>

<h3>Description</h3>

<p>This strip style groups strips on the same layer that share a label. It is
the default strip for <code>facet_nested()</code> and
<code>facet_nested_wrap()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">strip_nested(
  clip = "inherit",
  size = "constant",
  bleed = FALSE,
  text_x = NULL,
  text_y = NULL,
  background_x = NULL,
  background_y = NULL,
  by_layer_x = FALSE,
  by_layer_y = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>clip</code></td>
<td>
<p>A <code>character(1)</code> that controls whether text labels are clipped to
the background boxes. Can be either <code>"inherit"</code> (default), <code>"on"</code> or
<code>"off"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>A <code>character(1)</code> stating that the strip margins in different
layers remain <code>"constant"</code> or are <code>"variable"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bleed</code></td>
<td>
<p>A <code>logical(1)</code> indicating whether merging of lower-layer
variables is allowed when the higher-layer variables are separate. See
details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text_x, text_y</code></td>
<td>
<p>A <code>list()</code> with
<code>element_text()</code> elements. See the details
section in <code>strip_themed()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>background_x, background_y</code></td>
<td>
<p>A <code>list()</code> with
<code>element_rect()</code> elements. See the details
section in <code>strip_themed()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_layer_x, by_layer_y</code></td>
<td>
<p>A <code>logical(1)</code> that when <code>TRUE</code>, maps the
different elements to different layers of the strip. When <code>FALSE</code>, maps the
different elements to individual strips, possibly repeating the elements to
match the number of strips through <code>rep_len()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The display order is always such that the outermost
variable is placed the furthest away from the panels. Strips are
automatically grouped when they span a nested variable.
</p>
<p>The <code>bleed</code> argument controls whether lower-layer strips are allowed
to be merged when higher-layer strips are different, i.e. they can bleed
over hierarchies. Suppose the <code>strip_vanilla()</code> behaviour would be the
following for strips:
</p>
<p><code style="white-space: pre;">⁠[_1_][_2_][_2_]⁠</code> <br><code style="white-space: pre;">⁠[_3_][_3_][_4_]⁠</code>
</p>
<p>In such case, the default <code>bleed = FALSE</code> argument would result in the
following:
</p>
<p><code style="white-space: pre;">⁠[_1_][___2____]⁠</code> <br><code style="white-space: pre;">⁠[_3_][_3_][_4_]⁠</code>
</p>
<p>Whereas <code>bleed = TRUE</code> would allow the following:
</p>
<p><code style="white-space: pre;">⁠[_1_][___2____]⁠</code> <br><code style="white-space: pre;">⁠[___3____][_4_]⁠</code>
</p>


<h3>Value</h3>

<p>A <code>StripNested</code> ggproto object that can be given as an argument to
facets in ggh4x.
</p>


<h3>See Also</h3>

<p>Other strips: 
<code>strip_split()</code>,
<code>strip_themed()</code>,
<code>strip_vanilla()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># A standard plot
p &lt;- ggplot(mpg, aes(displ, hwy)) +
  geom_point()

# Combine the strips
p + facet_wrap2(vars(cyl, drv), strip = strip_nested())

# The facet_nested and facet_nested_wrap functions have nested strips
# automatically
p + facet_nested_wrap(vars(cyl, drv))

# Changing the bleed argument merges the "f" labels in the top-right
p + facet_wrap2(vars(cyl, drv), strip = strip_nested(bleed = TRUE))
</code></pre>


</div>