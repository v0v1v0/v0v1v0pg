<div class="container">

<table style="width: 100%;"><tr>
<td>components_extract</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract conditional probabilities and clique potentials from
data.</h2>

<h3>Description</h3>

<p>Extract list of conditional probability tables and
list of clique potentials from data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extract_cpt(data_, graph, smooth = 0)

extract_pot(data_, graph, smooth = 0)

extract_marg(data_, graph, smooth = 0)

marg2pot(marg_rep)

pot2marg(pot_rep)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_</code></td>
<td>
<p>A named array or a dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph</code></td>
<td>
<p>An <code>igraph</code> object or a list or formula which can be
turned into a <code>igraph</code> object by calling <code>ug</code> or
<code>dag</code>. For <code>extract_cpt</code>, graph must be/define a DAG while for
<code>extract_pot</code>, graph must be/define undirected triangulated graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>See 'details' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marg_rep</code></td>
<td>
<p>An object of class <code>marg_rep</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pot_rep</code></td>
<td>
<p>An object of class <code>pot_representation</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>smooth</code> is non-zero then <code>smooth</code> is added
to all cell counts before normalization takes place.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>extract_cpt</code>: A list of conditional probability tables.
</p>
</li>
<li> <p><code>extract_pot</code>: A list of clique potentials.
</p>
</li>
<li> <p><code>extract_marg</code>: A list of clique marginals.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Søren Højsgaard, <a href="mailto:sorenh@math.aau.dk">sorenh@math.aau.dk</a>
</p>


<h3>References</h3>

<p>Søren Højsgaard (2012). Graphical Independence Networks
with the gRain Package for R. Journal of Statistical Software,
46(10), 1-26.  <a href="https://www.jstatsoft.org/v46/i10/">https://www.jstatsoft.org/v46/i10/</a>.
</p>


<h3>See Also</h3>

<p><code>compileCPT</code>, <code>compilePOT</code>,
<code>grain</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Extract cpts / clique potentials from data and graph
# specification and create network. There are different ways:

data(lizard, package="gRbase")

# DAG: height &lt;- species -&gt; diam
daG &lt;- dag(~species + height:species + diam:species, result="igraph")

# UG : [height:species][diam:species]
uG  &lt;- ug(~height:species + diam:species, result="igraph")

pt &lt;- extract_pot(lizard, ~height:species + diam:species) 
cp &lt;- extract_cpt(lizard, ~species + height:species + diam:species)

pt
cp

# Both specify the same probability distribution
tabListMult(pt) |&gt; as.data.frame.table()
tabListMult(cp) |&gt; as.data.frame.table()

## Not run: 
# Bayesian networks can be created as
bn.uG   &lt;- grain(pt)
bn.daG  &lt;- grain(cp)

# The steps above are wrapped into a convenience method which
# builds a network from at graph and data.
bn.uG   &lt;- grain(uG, data=lizard)
bn.daG  &lt;- grain(daG, data=lizard)

## End(Not run)

</code></pre>


</div>