<div class="container">

<table style="width: 100%;"><tr>
<td>geom_cloud</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>geom_cloud</h2>

<h3>Description</h3>

<p>Draw a normal uncertainty cloud as a ribbon
</p>
<p>Draws overlapping ribbons of the same identity to create 
a cloud of (Gaussian) uncertainty. Similar to an errorbar geom in
use, but visually less distracting (sometimes).
</p>
<p>Geom Proto
</p>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>steps</code></td>
<td>
<p>The integer number of steps, or equivalently, the number of
overlapping ribbons. A larger number makes a smoother cloud
at the possible expense of rendering time. Values larger than
around 20 are typically not necessary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_alpha</code></td>
<td>
<p>The maximum alpha at the maximum density. The cloud
will have alpha no greater than this value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se_mult</code></td>
<td>
<p>The ‘multiplier’ of standard errors of the given
<code>ymin</code> and <code>ymax</code>. If these are at one standard error,
then let <code>se_mult</code> take the default value of 1.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Assumes that <code>ymin</code> and <code>ymax</code> are plotted at a 
fixed number of standard errors away from <code>y</code>, then computes
a Gaussian density with that standard deviation, plotting a cloud
(based on <code>geom_ribbon</code>) with alpha proportional to the density.
This appears as a vertical ‘cloud’ of uncertainty. In use,
this geom should be comparable to <code>geom_errorbar</code>.
</p>
<p>A sample output from <code>geom_cloud</code>:
</p>

<p><img src="../help/figures/geom_cloud-1.png" width="100%" alt="Figure: geom\_cloud-1.png"></p>


<h3>Aesthetics</h3>

<p><code>geom_cloud</code> understands the following aesthetics (required aesthetics
are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><strong><code>ymin</code></strong>
</p>
</li>
<li> <p><strong><code>ymax</code></strong>
</p>
</li>
<li> <p><code>fill</code>
</p>
</li>
</ul>
<p>Only one of <code>ymin</code> and <code>ymax</code> is strictly required.
</p>


<h3>Note</h3>

<p>This is a thin wrapper on the <code>geom_ribbon</code> geom.
</p>


<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>geom_ribbon</code>: The underlying geom
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(2134)
nobs &lt;- 200
mydat &lt;- data.frame(grp=sample(c(0,1),nobs,replace=TRUE),
  colfac=sample(letters[1:2],nobs,replace=TRUE),
  rowfac=sample(letters[10 + (1:3)],nobs,replace=TRUE)) 
mydat$x &lt;- seq(0,1,length.out=nobs) + 0.33 * mydat$grp
mydat$y &lt;- 0.25 * rnorm(nobs) + 2 * mydat$grp
mydat$grp &lt;- factor(mydat$grp)
mydat$se  &lt;- sqrt(mydat$x)

ggplot(mydat,aes(x=x,y=y,ymin=y-se,ymax=y+se,color=grp)) +
facet_grid(rowfac ~ colfac) + 
geom_line() + 
geom_errorbar() + 
labs(title='uncertainty by errorbar')

ggplot(mydat,aes(x=x,y=y,ymin=y-se,ymax=y+se,fill=grp)) +
facet_grid(rowfac ~ colfac) + 
geom_line() + 
geom_cloud(steps=15,max_alpha=0.85) +
labs(title='uncertainty by cloudr')
</code></pre>


</div>