<div class="container">

<table style="width: 100%;"><tr>
<td>smooth_estimates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate smooths at covariate values</h2>

<h3>Description</h3>

<p>Evaluate a smooth at a grid of evenly spaced value over the range of the
covariate associated with the smooth. Alternatively, a set of points at which
the smooth should be evaluated can be supplied. <code>smooth_estimates()</code> is a new
implementation of <code>evaluate_smooth()</code>, and replaces that function, which has
been removed from the package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">smooth_estimates(object, ...)

## S3 method for class 'gam'
smooth_estimates(
  object,
  select = NULL,
  smooth = deprecated(),
  n = 100,
  n_3d = 16,
  n_4d = 4,
  data = NULL,
  unconditional = FALSE,
  overall_uncertainty = TRUE,
  dist = NULL,
  unnest = TRUE,
  partial_match = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of class <code>"gam"</code> or <code>"gamm"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>character; select which smooth's posterior to draw from.
The default (<code>NULL</code>) means the posteriors of all smooths in <code>model</code>
wil be sampled from. If supplied, a character vector of requested terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> Use <code>select</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>numeric; the number of points over the range of the covariate at
which to evaluate the smooth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_3d, n_4d</code></td>
<td>
<p>numeric; the number of points over the range of last
covariate in a 3D or 4D smooth. The default is <code>NULL</code> which achieves the
standard behaviour of using <code>n</code> points over the range of all covariate,
resulting in <code>n^d</code> evaluation points, where <code>d</code> is the dimension of the
smooth. For <code>d &gt; 2</code> this can result in very many evaluation points and slow
performance. For smooths of <code>d &gt; 4</code>, the value of <code>n_4d</code> will be used for
all dimensions <code style="white-space: pre;">⁠&gt; 4⁠</code>, unless this is <code>NULL</code>, in which case the default
behaviour (using <code>n</code> for all dimensions) will be observed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame of covariate values at which to evaluate the
smooth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unconditional</code></td>
<td>
<p>logical; should confidence intervals include the
uncertainty due to smoothness selection? If <code>TRUE</code>, the corrected Bayesian
covariance matrix will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overall_uncertainty</code></td>
<td>
<p>logical; should the uncertainty in the model
constant term be included in the standard error of the evaluate values of
the smooth?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>numeric; if greater than 0, this is used to determine when
a location is too far from data to be plotted when plotting 2-D smooths.
The data are scaled into the unit square before deciding what to exclude,
and <code>dist</code> is a distance within the unit square. See
<code>mgcv::exclude.too.far()</code> for further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unnest</code></td>
<td>
<p>logical; unnest the smooth objects?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partial_match</code></td>
<td>
<p>logical; in the case of character <code>select</code>, should
<code>select</code> match partially against <code>smooths</code>? If <code>partial_match = TRUE</code>,
<code>select</code> must only be a single string, a character vector of length 1.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame (tibble), which is of class <code>"smooth_estimates"</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">load_mgcv()

dat &lt;- data_sim("eg1", n = 400, dist = "normal", scale = 2, seed = 2)
m1 &lt;- gam(y ~ s(x0) + s(x1) + s(x2) + s(x3), data = dat, method = "REML")

## evaluate all smooths
smooth_estimates(m1)

## or selected smooths
smooth_estimates(m1, select = c("s(x0)", "s(x1)"))

</code></pre>


</div>