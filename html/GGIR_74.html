<div class="container">

<table style="width: 100%;"><tr>
<td>g.report.part4</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generate report from milestone data produced by g.part4
</h2>

<h3>Description</h3>

<p>Creates report from milestone data produced by g.part4. Not intended
for direct use by package user
</p>


<h3>Usage</h3>

<pre><code class="language-R">g.report.part4(datadir = c(), metadatadir = c(), loglocation = c(), f0 = c(),
  f1 = c(), data_cleaning_file = c(),
  sleepwindowType = "SPT", params_output, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>datadir</code></td>
<td>

<p>Directory where the accelerometer files are stored, e.g. 
"C:/mydata", or list of accelerometer filenames and directories, e.g. 
c("C:/mydata/myfile1.bin", "C:/mydata/myfile2.bin").
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metadatadir</code></td>
<td>

<p>Directory that holds a folder 'meta' and inside this a folder 'basic'
which contains the milestone data produced by g.part1. The folderstructure
is normally created by g.part1 and GGIR will recognise what
the value of metadatadir is.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loglocation</code></td>
<td>

<p>see g.part4
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f0</code></td>
<td>

<p>File index to start with (default = 1). Index refers to the filenames sorted
in alphabetical order
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f1</code></td>
<td>

<p>File index to finish with (defaults to number of files available, i.e., f1 = 0)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_cleaning_file</code></td>
<td>

<p>see GGIR
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sleepwindowType</code></td>
<td>

<p>see GGIR
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params_output</code></td>
<td>

<p>Parameters object, see GGIR
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>See details in GGIR.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Function does not produce data, but only writes reports
in csv format and a visual report in pdf.
</p>
<p>The following files are stored in the root of the results folder:
part4_nightsummary_sleep_cleaned.csv
part4_summary_sleep_cleaned.csv
</p>
<p>The following files are stored in the folder results/QC:
part4_nightsummary_sleep_full.csv
part4_summary_sleep_full.csv
</p>
<p>If a sleeplog is used *_full.csv as stored in the QC folder includes estimates 
for all nights in the data, and *_cleaned.csv in the results folder includes
estimates for all nights in the data excluding the nights that did not had a
sleeplog entry or had no valid accelerometer data.
</p>
<p>If a sleep log is not used then * _cleaned.csv includes the nights that are
in *_full.csv excluding the nights with insufficient data.
</p>
<p>If you have a study where the sleeplog was available for a subset of the
participants, but you want to include all individuals in your analysis, 
then use the *_full.csv output and clean the night level data yourself
by excluding  rows with cleaningcode &gt; 1 which are the cases where no
or invalid accelerometer data was present.
</p>
<p>The above means that for studies with missing sleeplog entries for some
individuals and some nights using the *_full.csv output and excluding
rows (nights) with cleaningcode &gt; 1 will lead to the same as
* _cleaned.csv plus sleep estimates for the nights with missing
sleeplog, providing that there was enough accelerometer data for 
those nights.
</p>
<p>In other words, *_cleaned.csv is perfect if you only want to rely on 
nights with a sleeplog or if you do not use a sleeplog at all. For all
other scenarios We advise using the *_full.csv report and to clean it 
yourself.
</p>
<p>See package vignette sections "Sleep analysis" and "Output part 4"
for a more elaborative description of the sleep analysis and reporting.
</p>


<h3>Author(s)</h3>

<p>Vincent T van Hees &lt;v.vanhees@accelting.com&gt;
</p>


</div>