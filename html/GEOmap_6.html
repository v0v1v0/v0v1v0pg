<div class="container">

<table style="width: 100%;"><tr>
<td>BASICTOPOMAP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Basic Topogrpahy Map</h2>

<h3>Description</h3>

<p>Basic Topogrpahy Map
</p>


<h3>Usage</h3>

<pre><code class="language-R">BASICTOPOMAP(xo, yo, DOIMG, DOCONT, UZ, AZ, IZ, perim, PLAT, PLON,
PROJ = PROJ, pnts = NULL, GRIDcol = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xo</code></td>
<td>
<p>vector of x-coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yo</code></td>
<td>
<p>vector of y-coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DOIMG</code></td>
<td>
<p>logical, add image</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DOCONT</code></td>
<td>
<p>logical, add contours</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>UZ</code></td>
<td>
<p>matrix of image values under  sea level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AZ</code></td>
<td>
<p>matrix of image values above sea level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IZ</code></td>
<td>
<p>matrix of image values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perim</code></td>
<td>
<p>perimeter vectors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PLAT</code></td>
<td>
<p>latitudes for tic-marks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PLON</code></td>
<td>
<p>longitude for tic-marks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PROJ</code></td>
<td>
<p>projection list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pnts</code></td>
<td>
<p>points to add to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GRIDcol</code></td>
<td>
<p>color for grid</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Image is processed prior to calling 
</p>


<h3>Value</h3>

<p>Graphical Side effects
</p>


<h3>Author(s)</h3>

<p>Jonathan M. Lees&lt;jonathan.lees.edu&gt;</p>


<h3>See Also</h3>

<p>DOTOPOMAPI, GEOTOPO</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 


library(geomapdata)
library(MBA) ##  for interpolation
#######  set up topo data
data(fujitopo)
#####  set up map data
data('japmap', package='geomapdata' )


###  target region
PLOC= list(LON=c(138.3152, 139.0214), 
LAT=c(35.09047, 35.57324))

PLOC$x =PLOC$LON
PLOC$y =PLOC$LAT



####  set up projection
PROJ = setPROJ(type=2, LAT0=mean(PLOC$y) , LON0=mean(PLOC$x) )

##########  select data from the topo data internal to the target
    topotemp = list(lon=fujitopo$lon, lat= fujitopo$lat, z=fujitopo$z)

    
 ####  project target
  A = GLOB.XY(PLOC$LAT  , PLOC$LON ,  PROJ)

#######   select topo
selectionflag = topotemp$lat&gt;+PLOC$LAT[1] &amp; topotemp$lat&lt;=PLOC$LAT[2] &amp;
topotemp$lon&gt;+PLOC$LON[1] &amp; topotemp$lon&lt;=PLOC$LON[2]


###  project topo data
  B = GLOB.XY( topotemp$lat[selectionflag] ,topotemp$lon[selectionflag] ,  PROJ)

###  set up out put matrix:
### xo = seq(from=range(A$x)[1], to=range(A$x)[2], length=200)
###    yo = seq(from=range(A$y)[1], to=range(A$y)[2], length=200)

#######  interpolation using akima
  ###  IZ = interp(x=B$x , y=B$y,  z=topotemp$z[selectionflag]  , xo=xo, yo=yo)
DF = cbind(x=B$x , y=B$y ,  z=topotemp$z[selectionflag])
 IZ = mba.surf(DF, 200, 200, extend=TRUE)$xyz.est

    xo = IZ[[1]]
    yo = IZ[[2]]


###  image(IZ)

#######  underwater section
    UZ = IZ$z
    UZ[IZ$z&gt;=0] = NA
#### above sea level
    AZ = IZ$z
    AZ[IZ$z&lt;=-.01] = NA

#### create perimeter:
    perim= getGEOperim(PLOC$LON, PLOC$LAT, PROJ, 50)

###  lats for tic marks:
    PLAT =  pretty(PLOC$LAT)

    PLAT = c(min(PLOC$LAT),
PLAT[PLAT&gt;min(PLOC$LAT) &amp; PLAT&lt;max(PLOC$LAT)],max(PLOC$LAT)) 
PLON  = pretty(PLOC$LON)

### main program:
 DOIMG = TRUE
DOCONT = TRUE
PNTS  = NULL

BASICTOPOMAP(xo, yo , DOIMG, DOCONT, UZ, AZ, IZ, perim, PLAT, PLON,
PROJ=PROJ, pnts=NULL, GRIDcol=NULL)


###  add in the map information
 plotGEOmapXY(japmap, LIM=c(PLOC$LON[1], PLOC$LAT[1],PLOC$LON[2],
PLOC$LAT[2]) , PROJ=PROJ, add=TRUE )


## End(Not run)


</code></pre>


</div>