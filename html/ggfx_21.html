<div class="container">

<table style="width: 100%;"><tr>
<td>Channels</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set a channel of interest from a layer</h2>

<h3>Description</h3>

<p>Some effects uses a particular channel for specific parameters, such as
<code>with_displacement()</code>, which grabs the relative x and y displacements from
different channels in some other layer. To facilitate specifying which
channel to use from a layer (which is always multichannel), you can wrap the
specification in a channel specifier given below. If a filter requires a
specific channel and none is specified it will default to <code>luminance</code> (based
on the <code>hcl</code> colour space)
</p>


<h3>Usage</h3>

<pre><code class="language-R">ch_red(x, colourspace = "sRGB", invert = FALSE)

ch_green(x, colourspace = "sRGB", invert = FALSE)

ch_blue(x, colourspace = "sRGB", invert = FALSE)

ch_alpha(x, colourspace = "sRGB", invert = FALSE)

ch_hue(x, colourspace = "HCL", invert = FALSE)

ch_chroma(x, colourspace = "HCL", invert = FALSE)

ch_luminance(x, colourspace = "HCL", invert = FALSE)

ch_saturation(x, colourspace = "HSL", invert = FALSE)

ch_lightness(x, colourspace = "HSL", invert = FALSE)

ch_cyan(x, colourspace = "CMYK", invert = FALSE)

ch_magenta(x, colourspace = "CMYK", invert = FALSE)

ch_yellow(x, colourspace = "CMYK", invert = FALSE)

ch_black(x, colourspace = "CMYK", invert = FALSE)

ch_key(x, colourspace = "CMYK", invert = FALSE)

ch_custom(x, channel, colourspace, invert = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Any object interpretable as a layer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colourspace</code></td>
<td>
<p>The colourspace the channel should be extracted from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invert</code></td>
<td>
<p>Should the channel values be inverted before use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>channel</code></td>
<td>
<p>The name of a channel in the given colourspace</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>x</code> with a channel spec attached
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ggplot2)
volcano_long &lt;- data.frame(
  x = as.vector(col(volcano)),
  y  = as.vector(row(volcano)),
  z = as.vector(volcano)
)

# invert the green channel
ggplot(volcano_long, aes(y, x)) +
  as_reference(
    geom_contour_filled(aes(z = z, fill = after_stat(level))),
    id = 'contours'
  ) +
  as_colourspace(
    ch_red('contours'),
    ch_green('contours', invert = TRUE),
    ch_blue('contours')
  )

</code></pre>


</div>