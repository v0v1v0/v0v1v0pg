<div class="container">

<table style="width: 100%;"><tr>
<td>set_prediction_data.GPModel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set prediction data for a <code>GPModel</code>
</h2>

<h3>Description</h3>

<p>Set the data required for making predictions with a <code>GPModel</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'GPModel'
set_prediction_data(gp_model, vecchia_pred_type = NULL,
  num_neighbors_pred = NULL, cg_delta_conv_pred = NULL,
  nsim_var_pred = NULL, rank_pred_approx_matrix_lanczos = NULL,
  group_data_pred = NULL, group_rand_coef_data_pred = NULL,
  gp_coords_pred = NULL, gp_rand_coef_data_pred = NULL,
  cluster_ids_pred = NULL, X_pred = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gp_model</code></td>
<td>
<p>A <code>GPModel</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vecchia_pred_type</code></td>
<td>
<p>A <code>string</code> specifying the type of Vecchia approximation used for making predictions.
Default value if vecchia_pred_type = NULL: "order_obs_first_cond_obs_only". 
Available options:
</p>

<ul>
<li>
<p>"order_obs_first_cond_obs_only": Vecchia approximation for the observable process and observed training data is 
ordered first and the neighbors are only observed training data points 
</p>
</li>
<li>
<p>"order_obs_first_cond_all": Vecchia approximation for the observable process and observed training data is 
ordered first and the neighbors are selected among all points (training + prediction) 
</p>
</li>
<li>
<p>"latent_order_obs_first_cond_obs_only": Vecchia approximation for the latent process and observed data is 
ordered first and neighbors are only observed points
</p>
</li>
<li>
<p>"latent_order_obs_first_cond_all": Vecchia approximation 
for the latent process and observed data is ordered first and neighbors are selected among all points 
</p>
</li>
<li>
<p>"order_pred_first": Vecchia approximation for the observable process and prediction data is 
ordered first for making predictions. This option is only available for Gaussian likelihoods 
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_neighbors_pred</code></td>
<td>
<p>an <code>integer</code> specifying the number of neighbors for the Vecchia approximation 
for making predictions. Default value if NULL: num_neighbors_pred = 2 * num_neighbors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cg_delta_conv_pred</code></td>
<td>
<p>a <code>numeric</code> specifying the tolerance level for L2 norm of residuals for 
checking convergence in conjugate gradient algorithms when being used for prediction
Default value if NULL: 1e-3</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim_var_pred</code></td>
<td>
<p>an <code>integer</code> specifying the number of samples when simulation 
is used for calculating predictive variances
Default value if NULL: 1000</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank_pred_approx_matrix_lanczos</code></td>
<td>
<p>an <code>integer</code> specifying the rank 
of the matrix for approximating predictive covariances obtained using the Lanczos algorithm
Default value if NULL: 1000</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_data_pred</code></td>
<td>
<p>A <code>vector</code> or <code>matrix</code> with elements being group levels 
for which predictions are made (if there are grouped random effects in the <code>GPModel</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_rand_coef_data_pred</code></td>
<td>
<p>A <code>vector</code> or <code>matrix</code> with covariate data 
for grouped random coefficients (if there are some in the <code>GPModel</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp_coords_pred</code></td>
<td>
<p>A <code>matrix</code> with prediction coordinates (=features) for 
Gaussian process (if there is a GP in the <code>GPModel</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp_rand_coef_data_pred</code></td>
<td>
<p>A <code>vector</code> or <code>matrix</code> with covariate data for 
Gaussian process random coefficients (if there are some in the <code>GPModel</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_ids_pred</code></td>
<td>
<p>A <code>vector</code> with elements indicating the realizations of 
random effects / Gaussian processes for which predictions are made 
(set to NULL if you have not specified this when creating the <code>GPModel</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X_pred</code></td>
<td>
<p>A <code>matrix</code> with prediction covariate data for the 
fixed effects linear regression term (if there is one in the <code>GPModel</code>)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>GPModel</code>
</p>


<h3>Author(s)</h3>

<p>Fabio Sigrist
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(GPBoost_data, package = "gpboost")
set.seed(1)
train_ind &lt;- sample.int(length(y),size=250)
gp_model &lt;- GPModel(group_data = group_data[train_ind,1], likelihood="gaussian")
set_prediction_data(gp_model, group_data_pred = group_data[-train_ind,1])

</code></pre>


</div>