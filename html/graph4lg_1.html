<div class="container">

<table style="width: 100%;"><tr>
<td>add_nodes_attr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add attributes to the nodes of a graph</h2>

<h3>Description</h3>

<p>The function adds attributes to the nodes of a graph from
either an object of class <code>data.frame</code> or from a shapefile layer.
The node IDs in the input objects must be the same as in the graph object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_nodes_attr(
  graph,
  input = "df",
  data,
  dir_path = NULL,
  layer = NULL,
  index = "Id",
  include = "all"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>graph</code></td>
<td>
<p>A graph object of class <code>igraph</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>A character string indicating the nature of the
input data from which come the attributes to add to the nodes.
</p>

<ul>
<li>
<p>If 'input = "shp"', then attributes come from the attribute table of
a shapefile layer of type point.
</p>
</li>
<li>
<p>If 'input = "df"', then attributes come from an object of class
<code>data.frame</code>
</p>
</li>
</ul>
<p>In both cases, input attribute table or dataframe must have a column with
the exact same values as the node IDs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(only if 'input = "df"') The name of the object of
class <code>data.frame</code> with the attributes to add to the nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir_path</code></td>
<td>
<p>(only if 'input = "shp"') The path (character string) to the
directory containing the shapefile layer of type point whose attribute
table contains the attributes to add to the nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer</code></td>
<td>
<p>(only if 'input = "shp"') The name (character string) of the
shapefile layer of type point (without extension, ex.: "nodes" refers
to "nodes.shp" layer) whose attribute table contains the attributes
to add to the nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>The name (character string) of the column with the nodes names
in the input data (column of the attribute table or of the dataframe).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include</code></td>
<td>
<p>A character string (vector) indicating which columns of the
input data will be added as nodes' attributes.
By default, 'include = "all"', i.e. every column of the input data is added.
Alternatively, 'include' can be a vector with the names of the columns to add
(ex.: "c('x', 'y', 'pop_name')").</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The graph can be created with the function
<code>graphab_to_igraph</code> by importing output from Graphab projects.
Values of the metrics computed at the node level with Graphab can then be
added to such a graph with this function.
</p>


<h3>Value</h3>

<p>A graph object of class <code>igraph</code>
</p>


<h3>Author(s)</h3>

<p>P. Savary
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("data_tuto")
graph &lt;- data_tuto[[3]]
df_nodes &lt;- data.frame(Id = igraph::V(graph)$name,
                       Area = runif(50, min = 10, max = 60))
graph &lt;- add_nodes_attr(graph,
                        data = df_nodes,
                        input = "df",
                        index = "Id",
                        include = "Area")
</code></pre>


</div>