<div class="container">

<table style="width: 100%;"><tr>
<td>gjamPoints2Grid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Incidence point pattern to grid counts</h2>

<h3>Description</h3>

<p>From point pattern data in (x, y) generates counts on a lattice supplied by the user or specified by lattice size or density.  For analysis in <code>gjam as counts (known effort) or count composition (unknown effort) data</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  gjamPoints2Grid(specs, xy, nxy = NULL, dxy = NULL, 
                  predGrid = NULL, effortOnly = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>specs</code></td>
<td>
<p><code>character vector</code> of species names or codes. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xy</code></td>
<td>
<p><code>matrix</code> with rows = <code>length(specs)</code> and columns for (x, y).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nxy</code></td>
<td>
<p>length-2 <code>numeric vector</code> with numbers of points evenly spaced on (x, y).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dxy</code></td>
<td>
<p>length-2 <code>numeric vector</code> with distances for points evenly spaced on (x, y).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predGrid</code></td>
<td>
<p><code>matrix</code> with 2 columns for (x, y).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effortOnly</code></td>
<td>
<p><code>logical</code> to return only points where counts are positive (e.g., effort is unknown).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For incidence data with species names <code>specs</code> and locations <code>(x, y)</code> constructs a lattice based a prediction grid <code>predGrid</code>, at a density of <code>(dx, dy)</code>, or with numbers of lattice points <code>(nx, ny)</code>.  If <code>effortOnly = T</code>, returns only points with non-zero values.
</p>
<p>A prediction grid <code>predGrid</code> would be passed when counts by locations of known effort are required or where multiple groups should be assign to the same lattice points.
</p>
<p>The returned <code>gridBySpec</code> can be analyzed in <code>gjam</code> with known effort as count data <code>"DA"</code> or with unknown effort as count composition data <code>"CC"</code>.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gridBySpec</code></td>
<td>
<p><code>matrix</code> with rows for grid locations, columns for counts by species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predGrid</code></td>
<td>
<p><code>matrix</code> with columns for (x, y) and rows matching <code>gridBySpec</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>James S Clark, <a href="mailto:jimclark@duke.edu">jimclark@duke.edu</a>
</p>


<h3>References</h3>

<p>Clark, J.S., D. Nemergut, B. Seyednasrollah, P. Turner, and S. Zhang. 2016.  Generalized joint attribute modeling for biodiversity analysis: Median-zero, multivariate, multifarious data.  Ecological Monographs 87, 34-56.
</p>


<h3>See Also</h3>

<p><code>gjam</code>
A more detailed vignette is can be obtained with:
</p>
<p><code>browseVignettes('gjam')</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## random data
n  &lt;- 100
s  &lt;- sample( letters[1:3], n, replace = TRUE)
xy &lt;- cbind( rnorm(n,0,.2), rnorm(n,10,2) )

nx &lt;- ny &lt;- 5                                    # uniform 5 X 5 lattice
f  &lt;- gjamPoints2Grid(s, xy, nxy = c(nx, ny))
plot(f$predGrid[,1], f$predGrid[,2], cex=.1, xlim=c(-1,1), ylim=c(0,20),
     xlab = 'x', ylab = 'y')
text(f$predGrid[,1], f$predGrid[,2], rowSums(f$gridBySpec))

dx &lt;- .2                                          # uniform density
dy &lt;- 1.5
g  &lt;- gjamPoints2Grid(s, xy, dxy = c(dx, dy))
text(g$predGrid[,1], g$predGrid[,2], rowSums(g$gridBySpec), col='brown')

p  &lt;- cbind( runif(30, -1, 1), runif(30, 0, 20) ) # irregular lattice
h  &lt;- gjamPoints2Grid(s, xy, predGrid = p)
text(h$predGrid[,1], h$predGrid[,2], rowSums(h$gridBySpec), col='blue')

## End(Not run)
</code></pre>


</div>