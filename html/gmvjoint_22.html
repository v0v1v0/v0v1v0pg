<div class="container">

<table style="width: 100%;"><tr>
<td>ROC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Receiver Operator Characteristics (ROC) for a <code>joint</code> model.</h2>

<h3>Description</h3>

<p>Using longitudinal information available up to a time, establish diagnostic
capabilities (ROC, AUC and Brier score) of a fitted joint model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ROC(fit, data, Tstart, delta, control = list(), progress = TRUE, boot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>a joint model fit by the  <code>joint</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the data to which the original <code>joint</code> model was fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tstart</code></td>
<td>
<p>The start of the time window of interest, <code>Tstart</code> denotes the time
point up to which longitudinal process(es) is used in calculation of survival probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>scalar denoting the length of time interval to check for failure times.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>list of control arguments to be passed to <code>dynPred</code>, which
acts as the main workhorse function for <code>ROC</code>. Takes default arguments of 
<code>dynPred</code> if not supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>should a progress bar be shown, showing the current progress of the ROC
function (
to <code>progress = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot</code></td>
<td>
<p>logical. Not currently used, legacy argument.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of class <code>ROC.joint</code> consisting of: </p>

<dl>
<dt><code>Tstart</code></dt>
<dd>
<p>numeric denoting the start of the time window of interest; all dynamic
predictions generated used longitudinal information up-to time <code class="reqn">T_{\mathrm{start}}</code>.</p>
</dd>
<dt><code>delta</code></dt>
<dd>
<p>scalar which denotes length of interval to check, such that the window
is defined by <code class="reqn">[T_{\mathrm{start}}, T_{\mathrm{start}}, + \delta]</code>.</p>
</dd>
<dt><code>candidate.u</code></dt>
<dd>
<p>candidate vector of failure times to calculate dynamic probability
of surviving for each subject alive in <code>data</code> at time <code class="reqn">T_{\mathrm{start}}</code>.</p>
</dd>
<dt><code>window.failures</code></dt>
<dd>
<p>numeric denoting the number of observed failures in
<code class="reqn">[T_{\mathrm{start}}, T_{\mathrm{start}}, + \delta]</code>.</p>
</dd>
<dt><code>Tstart.alive</code></dt>
<dd>
<p>numeric denoting the risk set at <code>Tstart</code>.</p>
</dd>
<dt><code>metrics</code></dt>
<dd>
<p>a <code>data.frame</code> containing probabilistic <code>thresholds</code> with:
<code>TP</code> true positives; <code>FN</code> false negatives; <code>FP</code> false positives;
<code>TN</code> true negatives; <code>TPR</code> true positive rate (sensitivity); <code>FPR</code> false
positive rate (1-specificity); <code>Acc</code> accuracy; <code>PPV</code> positive predictive value
(precision); <code>NPV</code> negative predictive value; <code>F1s</code> F1 score and <code>J</code> Youden's
J statistic.</p>
</dd>
<dt>AUC</dt>
<dd>
<p>the area under the curve.</p>
</dd>
<dt>BrierScore</dt>
<dd>
<p>The Brier score.</p>
</dd>
<dt>PE</dt>
<dd>
<p>The predicted error (taking into account censoring), loss function: square.</p>
</dd>
<dt>MH.acceptance</dt>
<dd>
<p>Raw acceptance percentages for each subject sampled.</p>
</dd>
<dt>MH.acceptance.bar</dt>
<dd>
<p>mean acceptance of M-H scheme across all subjects.</p>
</dd>
<dt>simulation.info</dt>
<dd>
<p>list containing information about call to <code>dynPred</code>.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>James Murray (<a href="mailto:j.murray7@ncl.ac.uk">j.murray7@ncl.ac.uk</a>).
</p>


<h3>See Also</h3>

<p><code>dynPred</code>, and <code>plot.ROC.joint</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(PBC)
PBC$serBilir &lt;- log(PBC$serBilir)
long.formulas &lt;- list(serBilir ~ drug * time + (1 + time|id))
surv.formula &lt;- Surv(survtime, status) ~ drug
family &lt;- list('gaussian')
fit &lt;- joint(long.formulas, surv.formula, PBC, family)
(roc &lt;- ROC(fit, PBC, Tstart = 8, delta = 2, control = list(nsim = 25)))
plot(roc)

</code></pre>


</div>