<div class="container">

<table style="width: 100%;"><tr>
<td>gemExogenousUtilityLevel_EndogenousLaborSupply_3_3</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Some Examples with Exogenous Utility Level and Endogenous Labor Supply</h2>

<h3>Description</h3>

<p>Some examples with exogenous utility level and endogenous labor supply.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gemExogenousUtilityLevel_EndogenousLaborSupply_3_3(...)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to be passed to the function sdm2.</p>
</td>
</tr></table>
<h3>Examples</h3>

<pre><code class="language-R">
## a spot market clearing path (alias instantaneous equilibrium path)
utility.level.laborer &lt;- 0.625

dst.firm &lt;- node_new("output",
  type = "CD",
  alpha = 1,
  beta = c(0.5, 0.5),
  "land", "lab"
)

dst.landowner &lt;- node_new(
  "util",
  type = "Leontief", a = 1,
  "prod"
)

dst.laborer &lt;- Clone(dst.landowner)

dstl &lt;- list(dst.firm, dst.landowner, dst.laborer)

ge &lt;- sdm2(
  A = dstl,
  B = diag(c(1, 0, 0)),
  S0Exg = matrix(c(
    NA, NA, NA,
    NA, 100, NA,
    NA, NA, 100
  ), 3, 3, TRUE),
  GRExg = 0,
  names.commodity = c("prod", "land", "lab"),
  names.agent = c("firm", "landowner", "laborer"),
  maxIteration = 1,
  numberOfPeriods = 30,
  numeraire = "prod",
  ts = TRUE,
  policy = list(
    function(time, state, state.history) {
      if (time &gt; 1) {
        last.labor.supply &lt;- state.history$S[3, 3, time - 1]

        ratio &lt;- state$last.z[3] / last.labor.supply / utility.level.laborer
        state$S[3, 3] &lt;- last.labor.supply * ratio
      }
      state
    },
    policyMarketClearingPrice
  )
)

matplot(ge$ts.p, type = "l")
plot(ge$ts.S[3, 3, ], type = "l")
ge$S


## Regard the laborer as a firm.
dstl[[3]] &lt;- node_new(
  "lab",
  type = "Leontief", a = utility.level.laborer,
  "prod"
)

ge &lt;- sdm2(
  A = dstl,
  B = diag(c(1, 0, 1)),
  S0Exg = matrix(c(
    NA, NA, NA,
    NA, 100, NA,
    NA, NA, NA
  ), 3, 3, TRUE),
  names.commodity = c("prod", "land", "lab"),
  names.agent = c("firm", "landowner", "laborer"),
  maxIteration = 1,
  numberOfPeriods = 30,
  numeraire = "prod",
  ts = TRUE,
  policy = policyMarketClearingPrice
)

matplot(ge$ts.p, type = "l")
plot(ge$ts.S[3, 3, ], type = "l")
ge$p
ge$S

</code></pre>


</div>