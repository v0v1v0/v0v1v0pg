<div class="container">

<table style="width: 100%;"><tr>
<td>CrossTable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross Tabulation with Tests for Factor Independence</h2>

<h3>Description</h3>

<p>An implementation of a cross-tabulation function with output similar to
S-Plus crosstabs() and SAS Proc Freq (or SPSS format) with Chi-square,
Fisher and McNemar tests of the independence of all table factors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CrossTable(
  x,
  y,
  digits = 3,
  max.width = 5,
  expected = FALSE,
  prop.r = TRUE,
  prop.c = TRUE,
  prop.t = TRUE,
  prop.chisq = TRUE,
  chisq = FALSE,
  fisher = FALSE,
  mcnemar = FALSE,
  resid = FALSE,
  sresid = FALSE,
  asresid = FALSE,
  missing.include = FALSE,
  format = c("SAS", "SPSS"),
  dnn = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector or a matrix. If y is specified, x must be a vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A vector in a matrix or a dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Number of digits after the decimal point for cell proportions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.width</code></td>
<td>
<p>In the case of a 1 x n table, the default will be to print
the output horizontally. If the number of columns exceeds max.width, the
table will be wrapped for each successive increment of max.width columns. If
you want a single column vertical table, set max.width to 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expected</code></td>
<td>
<p>If <code>TRUE</code>, chisq will be set to <code>TRUE</code> and
expected cell counts from the <code class="reqn">\chi^2</code> will be included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.r</code></td>
<td>
<p>If <code>TRUE</code>, row proportions will be included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.c</code></td>
<td>
<p>If <code>TRUE</code>, column proportions will be included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.t</code></td>
<td>
<p>If <code>TRUE</code>, table proportions will be included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.chisq</code></td>
<td>
<p>If <code>TRUE</code>, chi-square contribution of each cell will
be included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chisq</code></td>
<td>
<p>If <code>TRUE</code>, the results of a chi-square test will be
included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fisher</code></td>
<td>
<p>If <code>TRUE</code>, the results of a Fisher Exact test will be
included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcnemar</code></td>
<td>
<p>If <code>TRUE</code>, the results of a McNemar test will be
included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resid</code></td>
<td>
<p>If <code>TRUE</code>, residual (Pearson) will be included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sresid</code></td>
<td>
<p>If <code>TRUE</code>, standardized residual will be included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asresid</code></td>
<td>
<p>If <code>TRUE</code>, adjusted standardized residual will be
included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing.include</code></td>
<td>
<p>If <code>TRUE</code>, then remove any unused factor levels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Either SAS (default) or SPSS, depending on the type of output
desired.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dnn</code></td>
<td>
<p>the names to be given to the dimensions in the result (the
dimnames names).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional arguments</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A summary table will be generated with cell row, column and table
proportions and marginal totals and proportions. Expected cell counts can be
printed if desired (if 'chisq = TRUE'). In the case of a 2 x 2 table, both
corrected and uncorrected values will be included for appropriate tests. In
the case of tabulating a single vector, cell counts and table proportions
will be printed.
</p>
<p>Note: If 'x' is a vector and 'y' is not specified, no statistical tests will
be performed, even if any are set to <code>TRUE</code>.
</p>


<h3>Value</h3>

<p>A list with multiple components including key table data and
statistical test results, where performed.
</p>
<p>t: An n by m matrix containing table cell counts
</p>
<p>prop.col: An n by m matrix containing cell column proportions
</p>
<p>prop.row: An n by m matrix containing cell row proportions
</p>
<p>prop.tbl: An n by m matrix containing cell table proportions
</p>
<p>chisq: Results from the Chi-Square test. A list with class 'htest'. See
?chisq.test for details
</p>
<p>chisq.corr: Results from the corrected Chi-Square test. A list with class
'htest'. See ?chisq.test for details. ONLY included in the case of a 2 x 2
table.
</p>
<p>fisher.ts: Results from the two-sided Fisher Exact test. A list with class
'htest'. See ?fisher.test for details. ONLY included if 'fisher' = TRUE.
</p>
<p>fisher.lt: Results from the Fisher Exact test with HA = "less". A list with
class 'htest'. See ?fisher.test for details.  ONLY included if 'fisher' =
TRUE and in the case of a 2 x 2 table.
</p>
<p>fisher.gt: Results from the Fisher Exact test with HA = "greater".  A list
with class 'htest'. See ?fisher.test for details.  ONLY included if 'fisher'
= TRUE and in the case of a 2 x 2 table.
</p>
<p>mcnemar: Results from the McNemar test. A list with class 'htest'. See
?mcnemar.test for details. ONLY included if 'mcnemar' = TRUE.
</p>
<p>mcnemar.corr: Results from the corrected McNemar test. A list with class
'htest'. See ?mcnemar.test for details. ONLY included if 'mcnemar' = TRUE
and in the case of a 2 x 2 table.
</p>
<p>resid/sresid/asresid: Pearson Residuals (from chi-square tests).
</p>


<h3>Author(s)</h3>

<p>Marc Schwartz <a href="mailto:marc_schwartz@comcast.net">marc_schwartz@comcast.net</a>. Original version
posted to r-devel on Jul 27, 2002. SPSS format modifications added by Nitin
Jain based upon code provided by Dirk Enzmann
<a href="mailto:dirk.enzmann@jura.uni-hamburg.de">dirk.enzmann@jura.uni-hamburg.de</a>
</p>


<h3>See Also</h3>

<p><code>stats::xtabs()</code>, <code>base::table()</code>, <code>base::prop.table()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# Simple cross tabulation of education versus prior induced abortions
# using infertility data
data(infert, package = "datasets")
CrossTable(infert$education, infert$induced, expected = TRUE)
CrossTable(infert$education, infert$induced, expected = TRUE, format="SAS")
CrossTable(infert$education, infert$induced, expected = TRUE, format="SPSS")
CrossTable(warpbreaks$wool, warpbreaks$tension, dnn = c("Wool", "Tension"))

</code></pre>


</div>