<div class="container">

<table style="width: 100%;"><tr>
<td>gs_info_wlr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Information and effect size for weighted log-rank test</h2>

<h3>Description</h3>

<p>Based on piecewise enrollment rate, failure rate, and dropout rates computes
approximate information and effect size using an average hazard ratio model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gs_info_wlr(
  enroll_rate = define_enroll_rate(duration = c(2, 2, 10), rate = c(3, 6, 9)),
  fail_rate = define_fail_rate(duration = c(3, 100), fail_rate = log(2)/c(9, 18), hr =
    c(0.9, 0.6), dropout_rate = 0.001),
  ratio = 1,
  event = NULL,
  analysis_time = NULL,
  weight = wlr_weight_fh,
  approx = "asymptotic",
  interval = c(0.01, 1000)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>enroll_rate</code></td>
<td>
<p>An <code>enroll_rate</code> data frame with or without stratum
created by <code>define_enroll_rate()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fail_rate</code></td>
<td>
<p>Failure and dropout rates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio</code></td>
<td>
<p>Experimental:Control randomization ratio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event</code></td>
<td>
<p>Targeted minimum events at each analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysis_time</code></td>
<td>
<p>Targeted minimum study duration at each analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>Weight of weighted log rank test:
</p>

<ul>
<li> <p><code>"1"</code> = unweighted.
</p>
</li>
<li> <p><code>"n"</code> = Gehan-Breslow.
</p>
</li>
<li> <p><code>"sqrtN"</code> = Tarone-Ware.
</p>
</li>
<li> <p><code>"FH_p[a]_q[b]"</code> = Fleming-Harrington with p=a and q=b.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>approx</code></td>
<td>
<p>Approximate estimation method for Z statistics.
</p>

<ul>
<li> <p><code>"event_driven"</code> = only work under proportional hazard model with log rank test.
</p>
</li>
<li> <p><code>"asymptotic"</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>An interval that is presumed to include the time at which
expected event count is equal to targeted event.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>ahr()</code> function computes statistical information at targeted event times.
The <code>expected_time()</code> function is used to get events and average HR at
targeted <code>analysis_time</code>.
</p>


<h3>Value</h3>

<p>A tibble with columns Analysis, Time, N, Events, AHR, delta, sigma2,
theta, info, info0.
<code>info</code> and <code>info0</code> contain statistical information under H1, H0, respectively.
For analysis <code>k</code>, <code>Time[k]</code> is the maximum of <code>analysis_time[k]</code> and the
expected time required to accrue the targeted <code>event[k]</code>.
<code>AHR</code> is the expected average hazard ratio at each analysis.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(gsDesign2)

# Set enrollment rates
enroll_rate &lt;- define_enroll_rate(duration = 12, rate = 500 / 12)

# Set failure rates
fail_rate &lt;- define_fail_rate(
  duration = c(4, 100),
  fail_rate = log(2) / 15, # median survival 15 month
  hr = c(1, .6),
  dropout_rate = 0.001
)

# Set the targeted number of events and analysis time
event &lt;- c(30, 40, 50)
analysis_time &lt;- c(10, 24, 30)

gs_info_wlr(
  enroll_rate = enroll_rate, fail_rate = fail_rate,
  event = event, analysis_time = analysis_time
)
</code></pre>


</div>