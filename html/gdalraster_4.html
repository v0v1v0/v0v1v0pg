<div class="container">

<table style="width: 100%;"><tr>
<td>bandCopyWholeRaster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Copy a whole raster band efficiently</h2>

<h3>Description</h3>

<p><code>bandCopyWholeRaster()</code> copies the complete raster contents of one band to
another similarly configured band. The source and destination bands must
have the same xsize and ysize. The bands do not have to have the same data
type. It implements efficient copying, in particular "chunking" the copy in
substantial blocks. This is a wrapper for <code>GDALRasterBandCopyWholeRaster()</code>
in the GDAL API.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bandCopyWholeRaster(
  src_filename,
  src_band,
  dst_filename,
  dst_band,
  options = NULL,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>src_filename</code></td>
<td>
<p>Filename of the source raster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>src_band</code></td>
<td>
<p>Band number in the source raster to be copied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dst_filename</code></td>
<td>
<p>Filename of the destination raster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dst_band</code></td>
<td>
<p>Band number in the destination raster to copy into.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>Optional list of transfer hints in a vector of <code>"NAME=VALUE"</code>
pairs. The currently supported <code>options</code> are:
</p>

<ul>
<li> <p><code>"COMPRESSED=YES"</code> to force alignment on target dataset block sizes to
achieve best compression.
</p>
</li>
<li> <p><code>"SKIP_HOLES=YES"</code> to skip chunks that contain only empty blocks.
Empty blocks are blocks that are generally not physically present in the
file, and when read through GDAL, contain only pixels whose value is the
nodata value when it is set, or whose value is 0 when the nodata value is
not set. The query is done in an efficient way without reading the actual
pixel values (if implemented by the raster format driver, otherwise will
not be skipped).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>Logical scalar. If <code>TRUE</code>, a progress bar will not be
displayed. Defaults to <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Logical indicating success (invisible <code>TRUE</code>).
An error is raised if the operation fails.
</p>


<h3>See Also</h3>

<p><code>GDALRaster-class</code>, <code>create()</code>, <code>createCopy()</code>,
<code>rasterFromRaster()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## copy Landsat data from a single-band file to a new multi-band image
b5_file &lt;- system.file("extdata/sr_b5_20200829.tif", package="gdalraster")
dst_file &lt;- file.path(tempdir(), "sr_multi.tif")
rasterFromRaster(b5_file, dst_file, nbands=7, init=0)
opt &lt;- c("COMPRESSED=YES", "SKIP_HOLES=YES")
bandCopyWholeRaster(b5_file, 1, dst_file, 5, options=opt)
ds &lt;- new(GDALRaster, dst_file)
ds$getStatistics(band=5, approx_ok=FALSE, force=TRUE)
ds$close()

deleteDataset(dst_file)
</code></pre>


</div>