<div class="container">

<table style="width: 100%;"><tr>
<td>plotFlights</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot flight data</h2>

<h3>Description</h3>

<p>Plotting function to visualize the flight connections from the <code>flights</code> dataset.
This function requires the package <code>ggplot2</code> to be installed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotFlights(
  airportIndices = NULL,
  airports_sel = NULL,
  connections_sel = NULL,
  graph = NULL,
  plotAirports = TRUE,
  plotConnections = TRUE,
  labelAirports = FALSE,
  returnGGPlot = FALSE,
  useAirportNFlights = FALSE,
  useConnectionNFlights = FALSE,
  minNFlights = 0,
  map = "state",
  vertexColors = NULL,
  vertexShapes = NULL,
  edgeColors = NULL,
  xyRatio = NULL,
  clipMap = FALSE,
  useLatex = FALSE,
  edgeAlpha = 0.2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>airportIndices</code></td>
<td>
<p>The indices of the airports (w.r.t. <code>airports_sel</code>) to include.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>airports_sel</code></td>
<td>
<p>The airports to plot. Might be further subset by arguments <code>airportIndices</code>, <code>graph</code>.
If <code>NULL</code>, then <code>flights</code><code style="white-space: pre;">⁠$airports⁠</code> will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>connections_sel</code></td>
<td>
<p>A three columns data frame as output by <code>flightCountMatrixToConnectionList()</code>.
If <code>NULL</code>, then <code>flights</code><code style="white-space: pre;">⁠$nFlights⁠</code> will be used to construct one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph</code></td>
<td>
<p>An optional <code>igraph::graph</code> object, containing a flight graph to plot.
Vertices should either match the selected airports in number and order,
or be named with the corresponding IATA codes of the airports they represent.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotAirports</code></td>
<td>
<p>Logical. Whether to plot the airports specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotConnections</code></td>
<td>
<p>Logical. Whether to plot the connections specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelAirports</code></td>
<td>
<p>Logical. Whether to show the IATA code next to each plotted airport.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnGGPlot</code></td>
<td>
<p>If <code>TRUE</code>, a <code>ggplot2::ggplot</code> object is returned and not plotted immediately.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useAirportNFlights</code></td>
<td>
<p>Logical. Whether to vary the size of the circles representing airports in the plot,
according to the number of flights at that airport.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useConnectionNFlights</code></td>
<td>
<p>Logical. Whether to vary the size of the edges representing connections in the plot,
according to the number of flights on that connection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minNFlights</code></td>
<td>
<p>Numeric scalar. Only plot connections with at least this many flights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>String or <code>data.frame</code> or <code>NULL</code>. What map to use as the background image.
Strings are passed to <code>ggplot2::map_data()</code>, data frames are assumed to be the output of <code>ggplot2::map_data()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertexColors</code></td>
<td>
<p>Optional vector, named with IATA codes, to be used as colors for the vertices/airports.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertexShapes</code></td>
<td>
<p>Optional vector, named with IATA codes, to be used as shapes for the vertices/airports. Is coerced to <code>character</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edgeColors</code></td>
<td>
<p>Optional vector or symmetric matrix (character or numeric), to be used as colors for edges/connections.
If this is a vector, its entries must match the plotted connections (in the order specified in <code>connections_sel</code> or implied by <code>igraph::get.edgelist</code>).
If this is a matrix, its row/column names must be IATA codes, or its rows/columns match the plotted airports (in number and order).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xyRatio</code></td>
<td>
<p>Approximate X-Y-ratio (w.r.t. distance on the ground) of the area shown in the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clipMap</code></td>
<td>
<p>Logical or numeric scalar. Whether to ignore the map image when determining the axis limits of the plot.
If it is a positive scalar, the plot limits are extended by that factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useLatex</code></td>
<td>
<p>Whether to format numbers etc. as latex code (useful when plotting to tikz).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edgeAlpha</code></td>
<td>
<p>Numeric scalar between 0 and 1. The alpha value to be used when plotting edges/connections.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>returnGGPlot</code> is <code>TRUE</code>, a <code>ggplot2::ggplot</code> object, otherwise <code>NULL</code>.
</p>


<h3>See Also</h3>

<p><code>plotDanube</code>
</p>
<p>Other flight data related topics:
<code>flightCountMatrixToConnectionList()</code>,
<code>flights</code>,
<code>getFlightDelayData()</code>,
<code>getFlightGraph()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Plot all airports in the dataset
plotFlights(plotConnections = FALSE, map = 'world')

# Plot a selection of airports
plotFlights(c('JFK', 'SFO', 'LAX'), useConnectionNFlights = TRUE, useAirportNFlights = TRUE)

# Plot airports with a custom connections graph
IATAs &lt;- c('ACV', 'BFL', 'EUG', 'SFO', 'MRY')
graph &lt;- igraph::make_full_graph(length(IATAs))
plotFlights(IATAs, graph=graph, clipMap = 1.5)

</code></pre>


</div>