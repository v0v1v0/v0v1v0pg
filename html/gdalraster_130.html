<div class="container">

<table style="width: 100%;"><tr>
<td>vsi_copy_file</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Copy a source file to a target filename</h2>

<h3>Description</h3>

<p><code>vsi_copy_file()</code> is a wrapper for <code>VSICopyFile()</code> in the GDAL Common
Portability Library. The GDAL VSI functions allow virtualization of disk
I/O so that non file data sources can be made to appear as files.
See <a href="https://gdal.org/user/virtual_file_systems.html">https://gdal.org/user/virtual_file_systems.html</a>.
Requires GDAL &gt;= 3.7.
</p>


<h3>Usage</h3>

<pre><code class="language-R">vsi_copy_file(src_file, target_file, show_progress = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>src_file</code></td>
<td>
<p>Character string. Filename of the source file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target_file</code></td>
<td>
<p>Character string. Filename of the target file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_progress</code></td>
<td>
<p>Logical scalar. If <code>TRUE</code>, a progress bar will be
displayed (the size of <code>src_file</code> will be retrieved in GDAL with
<code>VSIStatL()</code>). Default is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The following copies are made fully on the target server, without local
download from source and upload to target:
</p>

<ul>
<li>
<p> /vsis3/ -&gt; /vsis3/
</p>
</li>
<li>
<p> /vsigs/ -&gt; /vsigs/
</p>
</li>
<li>
<p> /vsiaz/ -&gt; /vsiaz/
</p>
</li>
<li>
<p> /vsiadls/ -&gt; /vsiadls/
</p>
</li>
<li>
<p> any of the above or /vsicurl/ -&gt; /vsiaz/ (starting with GDAL 3.8)
</p>
</li>
</ul>
<h3>Value</h3>

<p><code>0</code> on success or <code>-1</code> on an error.
</p>


<h3>Note</h3>

<p>If <code>target_file</code> has the form /vsizip/foo.zip/bar, the default options
described for the function <code>addFilesInZip()</code> will be in effect.
</p>


<h3>See Also</h3>

<p><code>copyDatasetFiles()</code>, <code>vsi_stat()</code>, <code>vsi_sync()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">elev_file &lt;- system.file("extdata/storml_elev.tif", package="gdalraster")
tmp_file &lt;- "/vsimem/elev_temp.tif"

# Requires GDAL &gt;= 3.7
if (as.integer(gdal_version()[2]) &gt;= 3070000) {
  result &lt;- vsi_copy_file(elev_file, tmp_file)
  print(result)
  print(vsi_stat(tmp_file, "size"))

  vsi_unlink(tmp_file)
}
</code></pre>


</div>