<div class="container">

<table style="width: 100%;"><tr>
<td>evaluatorPLS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>PLS Evaluator</h2>

<h3>Description</h3>

<p>Creates the object that controls the evaluation step in the genetic algorithm
</p>


<h3>Usage</h3>

<pre><code class="language-R">evaluatorPLS(
  numReplications = 30L,
  innerSegments = 7L,
  outerSegments = 1L,
  testSetSize = NULL,
  numThreads = NULL,
  maxNComp = NULL,
  method = c("simpls"),
  sdfact = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>numReplications</code></td>
<td>
<p>The number of replications used to evaluate a variable subset (must be between 1 and 2^16)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>innerSegments</code></td>
<td>
<p>The number of CV segments used in one replication (must be between 2 and 2^16)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outerSegments</code></td>
<td>
<p>The number of outer CV segments used in one replication (between 0 and 2^16). If this
is greater than 1, repeated double cross-validation strategy (rdCV) will be used instead of
simple repeated cross-validation (srCV) (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testSetSize</code></td>
<td>
<p>The relative size of the test set used for simple repeated CV (between 0 and 1). This parameter
is ignored if outerSegments &gt; 1 and a warning will be issued.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numThreads</code></td>
<td>
<p>The maximum number of threads the algorithm is allowed to spawn (a value less than
1 or NULL means no threads)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxNComp</code></td>
<td>
<p>The maximum number of components the PLS models should consider (if not specified,
the number of components is not constrained)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The PLS method used to fit the PLS model (currently only SIMPLS is implemented)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdfact</code></td>
<td>
<p>The factor to scale the stand. dev. of the MSEP values when selecting the optimal number
of components. For the "one standard error rule", <code>sdfact</code> is 1.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>With this method the genetic algorithm uses PLS regression models to assess the prediction power of
variable subsets. By default, simple repeated cross-validation (srCV) is used. The optimal number
of PLS components is estimated using cross-validation (with <code>innerSegments</code> segments) on a
training set. The prediction power is then evaluated by fitting a PLS regression model with this optimal
number of components to the training set and predicting the values of a test set (of either
<code>testSetSize</code> size or <code>1 / innerSegments</code>, if <code>testSetSize</code> is not specified).
</p>
<p>If the parameter <code>outerSegments</code> is given, repeated double cross-validation is used instead.
There, the data set is first split into <code>outerSegments</code> segments and one segment is used as
prediction set and the other segments as test set. This is repeated for each outer segment.
</p>
<p>The whole procedure is repeated <code>numReplications</code> times to get a more reliable estimate of the
prediction power.
</p>


<h3>Value</h3>

<p>Returns an S4 object of type <code>GenAlgPLSEvaluator</code> to be used as argument to
a call of <code>genAlg</code>.
</p>


<h3>See Also</h3>

<p>Other GenAlg Evaluators: 
<code>evaluatorFit()</code>,
<code>evaluatorLM()</code>,
<code>evaluatorUserFunction()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">ctrl &lt;- genAlgControl(populationSize = 100, numGenerations = 15, minVariables = 5,
    maxVariables = 12, verbosity = 1)

evaluatorSRCV &lt;- evaluatorPLS(numReplications = 2, innerSegments = 7, testSetSize = 0.4,
    numThreads = 1)

evaluatorRDCV &lt;- evaluatorPLS(numReplications = 2, innerSegments = 5, outerSegments = 3,
    numThreads = 1)

# Generate demo-data
set.seed(12345)
X &lt;- matrix(rnorm(10000, sd = 1:5), ncol = 50, byrow = TRUE)
y &lt;- drop(-1.2 + rowSums(X[, seq(1, 43, length = 8)]) + rnorm(nrow(X), 1.5));

resultSRCV &lt;- genAlg(y, X, control = ctrl, evaluator = evaluatorSRCV, seed = 123)
resultRDCV &lt;- genAlg(y, X, control = ctrl, evaluator = evaluatorRDCV, seed = 123)

subsets(resultSRCV, 1:5)
subsets(resultRDCV, 1:5)
</code></pre>


</div>