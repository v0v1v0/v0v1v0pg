<div class="container">

<table style="width: 100%;"><tr>
<td>ggseqmsplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Modal State Sequence Plot</h2>

<h3>Description</h3>

<p>Function for rendering modal state sequence plot with
<code>ggplot2</code> (Wickham 2016) instead
of base R's <code>plot</code> function that is used by
<code>TraMineR::seqplot</code> (Gabadinho et al. 2011).
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggseqmsplot(
  seqdata,
  no.n = FALSE,
  barwidth = NULL,
  group = NULL,
  weighted = TRUE,
  with.missing = FALSE,
  border = FALSE,
  facet_ncol = NULL,
  facet_nrow = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>seqdata</code></td>
<td>
<p>State sequence object (class <code>stslist</code>) created with the <code>TraMineR::seqdef</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no.n</code></td>
<td>
<p>specifies if number of (weighted) sequences is shown (default is <code>TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>barwidth</code></td>
<td>
<p>specifies width of bars (default is <code>NULL</code>); valid range: (0, 1]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>A vector of the same length as the sequence data indicating group membership. When not NULL, a distinct plot is generated for each level of group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted</code></td>
<td>
<p>Controls if weights (specified in <code>TraMineR::seqdef</code>) should be used. Default is <code>TRUE</code>, i.e. if available weights are used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>with.missing</code></td>
<td>
<p>Specifies if missing states should be considered when computing the state distributions (default is <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p>if <code>TRUE</code> bars are plotted with black outline; default is <code>FALSE</code> (also accepts <code>NULL</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_ncol</code></td>
<td>
<p>Number of columns in faceted (i.e. grouped) plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_nrow</code></td>
<td>
<p>Number of rows in faceted (i.e. grouped) plot</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function uses <code>TraMineR::seqmodst</code>
to obtain the modal states and their prevalence. This requires that the
input data (<code>seqdata</code>) are stored as state sequence object (class <code>stslist</code>)
created with the <code>TraMineR::seqdef</code> function.
</p>
<p>The data on the modal states and their prevalences are reshaped to be plotted with
<code>ggplot2::geom_bar</code>. The data
and specifications used for rendering the plot can be obtained by storing the
plot as an object. The appearance of the plot can be adjusted just like with
every other ggplot (e.g., by changing the theme or the scale using <code>+</code> and
the respective functions).
</p>


<h3>Value</h3>

<p>A modal state sequence plot. If stored as object the resulting list
object also contains the data (long format) used for rendering the plot
</p>


<h3>Author(s)</h3>

<p>Marcel Raab
</p>


<h3>References</h3>

<p>Gabadinho A, Ritschard G, Müller NS, Studer M (2011).
“Analyzing and Visualizing State Sequences in R with TraMineR.”
<em>Journal of Statistical Software</em>, <b>40</b>(4), 1–37.
<a href="https://doi.org/10.18637/jss.v040.i04">doi:10.18637/jss.v040.i04</a>.<br><br> Wickham H (2016).
<em>ggplot2: Elegant Graphics for Data Analysis</em>,  Use R!, 2nd ed. edition.
Springer, Cham.
<a href="https://doi.org/10.1007/978-3-319-24277-4">doi:10.1007/978-3-319-24277-4</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Use example data from TraMineR: actcal data set
data(actcal)

# We use only a sample of 300 cases
set.seed(1)
actcal &lt;- actcal[sample(nrow(actcal), 300), ]
actcal.lab &lt;- c("&gt; 37 hours", "19-36 hours", "1-18 hours", "no work")
actcal.seq &lt;- seqdef(actcal, 13:24, labels = actcal.lab)

# modal state sequence plot; grouped by sex
# with TraMineR::seqplot
seqmsplot(actcal.seq, group = actcal$sex)
# with ggseqplot
ggseqmsplot(actcal.seq, group = actcal$sex)
# with ggseqplot and some layout changes
ggseqmsplot(actcal.seq, group = actcal$sex, no.n = TRUE, border = FALSE, facet_nrow = 2)

</code></pre>


</div>