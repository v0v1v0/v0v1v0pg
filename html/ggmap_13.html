<div class="container">

<table style="width: 100%;"><tr>
<td>get_googlemap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get a Google Map.</h2>

<h3>Description</h3>

<p><code>get_googlemap()</code> queries the Google Maps Static API version 2 to download
a static map.  Note that in most cases by using this function you are
agreeing to the Google Maps API Terms of Service at
<a href="https://cloud.google.com/maps-platform/terms/">https://cloud.google.com/maps-platform/terms/</a>. Note that as of mid-2018,
registering with Google Cloud to obtain an API key is required to use any of
Google's services, including <code>get_googlemap()</code>. Usage and billing may apply,
see the links under See Also further down in this documentation for more
details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_googlemap(
  center = c(lon = -95.3632715, lat = 29.7632836),
  zoom = 10,
  size = c(640, 640),
  scale = 2,
  format = c("png8", "gif", "jpg", "jpg-baseline", "png32"),
  maptype = GOOGLE_VALID_MAP_TYPES,
  language = "en-EN",
  messaging = FALSE,
  urlonly = FALSE,
  filename = NULL,
  color = c("color", "bw"),
  force = FALSE,
  where = tempdir(),
  archiving = FALSE,
  ext = "com",
  inject = "",
  region,
  markers,
  path,
  visible,
  style,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>the center of the map; either a longitude/latitude numeric
vector or a string containing a location, in which case <code>geocode()</code> is
called with <code>source = "google"</code>. (default: <code>c(lon = -95.3632715, lat = 29.7632836)</code>, a reference to Houston, Texas)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zoom</code></td>
<td>
<p>map zoom; an integer from 3 (continent) to 21 (building), default
value 10 (city)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>rectangular dimensions of map in pixels - horizontal x vertical -
with a max of c(640, 640). this parameter is affected in a multiplicative
way by scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>multiplicative factor for the number of pixels returned possible
values are 1, 2, or 4 (e.g. size = c(640,640) and scale = 2 returns an
image with 1280x1280 pixels).  4 is reserved for google business users
only.  scale also affects the size of labels as well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>character string providing image format - png, jpeg, and gif
formats available in various flavors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maptype</code></td>
<td>
<p>character string providing google map theme. options available
are <code>"terrain"</code>, <code>"satellite"</code>, <code>"roadmap"</code>, and <code>"hybrid"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>language</code></td>
<td>
<p>character string providing language of map labels (for themes
with them) in the format <code>"en-EN"</code>.  not all languages are supported; for
those which aren't the default language is used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>messaging</code></td>
<td>
<p>turn messaging on/off</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>urlonly</code></td>
<td>
<p>return url only</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>destination file for download (file extension added according
to format). Default <code>NULL</code> means a random <code>tempfile()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>color or black-and-white</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force</code></td>
<td>
<p>if the map is on file, should a new map be looked up?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>where</code></td>
<td>
<p>where should the file drawer be located (without terminating
"/")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>archiving</code></td>
<td>
<p>use archived maps.  note: by changing to TRUE you agree to
the one of the approved uses listed in the Google Maps API Terms of Service
: <a href="https://cloud.google.com/maps-platform/terms/">https://cloud.google.com/maps-platform/terms/</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ext</code></td>
<td>
<p>domain extension (e.g. <code>"com"</code>, <code>"co.nz"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inject</code></td>
<td>
<p>character string to add to the url</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>
<p>borders to display as a region code specified as a
two-character ccTLD ("top-level domain") value, see
<a href="https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains#Country_code_top-level_domains">https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains#Country_code_top-level_domains</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markers</code></td>
<td>
<p>data.frame with first column longitude, second column
latitude, for which google markers should be embedded in the map image, or
character string to be passed directly to api</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>data.frame (or list of data.frames) with first column longitude,
second column latitude, for which a single path should be embedded in the
map image, or character string to be passed directly to api</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>visible</code></td>
<td>
<p>a location as a longitude/latitude numeric vector (or data
frame with first column longitude, second latitude) or vector of character
string addresses which should be visible in map extent</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p>character string to be supplied directly to the api for the
style argument or a named vector (see examples). this is a powerful complex
specification, see
<a href="https://developers.google.com/maps/documentation/maps-static/">https://developers.google.com/maps/documentation/maps-static/</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>...</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a ggmap object (a classed raster object with a bounding box
attribute)
</p>


<h3>Author(s)</h3>

<p>David Kahle <a href="mailto:david@kahle.io">david@kahle.io</a>
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/maps/documentation/maps-static/overview/">https://developers.google.com/maps/documentation/maps-static/overview/</a>,
<a href="https://developers.google.com/maps/documentation/maps-static/start/">https://developers.google.com/maps/documentation/maps-static/start/</a>,
<a href="https://developers.google.com/maps/documentation/maps-static/get-api-key/">https://developers.google.com/maps/documentation/maps-static/get-api-key/</a>,
<a href="https://developers.google.com/maps/documentation/maps-static/usage-and-billing/">https://developers.google.com/maps/documentation/maps-static/usage-and-billing/</a>,
<code>ggmap()</code>, <code>register_google()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run:  requires Google API key, see ?register_google

## basic usage
########################################

(map &lt;- get_googlemap(c(-97.14667, 31.5493)))
ggmap(map)

# plotting based on a colloquial name
# this requires a geocode() call, and needs that API
get_googlemap("waco, texas") %&gt;% ggmap()

# different maptypes are available
get_googlemap("waco, texas", maptype = "satellite") %&gt;% ggmap()
get_googlemap("waco, texas", maptype = "hybrid") %&gt;% ggmap()

# you can get the url as follows
# see ?register_google if you want the key printed
get_googlemap(urlonly = TRUE)


## other usage
########################################

# markers and paths are easy to access
d &lt;- function(x=-95.36, y=29.76, n,r,a){
  round(data.frame(
    lon = jitter(rep(x,n), amount = a),
    lat = jitter(rep(y,n), amount = a)
  ), digits = r)
}
(df &lt;- d(n = 50, r = 3, a = .3))
map &lt;- get_googlemap(markers = df, path = df, scale = 2)
ggmap(map)
ggmap(map, extent = "device") +
  geom_point(aes(x = lon, y = lat), data = df, size = 3, colour = "black") +
  geom_path(aes(x = lon, y = lat), data = df)

gc &lt;- geocode("waco, texas", source = "google")
center &lt;- as.numeric(gc)
ggmap(get_googlemap(center = center, color = "bw", scale = 2), extent = "device")

# the scale argument can be seen in the following
# (make your graphics device as large as possible)
ggmap(get_googlemap(center, scale = 1), extent = "panel") # pixelated
ggmap(get_googlemap(center, scale = 2), extent = "panel") # fine

# archiving; note that you must meet google's terms for this condition
map &lt;- get_googlemap(archiving = TRUE)
map &lt;- get_googlemap()
map &lt;- get_googlemap()
ggmap(map)


# style
map &lt;- get_googlemap(
  maptype = "roadmap",
  style = c(feature = "all", element = "labels", visibility = "off"),
  color = "bw"
)
ggmap(map)





## End(Not run)

</code></pre>


</div>