<div class="container">

<table style="width: 100%;"><tr>
<td>position_dodgenudge</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Combined positions dodge and nudge</h2>

<h3>Description</h3>

<p><code>position_dodgenudge()</code> combines into one function the action of
<code>position_dodge</code> and
<code>position_nudge</code> and <code>position_dodge2nudge()</code>
combines into one function the action of
<code>position_dodge2</code> and
<code>position_nudge</code>. They are useful when labelling plots
such as grouped bars, columns, etc. and when adding dodged to text labels
linked to observations plotted without dodge. It can replace other position
functions as it is backwards compatible. Like all other position functions in
'ggpp' and 'ggrepel' it preserves the initial position to allow drawing of
segments or arrow linking the original position to the displaced one.
</p>


<h3>Usage</h3>

<pre><code class="language-R">position_dodgenudge(
  width = 1,
  preserve = c("total", "single"),
  x = 0,
  y = 0,
  direction = c("none", "split", "split.x", "split.y", "center"),
  kept.origin = c("dodged", "original", "none")
)

position_dodge_keep(
  width = 1,
  preserve = c("total", "single"),
  kept.origin = "original"
)

position_dodge2_keep(
  width = 1,
  preserve = c("total", "single"),
  kept.origin = "original"
)

position_dodge2nudge(
  width = 1,
  preserve = c("total", "single"),
  padding = 0.1,
  reverse = FALSE,
  x = 0,
  y = 0,
  direction = c("none", "split", "split.x", "split.y", "center"),
  kept.origin = c("dodged", "original", "none")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>Dodging width, when different to the width of the individual
elements. This is useful when you want to align narrow geoms with wider
geoms. See the examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preserve</code></td>
<td>
<p>Should dodging preserve the total width of all elements at a
position, or the width of a single element?.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>
<p>Amount of vertical and horizontal distance to move. A numeric
vector of length 1, or of the same length as rows there are in 'data',
with nudge values in data rows order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>One of <code>"none"</code>, <code>"split"</code>, <code>"split.x"</code> or
<code>"split.y"</code>. A value of <code>"none"</code> replicates the behavior of
<code>position_nudge</code>. At the moment <code>"split"</code> changes
the sign of the nudge at zero, which is suitable for column plots with
negative slices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kept.origin</code></td>
<td>
<p>One of <code>"original"</code> or <code>"none"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>padding</code></td>
<td>
<p>Padding between elements at the same position. Elements are
shrunk by this proportion to allow space between them. Defaults to 0.1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverse</code></td>
<td>
<p>If TRUE, will reverse the default stacking order. This is
useful if you're rotating both the plot and legend.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The applied dodge is identical to that by
<code>position_dodge</code> or
<code>position_dodge2</code> while nudging is similar to that by
<code>position_nudge</code>.
</p>
<p>There are two posible uses for these functions. First they can be used to
label dodged bars or boxplots. In this case, it is mandatory to use the same
argument to <code>width</code> when passing <code>position_dodge()</code> to
<code>geom_col()</code> and <code>position_dodgenudge()</code> to <code>geom_text()</code> or
<code>geom_label()</code> or their repulsive equivalents. Otherwise the arrows or
segments will fail to connect to the labels. In other words jittering is
computed twice. Jitter should be identical with the same arguments as
<code>position_dodgenudge()</code> as this last function simply call the same code
from package 'ggplot2'.
</p>
<p>The second use is to dodge labels to be connected to elements that have not
been jittered. The return of original positions instead of the dodged
ones is achieved by passing <code>origin = "original"</code> instead of the default
of <code>origin = "dodged"</code>.
</p>


<h3>Value</h3>

<p>A <code>"Position"</code> object.
</p>


<h3>Author(s)</h3>

<p>Micha≈Ç Krassowski, edited by Pedro J. Aphalo.
</p>


<h3>Source</h3>

<p><a href="https://github.com/slowkow/ggrepel/issues/161">https://github.com/slowkow/ggrepel/issues/161</a>.
</p>


<h3>See Also</h3>

<p><code>position_nudge</code>,
<code>position_nudge_repel</code>.
</p>
<p>Other position adjustments: 
<code>position_jitternudge()</code>,
<code>position_nudge_center()</code>,
<code>position_nudge_keep()</code>,
<code>position_nudge_line()</code>,
<code>position_nudge_to()</code>,
<code>position_stacknudge()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">df &lt;- data.frame(x1 = c(1, 2, 1, 3, -1),
                 x2 = c("a", "a", "b", "b", "b"),
                 grp = c("some long name", "other name", "some name",
                         "another name", "some long name"))

# Add labels to a horizontal column plot (stacked by default)
ggplot(data = df, aes(x1, x2, group = grp)) +
  geom_col(aes(fill = grp), width = 0.8,
           position = position_dodge()) +
  geom_vline(xintercept = 0) +
  geom_text(
    aes(label = grp),
    position = position_dodgenudge(x = 0.09, direction = "split", width = 0.8),
    angle = 90, size = 3) +
  theme(legend.position = "none")

ggplot(data = df, aes(x2, x1, group = grp)) +
  geom_col(aes(fill = grp), width = 0.75,
           position = position_dodge(width = 0.75)) +
  geom_vline(xintercept = 0) +
  geom_text(aes(label = grp),
            position = position_dodgenudge(y = 0.1,
                                           direction = "split",
                                           width = 0.75),
            size = 3) +
  theme(legend.position = "none")

</code></pre>


</div>