<div class="container">

<table style="width: 100%;"><tr>
<td>add_markers</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add markers</h2>

<h3>Description</h3>

<p>Add markers to a google map
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_markers(
  map,
  data = get_map_data(map),
  id = NULL,
  colour = NULL,
  lat = NULL,
  lon = NULL,
  polyline = NULL,
  title = NULL,
  draggable = NULL,
  opacity = NULL,
  label = NULL,
  info_window = NULL,
  mouse_over = NULL,
  mouse_over_group = NULL,
  marker_icon = NULL,
  layer_id = NULL,
  cluster = FALSE,
  cluster_options = list(),
  update_map_view = TRUE,
  digits = 4,
  load_interval = 0,
  focus_layer = FALSE,
  close_info_window = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame containing the data to use in the layer. If Null, the
data passed into <code>google_map()</code> will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>string specifying the column containing an identifier for a shape</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colour</code></td>
<td>
<p>string specifying the column containing the 'colour' to use for
the markers. One of 'red', 'blue', 'green' or 'lavender'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'latitude'
coordinates. If left NULL, a best-guess will be made</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lon</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'longitude'
coordinates. If left NULL, a best-guess will be made</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polyline</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the encoded polyline.
For circles and markers the encoded string will represent a single point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'title'
of the markers. The title is displayed when you hover over a marker. If blank,
no title will be displayed for the markers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draggable</code></td>
<td>
<p>string specifying the column of <code>data</code> defining if the
marker is 'draggable' (either TRUE or FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opacity</code></td>
<td>
<p>string specifying the column of <code>data</code> defining the 'opacity'
of the maker. Values must be between 0 and 1 (inclusive).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>string specifying the column of <code>data</code> defining the character
to appear in the centre of the marker. Values will be coerced to strings, and
only the first character will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info_window</code></td>
<td>
<p>string specifying the column of data to display in an info
window when a shape is clicked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mouse_over</code></td>
<td>
<p>string specifying the column of data to display when the
mouse rolls over the shape</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mouse_over_group</code></td>
<td>
<p>string specifying the column of data specifying which
groups of shapes to highlight on mouseover</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marker_icon</code></td>
<td>
<p>string specifying the column of data containing a link/URL to
an image to use for a marker</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>logical indicating if co-located markers should be clustered
when the map zoomed out</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_options</code></td>
<td>
<p>list of options used in clustering. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>update_map_view</code></td>
<td>
<p>logical specifying if the map should re-centre according to
the shapes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>integer. Use this parameter to specify how many digits (decimal places)
should be used for the latitude / longitude coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>load_interval</code></td>
<td>
<p>time in miliseconds to wait between plotting each shape</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>focus_layer</code></td>
<td>
<p>logical indicating if the map should re-centre according to this layer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>close_info_window</code></td>
<td>
<p>logical indicating if all <code>info_windows</code> should close
when the user clicks on the map</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Cluster Options can be supplied as a named list. The available names are
</p>

<ul>
<li>
<p>gridSize (number) - The grid size of a cluster in pixels
</p>
</li>
<li>
<p>maxZoom (number) - The maximum zoom level that a marker can be part of a cluster
</p>
</li>
<li>
<p>zoomOnClick (logical) - Whether the default behaviour of clicking on a cluster is to
zoom into it
</p>
</li>
<li>
<p>averageCenter (logical) - Whether the center of each cluster should be the
average of all markers in the cluster
</p>
</li>
<li>
<p>minimumClusterSize (number) - The minimum number of markers required for a cluster
</p>
</li>
</ul>
<p>opts &lt;- list(
minimumClusterSize = 3
)
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

map_key &lt;- "your api key"

google_map(
  key = map_key
  , data = tram_stops
  ) %&gt;%
 add_markers(
   lat = "stop_lat"
   , lon = "stop_lon"
   , info_window = "stop_name"
   )


## using marker icons
iconUrl &lt;- paste0("https://developers.google.com/maps/documentation/",
"javascript/examples/full/images/beachflag.png")

tram_stops$icon &lt;- iconUrl

google_map(
  key = map_key
  , data = tram_stops
  ) %&gt;%
  add_markers(
    lat = "stop_lat"
    , lon = "stop_lon"
    , marker_icon = "icon"
  )

## Clustering
google_map(
  key = map_key
  , data = tram_stops
  ) %&gt;%
 add_markers(
   lat = "stop_lat"
   , lon = "stop_lon"
   , info_window = "stop_name"
   , cluster = TRUE
   , cluster_options = list( minimumClusterSize = 5 )
   )


## End(Not run)
</code></pre>


</div>