<div class="container">

<table style="width: 100%;"><tr>
<td>download_object</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download data for object batch</h2>

<h3>Description</h3>

<p>The function downloads search volumes from Google Trends for an object batch
(<em>batch_o</em>) and one keyword from a control batch (<em>batch_c</em>) in a
set of <em>locations</em>. Data is automatically written to table
<em>data_object</em>. For <code>download_object_global</code> the input
<em>location</em> is automatically set to <em>world</em>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">download_object(object, control = 1, locations = gt.env$countries, ...)

## S3 method for class 'numeric'
download_object(object, control = 1, locations = gt.env$countries, ...)

## S3 method for class 'list'
download_object(object, control = 1, locations = gt.env$countries, ...)

download_object_global(object, control = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Object batch for which the data is downloaded. Object
of type <code>numeric</code> or object of type <code>list</code> containing single
object of type <code>numeric</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>Control batch that is used for mapping. Object of type
<code>numeric</code>. Defaults to <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locations</code></td>
<td>
<p>List of countries or regions for which the data is
downloaded. Refers to lists generated in <code>start_db</code>. Defaults to
<code>countries</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments that are passed on to the <code>gtrendsR::gtrends</code> function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Downloads through the Google Trends API are made through
<code>gtrendsR::gtrends</code>. Each object batch can consist of up to four
keywords and is predefined in tables <em>batch_keywords</em> and
<em>batch_time</em> through <code>add_keywords</code>. In addition, one control
keyword is added to each object batch. The control keyword then allows a
mapping between search volumes for control keywords stored in
<em>data_control</em> and search volumes for object keywords. The download for
a single keyword batch for a single location takes about 30 seconds. This
includes a randomized waiting period of 5-10 seconds between downloads.
Depending on the frequency of downloads, Google Trends might block users
for some time. In this case, <code>download_object</code> waits 60 minutes
before it retries the download.
</p>


<h3>Value</h3>

<p>Message that data was downloaded successfully. Data is written
to table <em>data_object</em>.
</p>


<h3>Warning</h3>

<p>We advise against the usage of <em>category codes</em> in
downloads. If you use <em>categories</em> to narrow the context of keyword usage,
these categories are applied to <strong>ALL</strong> keywords in the batch. This applies
to <em>control</em> keywords as well as <em>object</em> keywords and can result in
unintended behavior.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code>example_object()</code>
</p>
</li>
<li> <p><code>gtrendsR::gtrends()</code>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
download_object(
  object = 1,
  locations = countries
)
download_object(
  object = as.list(1:5),
  locations = countries
)

## End(Not run)

</code></pre>


</div>