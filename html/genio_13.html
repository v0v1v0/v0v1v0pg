<div class="container">

<table style="width: 100%;"><tr>
<td>read_eigenvec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read Plink eigenvec file</h2>

<h3>Description</h3>

<p>This function reads a Plink eigenvec file, parsing columns strictly.
First two must be 'fam' and 'id', which are strings, and all remaining columns (eigenvectors) must be numeric.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_eigenvec(
  file,
  ext = "eigenvec",
  plink2 = FALSE,
  comment = if (plink2) "" else "#",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>The input file path, potentially excluding extension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ext</code></td>
<td>
<p>File extension (default "eigenvec") can be changed if desired.
Set to <code>NA</code> to force <code>file</code> to exist as-is.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plink2</code></td>
<td>
<p>If <code>TRUE</code>, the header is parsed and preserved in the returned data.
The first two columns must be FID and IID, which are mandatory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comment</code></td>
<td>
<p>A string used to identify comments.
Any text after the comment characters will be silently ignored.
Passed to <code>readr::read_table()</code>.
'#' (default when <code>plink2 = FALSE</code>) works for Plink 2 eigenvec files, which have a header lines that starts with this character (the header is therefore ignored).
However, <code>plink2 = TRUE</code> forces the header to be parsed instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If <code>TRUE</code> (default) function reports the path of the file being written (after autocompleting the extension).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with two elements:
</p>

<ul>
<li> <p><code>eigenvec</code>: A numeric R matrix containing the parsed eigenvectors.
If <code>plink2 = TRUE</code>, the original column names will be preserved in this matrix.
</p>
</li>
<li> <p><code>fam</code>: A tibble with two columns, <code>fam</code> and <code>id</code>, which are the first two columns of the parsed file.
These column names are always the same even if <code>plink2 = TRUE</code> (i.e. they won't be <code>FID</code> or <code>IID</code>).
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>write_eigenvec()</code> for writing an eigenvec file.
</p>
<p>Plink 1 eigenvec format reference:
<a href="https://www.cog-genomics.org/plink/1.9/formats#eigenvec">https://www.cog-genomics.org/plink/1.9/formats#eigenvec</a>
</p>
<p>Plink 2 eigenvec format reference:
<a href="https://www.cog-genomics.org/plink/2.0/formats#eigenvec">https://www.cog-genomics.org/plink/2.0/formats#eigenvec</a>
</p>
<p>GCTA eigenvec format reference:
<a href="https://cnsgenomics.com/software/gcta/#PCA">https://cnsgenomics.com/software/gcta/#PCA</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># to read "data.eigenvec", run like this:
# data &lt;- read_eigenvec("data")
# this also works
# data &lt;- read_eigenvec("data.eigenvec")
#
# either way you get a list with these two items:
# numeric eigenvector matrix
# data$eigenvec
# fam/id tibble
# data$fam

# The following example is more awkward
# because package sample data has to be specified in this weird way:

# read an existing *.eigenvec file created by GCTA
file &lt;- system.file("extdata", 'sample-gcta.eigenvec', package = "genio", mustWork = TRUE)
data &lt;- read_eigenvec(file)
# numeric eigenvector matrix
data$eigenvec
# fam/id tibble
data$fam

# can specify without extension
file &lt;- sub('\\.eigenvec$', '', file) # remove extension from this path on purpose
file # verify .eigenvec is missing
data &lt;- read_eigenvec(file) # load it anyway!
data$eigenvec

# read an existing *.eigenvec file created by Plink 2
file &lt;- system.file("extdata", 'sample-plink2.eigenvec', package = "genio", mustWork = TRUE)
# this version ignores header
data &lt;- read_eigenvec(file)
# numeric eigenvector matrix
data$eigenvec
# fam/id tibble
data$fam

# this version uses header
data &lt;- read_eigenvec(file, plink2 = TRUE)
# numeric eigenvector matrix
data$eigenvec
# fam/id tibble
data$fam

</code></pre>


</div>