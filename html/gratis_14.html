<div class="container">

<table style="width: 100%;"><tr>
<td>mar_model</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Specify parameters for a Mixture Autoregressive model</h2>

<h3>Description</h3>

<p>This function allows the parameters of a mixture of k Gaussian ARIMA(p,d,0)(P,D,0)[m] processes
to be specified. The output is used in <code>simulate.mar()</code> and <code>generate.mar</code>.
The model is of the form
</p>
<p style="text-align: center;"><code class="reqn">(1-B)^{d_i}(1-B^{m_i})^{D_i} (1-\phi_i(B))(1-\Phi_i(B)) y_t = c_i + \sigma_{i,t}\epsilon_t</code>
</p>

<p>with probability <code class="reqn">\alpha_i</code>, where <code class="reqn">B</code> is the backshift operator,
<code class="reqn">m_i</code> is the seasonal period, <code class="reqn">\epsilon_t</code> is a N(0,1) variate, and
<code class="reqn">\phi_i(B)</code> and <code class="reqn">\Phi_i(B)</code> are polynomials in B of
order <code class="reqn">d_i</code> and <code class="reqn">D_i</code> respectively.
If any argument is <code>NULL</code>, the corresponding parameters are randomly selected.
When randomly selected, the AR parameters are uniformly sampled from the stationary region,
p is in {0,1,2,3}, d is in {0,1,2}, P is in {0,1,2} and D is in {0,1}.
The model orders are uniformly sampled. The constants are uniformly sampled on (-3,3).
The sigmas are uniformly sampled on (1,5) and the weights are uniformly sampled on (0,1).
The number of components is uniformly sampled on {1,2,3,4,5}.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mar_model(
  k = NULL,
  p = NULL,
  d = NULL,
  phi = NULL,
  P = NULL,
  D = NULL,
  Phi = NULL,
  constants = NULL,
  sigmas = NULL,
  weights = NULL,
  seasonal_periods = 1L
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Non-negative integer vector giving the orders of non-seasonal AR polynomials <code class="reqn">\phi_i(B)</code>.
Ignored if <code>phi</code> provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>Non-negative integer vector giving the orders of non-seasonal differencing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi</code></td>
<td>
<p>A max(p) x k numeric matrix containing the non-seasonal AR parameters
(<code class="reqn">\phi_{1,i},\dots,\phi_{p,i}</code>), <code class="reqn">i=1,\dots,k</code> for each component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>P</code></td>
<td>
<p>Non-negative integer giving the orders of seasonal AR polynomiasl <code class="reqn">\Phi_i(B)</code>.
Ignored if <code>seasonal.periods==1</code> or <code>Phi</code> provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>Non-negative integer giving the orders of seasonal differencing.
Ignored if <code>seasonal.periods==1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Phi</code></td>
<td>
<p>A max(P) x k numeric matrix containing the seasonal AR parameters
(<code class="reqn">\Phi_{1,i},\dots,\phi_{P,i}</code>), <code class="reqn">i=1,\dots,k</code> for each component.
Ignored if <code>seasonal.periods==1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constants</code></td>
<td>
<p>A numeric vector of length k containing <code class="reqn">c_1,\dots,c_k</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigmas</code></td>
<td>
<p>A numeric vector of length k or a list of k GARCH specifications.
If it is a vector, it is assumed <code class="reqn">\sigma_{i,t} = \sigma_i</code> and
<code>sigmas</code> = <code class="reqn">\sigma_1,\dots,\sigma_k</code>.
If it is a list, each element should be the output from <code>fGarch::garchSpec()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>A numeric vector of length k containing the probability of
each of the component processes, <code class="reqn">\alpha_1,\dots,\alpha_k</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seasonal_periods</code></td>
<td>
<p>Either a scalar or a numeric vector of length k containing
the seasonal period of each component.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A 'mar' object containing a list of <code>k</code>, <code>m</code>,
<code>p</code>, <code>d</code>, <code>P</code>, <code>D</code>,
<code>phi</code>, <code>Phi</code>, <code>sigmas</code> and <code>weights</code>.
</p>


<h3>Author(s)</h3>

<p>Rob J Hyndman
</p>


<h3>See Also</h3>

<p><code>simulate.mar</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
n &lt;- 100
# Quarterly MAR model with randomly selected parameters
model1 &lt;- mar_model(seasonal_periods = 4)

# Daily MAR model with randomly selected parameters
model2 &lt;- mar_model(seasonal_periods = c(7, 365))

# MAR model with constant variances
# containing an AR(1) component and an AR(2) component
phi &lt;- cbind(c(0, 0.8, 0), c(0, 0.6, 0.3))
weights &lt;- c(0.8, 0.2)
model3 &lt;- mar_model(phi = phi, d = 0, sigmas = c(1, 2), weights = weights)

# MAR model with heteroskedastic errors
sigmas.spec &lt;- list(
  fGarch::garchSpec(model = list(alpha = c(0.05, 0.06))),
  fGarch::garchSpec(model = list(alpha = c(0.05, 0.05)))
)
model4 &lt;- mar_model(phi = phi, sigmas = sigmas.spec, weights = weights)

</code></pre>


</div>