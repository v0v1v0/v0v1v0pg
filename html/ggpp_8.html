<div class="container">

<table style="width: 100%;"><tr>
<td>compute_npcx</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute NPC coordinates</h2>

<h3>Description</h3>

<p>Translate and/or compute NPC (Normalised Parent Coordinates) for use with
aesthetics <code>x</code> and <code>y</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute_npcx(x, group = 1L, h.step = 0.1, margin.npc = 0.05, each.len = 1)

compute_npcy(y, group = 1L, v.step = 0.1, margin.npc = 0.05, each.len = 1)

as_npcx(x, ...)

as_npcy(y, ...)

compute_npc(a, margin.npc = 0.05)

as_npc(a, margin.npc = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric or if character, one of "right", "left", "maximum",
"minimum", "centre", "center" or "middle".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>integer vector, ggplot's group id. Used to shift coordinates to
avoid overlaps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h.step, v.step</code></td>
<td>
<p>numeric [0..1] The step size for shifting coordinates
in npc units. Usually &lt;&lt; 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin.npc</code></td>
<td>
<p>numeric [0..1] The margin added towards the nearest
plotting area edge when converting character coordinates into npc. Usually
&lt;&lt; 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>each.len</code></td>
<td>
<p>integer The number of steps per group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>numeric or if character, one of "top", "bottom", "maximum",
"minimum", "centre", "center" or "middle".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>named arguments passed to <code>compute_npcx()</code> or
<code>compute_npcy()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>numeric or if character, one of "right", "left", "top", "maximum",
"minimum", "bottom", "centre", "center" or "middle".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Functions <code>compute_npcx</code> and <code>compute_npcy</code> convert
character-encoded positions to npc units and shift positions to avoid
overlaps when grouping is active. If numeric, they validate the npc values.
Function <code>compute_npcx</code> does the translation either for both <code>x</code>
and <code>y</code> aesthetics, but does not implement a shift for grpups.
Functions <code>as_npcx()</code>,  <code>as_npcy()</code> and <code>as_npc()</code> are
wrappers on these functions that return the value as objects of class
<code>"AsIs"</code> so that in 'ggplot2' &gt;= 3.5.0 they can be used with any layer
function.
</p>
<p>These functions use NPC (Normalised Parent Coordinates) instead of data
coordinates. They translate named positions into numeric values in [0..1]
and they can also shift the position according to the group, e.g., for each
increase in the group number displace the position inwards or outwards, by
a user-supplied distance. They make it possible to set automatically set
default positions for grouped text labels.
</p>
<p>Out of bounds numeric values are constrained to [0..1]. Unrecognized
character values are silently converted into <code>NA_integer_</code>.
</p>


<h3>Value</h3>

<p>A numeric vector with values in the range [0..1] representing
npc coordinates.
</p>


<h3>Note</h3>

<p>The <em>as_npc()</em> functions make it easier the use of NPC coordinates
with 'ggplot2' &gt;= 3.5.0. The _compute_ functions are used by several layer
functions in packages 'ggpp' and 'ggpmisc', are compatible with 'ggplot2'
&lt;= 3.4.4 and can be useful to developers of other 'ggplot2' extensions.
</p>


<h3>Examples</h3>

<pre><code class="language-R">compute_npcx("right")
compute_npcx(c("left", "right"))
compute_npcx(c("minimum", "maximum"))
compute_npcx(c("left", "right"), margin.npc = 0)
compute_npcy("bottom")
compute_npcy("bottom", group = 1L:3L)
compute_npcy("bottom", group = 1L:3L, v.step = 0.2)
compute_npcy("bottom", group = 2L)
compute_npcx(0.5)
compute_npcx(1)
compute_npcx(-2)

as_npc("right")
class(as_npc("right"))
class(compute_npcx("right"))

</code></pre>


</div>