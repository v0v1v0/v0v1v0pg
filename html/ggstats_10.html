<div class="container">

<table style="width: 100%;"><tr>
<td>geom_diverging</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Geometries for diverging bar plots</h2>

<h3>Description</h3>

<p>These geometries are similar to <code>ggplot2::geom_bar()</code> but provides
different set of default values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">geom_diverging(
  mapping = NULL,
  data = NULL,
  stat = "prop",
  position = position_diverging(reverse = reverse, exclude_fill_values =
    exclude_fill_values, cutoff = cutoff),
  ...,
  complete = "fill",
  default_by = "total",
  height = "count",
  reverse = FALSE,
  exclude_fill_values = NULL,
  cutoff = NULL
)

geom_likert(
  mapping = NULL,
  data = NULL,
  stat = "prop",
  position = position_likert(reverse = reverse, exclude_fill_values =
    exclude_fill_values, cutoff = cutoff),
  ...,
  complete = "fill",
  default_by = "x",
  height = "prop",
  reverse = FALSE,
  exclude_fill_values = NULL,
  cutoff = NULL
)

geom_pyramid(
  mapping = NULL,
  data = NULL,
  stat = "prop",
  position = position_diverging(reverse = reverse, exclude_fill_values =
    exclude_fill_values, cutoff = cutoff),
  ...,
  complete = NULL,
  default_by = "total",
  height = "prop",
  reverse = FALSE,
  exclude_fill_values = NULL,
  cutoff = NULL
)

geom_diverging_text(
  mapping = NULL,
  data = NULL,
  stat = "prop",
  position = position_diverging(vjust = vjust, reverse = reverse, exclude_fill_values =
    exclude_fill_values, cutoff = cutoff),
  ...,
  complete = "fill",
  default_by = "total",
  height = "count",
  labels = "count",
  labeller = label_number_abs(hide_below = hide_below),
  reverse = FALSE,
  exclude_fill_values = NULL,
  cutoff = NULL,
  vjust = 0.5,
  hide_below = NULL
)

geom_likert_text(
  mapping = NULL,
  data = NULL,
  stat = "prop",
  position = position_likert(vjust = vjust, reverse = reverse, exclude_fill_values =
    exclude_fill_values, cutoff = cutoff),
  ...,
  complete = "fill",
  default_by = "x",
  height = "prop",
  labels = "prop",
  labeller = label_percent_abs(accuracy = 1, hide_below = hide_below),
  reverse = FALSE,
  exclude_fill_values = NULL,
  cutoff = NULL,
  vjust = 0.5,
  hide_below = NULL
)

geom_pyramid_text(
  mapping = NULL,
  data = NULL,
  stat = "prop",
  position = position_diverging(vjust = vjust, reverse = reverse, exclude_fill_values =
    exclude_fill_values, cutoff = cutoff),
  ...,
  complete = NULL,
  default_by = "total",
  height = "prop",
  labels = "prop",
  labeller = label_percent_abs(accuracy = 1, hide_below = hide_below),
  reverse = FALSE,
  exclude_fill_values = NULL,
  cutoff = NULL,
  vjust = 0.5,
  hide_below = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mapping</code></td>
<td>
<p>Optional set of aesthetic mappings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data to be displayed in this layers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat</code></td>
<td>
<p>The statistical transformation to use on the data for this layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>position</code></td>
<td>
<p>A position adjustment to use on the data for this layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed on to <code>ggplot2::geom_bar()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>complete</code></td>
<td>
<p>An aesthetic for those unobserved values should be completed,
see <code>stat_prop()</code>. Passed only if <code>stat = "prop"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_by</code></td>
<td>
<p>Name of an aesthetic determining denominators by default,
see <code>stat_prop()</code>. Passed only if <code>stat = "prop"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>Statistic used, by default, to determine the height/width,
see <code>stat_prop()</code>. Passed only if <code>stat = "prop"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverse</code></td>
<td>
<p>If <code>TRUE</code>, will reverse the default stacking order.
This is useful if you're rotating both the plot and legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude_fill_values</code></td>
<td>
<p>Vector of values from the variable associated with
the <code>fill</code> aesthetic that should not be displayed (but still taken into
account for computing proportions)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>number of categories to be displayed negatively (i.e. on the
left of the x axis or the bottom of the y axis), could be a decimal value:
<code>2</code> to display negatively the two first categories, <code>2.5</code> to display
negatively the two first categories and half of the third, <code>2.2</code> to display
negatively the two first categories and a fifth of the third (see examples).
By default (<code>NULL</code>), it will be equal to the number of categories divided
by 2, i.e. it will be centered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>Statistic used, by default, to determine the labels,
see <code>stat_prop()</code>. Passed only if <code>stat = "prop"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labeller</code></td>
<td>
<p>Labeller function to format labels,
see <code>stat_prop()</code>. Passed only if <code>stat = "prop"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vjust</code></td>
<td>
<p>Vertical adjustment for geoms that have a position
(like points or lines), not a dimension (like bars or areas). Set to
<code>0</code> to align with the bottom, <code>0.5</code> for the middle,
and <code>1</code> (the default) for the top.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hide_below</code></td>
<td>
<p>If provided, values below <code>hide_below</code> will be masked.
Argument passed to <code>label_number_abs()</code> or <code>label_percent_abs()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul>
<li> <p><code>geom_diverging()</code> is designed for stacked diverging bar plots, using
<code>position_diverging()</code>.
</p>
</li>
<li> <p><code>geom_likert()</code> is designed for Likert-type items. Using
<code>position_likert()</code> (each bar sums to 100%).
</p>
</li>
<li> <p><code>geom_pyramid()</code> is similar to <code>geom_diverging()</code> but uses
proportions of the total instead of counts.
</p>
</li>
</ul>
<p>To add labels on the bar plots, simply use <code>geom_diverging_text()</code>,
<code>geom_likert_text()</code>, or <code>geom_pyramid_text()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ggplot2)
ggplot(diamonds) +
  aes(x = clarity, fill = cut) +
  geom_diverging()

ggplot(diamonds) +
  aes(x = clarity, fill = cut) +
  geom_diverging(cutoff = 4)

ggplot(diamonds) +
  aes(y = clarity, fill = cut) +
  geom_likert() +
  geom_likert_text(aes(color = after_scale(hex_bw(.data$fill))))

d &lt;- Titanic |&gt; as.data.frame()

ggplot(d) +
  aes(y = Class, fill = Sex, weight = Freq) +
  geom_diverging() +
  geom_diverging_text()

ggplot(d) +
  aes(y = Class, fill = Sex, weight = Freq) +
  geom_pyramid() +
  geom_pyramid_text()
</code></pre>


</div>