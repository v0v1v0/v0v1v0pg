<div class="container">

<table style="width: 100%;"><tr>
<td>gglogisticexpdist</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a logistic fit plot</h2>

<h3>Description</h3>

<p>Produces a logistic fit plot with a facettable exposures/quantiles/distributions in ggplot2
</p>


<h3>Usage</h3>

<pre><code class="language-R">gglogisticexpdist(
  data = effICGI,
  response = "response",
  endpoint = "Endpoint",
  DOSE = "DOSE",
  color_fill = "DOSE",
  exposure_metrics = c("AUC", "CMAX"),
  exposure_metric_split = c("median", "tertile", "quartile", "none"),
  exposure_metric_soc_value = -99,
  exposure_metric_plac_value = 0,
  exposure_distribution = c("distributions", "lineranges", "none"),
  dose_plac_value = "Placebo",
  xlab = "Exposure Values",
  ylab = "Probability of Response",
  prob_text_size = 5,
  prob_obs_bydose = TRUE,
  N_text_size = 5,
  binlimits_text_size = 5,
  binlimits_ypos = 0,
  binlimits_color = "gray70",
  dist_position_scaler = 0.2,
  dist_offset = 0,
  lineranges_ypos = 0.2,
  lineranges_dodge = 0.15,
  yproj = TRUE,
  yproj_xpos = 0,
  yproj_dodge = 0.2,
  yaxis_position = c("left", "right"),
  facet_formula = NULL,
  theme_certara = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data to use with multiple endpoints stacked into Endpoint(endpoint name), response 0/1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>name of the column holding the values response 0/1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endpoint</code></td>
<td>
<p>name of the column holding the name/key of the endpoint default to <code>Endpoint</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DOSE</code></td>
<td>
<p>name of the column holding the DOSE values default to <code>DOSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_fill</code></td>
<td>
<p>name of the column to be used for color/fill default to DOSE column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure_metrics</code></td>
<td>
<p>name(s) of the column(s) to be stacked into <code>expname</code> <code>exptile</code> and split into <code>exposure_metric_split</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure_metric_split</code></td>
<td>
<p>one of "median", "tertile", "quartile", "none"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure_metric_soc_value</code></td>
<td>
<p>special exposure code for standard of care default -99</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure_metric_plac_value</code></td>
<td>
<p>special exposure code for placebo default 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure_distribution</code></td>
<td>
<p>one of distributions, lineranges or none</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dose_plac_value</code></td>
<td>
<p>string identifying placebo in DOSE column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>text to be used as x axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>text to be used as y axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob_text_size</code></td>
<td>
<p>probability text size default to 5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob_obs_bydose</code></td>
<td>
<p>observed probability by dose <code>TRUE</code>/<code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_text_size</code></td>
<td>
<p>N responders/Ntotal by exposure bin text size default to 5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binlimits_text_size</code></td>
<td>
<p>5 binlimits text size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binlimits_ypos</code></td>
<td>
<p>binlimits y position default to 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binlimits_color</code></td>
<td>
<p>binlimits text color default to "gray70"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist_position_scaler</code></td>
<td>
<p>space occupied by the distribution default to 0.2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist_offset</code></td>
<td>
<p>offset where the distribution position starts 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lineranges_ypos</code></td>
<td>
<p>where to put the lineranges -1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lineranges_dodge</code></td>
<td>
<p>lineranges vertical dodge value 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yproj</code></td>
<td>
<p>project the probabilities on y axis <code>TRUE</code>/<code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yproj_xpos</code></td>
<td>
<p>y projection x position 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yproj_dodge</code></td>
<td>
<p>y projection dodge value 0.2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis_position</code></td>
<td>
<p>where to put y axis "left" or "right"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_formula</code></td>
<td>
<p>facet formula to be use otherwise <code>endpoint ~ expname</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theme_certara</code></td>
<td>
<p>apply certara colors and format for strips and default colour/fill</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># Example 1
library(ggplot2)
effICGI &lt;- logistic_data |&gt;
dplyr::filter(!is.na(ICGI))|&gt;
dplyr::filter(!is.na(AUC))
effICGI$DOSE &lt;- factor(effICGI$DOSE,
                      levels=c("0", "600", "1200","1800","2400"),
                      labels=c("Placebo", "600 mg", "1200 mg","1800 mg","2400 mg"))
effICGI$STUDY &lt;- factor(effICGI$STUDY)    
effICGI$ICGI2 &lt;- effICGI$ICGI
effICGI &lt;- tidyr::gather(effICGI,Endpoint,response,ICGI,ICGI2)
gglogisticexpdist(data = effICGI |&gt;
                 dplyr::filter(Endpoint=="ICGI"),
                 response = "response",
                 endpoint = "Endpoint",
                 exposure_metrics = c("AUC"),
                 exposure_metric_split = c("quartile"),
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 exposure_distribution ="distributions",
                 yproj_xpos = -15,
                 yproj_dodge = 10,
                 dist_position_scaler = 0.1,
                 dist_offset = -0.1)
                 
# Example 2                
gglogisticexpdist(data = effICGI |&gt;
                 dplyr::filter(Endpoint=="ICGI"),
                 response = "response",
                 endpoint = "Endpoint",
                 exposure_metrics = c("CMAX"),
                 exposure_metric_split = c("tertile"),
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 exposure_distribution ="lineranges",
                 lineranges_ypos = -0.2,
                 lineranges_dodge = 0.4,
                 prob_obs_bydose = TRUE,
                 yproj_xpos = -5,
                 yproj_dodge = 5,
                 dist_position_scaler = 0.1)


## Not run: 
#' # Example 3                
library(ggh4x)
gglogisticexpdist(data = effICGI |&gt;
                 dplyr::filter(Endpoint=="ICGI"), 
                 response = "response",
                 endpoint = "Endpoint",
                 DOSE = "DOSE",
                 exposure_metrics = c("AUC"),
                 exposure_metric_split = c("quartile"),
                 exposure_distribution ="distributions",
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 dist_position_scaler = 0.15)+
 facet_grid2(Endpoint~expname+DOSE2,scales="free",
 margins = "DOSE2",strip = strip_nested())
# Example 4  
effICGI$SEX &lt;- as.factor(effICGI$SEX)               
gglogisticexpdist(data = effICGI  |&gt;
                 dplyr::filter(Endpoint=="ICGI"), 
                 response = "response",
                 endpoint = "Endpoint",
                 DOSE = "DOSE",
                 color_fill = "SEX",
                 exposure_metrics = c("AUC"),
                 exposure_metric_split = c("quartile"),
                 exposure_distribution ="distributions",
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 lineranges_ypos = -0.2,
                 yproj_xpos = -10,
                 yproj_dodge = 20,
                 prob_text_size = 6,
                 binlimits_text_size = 6,
                 N_text_size = 4,
                 dist_position_scaler = 0.15)+
                 ggplot2::scale_x_continuous(breaks = seq(0,350,50),
                 expand = ggplot2::expansion(add= c(0,0),mult=c(0,0)))+
                 ggplot2::coord_cartesian(xlim = c(-30,355))+
                 ggplot2::facet_grid(Endpoint~expname+color_fill2, margins ="color_fill2" )

#Example 4b
  effICGI$SEX &lt;- as.factor(effICGI$SEX)
 gglogisticexpdist(data = effICGI |&gt;
  dplyr::filter(Endpoint =="ICGI"),
                 response = "response",
                 endpoint = "Endpoint",
                 color_fill = "SEX",
                 exposure_metrics = c("AUC"),
                 exposure_metric_split = c("quartile"),
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 dist_position_scaler = 1, dist_offset = -1 ,
                 yproj_xpos =  -20 ,
                 yproj_dodge = 20 ,
                 exposure_distribution ="lineranges")
                 
#Example 5
gglogisticexpdist(data = effICGI |&gt; dplyr::filter(Endpoint=="ICGI"), 
                  response = "response",
                  endpoint = "Endpoint",
                  DOSE = "DOSE",
                  exposure_metrics = c("AUC"),
                  exposure_metric_split = c("quartile"),
                  exposure_distribution ="distributions",
                  exposure_metric_soc_value = -99,
                  exposure_metric_plac_value = 0,
                  dist_position_scaler = 0.15)+
                 facet_grid(Endpoint~expname+exptile,scales="free",
                 margins = "exptile")
#Example 6
a &lt;- gglogisticexpdist(data = effICGI, # 
                  response = "response",
                  endpoint = "Endpoint",
                  DOSE = "DOSE",yproj_dodge = 36,
                  exposure_metrics = c("AUC"),
                  exposure_metric_split = c("quartile"),
                  exposure_distribution ="lineranges",
                  exposure_metric_soc_value = -99,
                  exposure_metric_plac_value = 0) +
  facet_grid(Endpoint~expname,switch = "both")
b &lt;-   gglogisticexpdist(data = effICGI, # 
                    response = "response",
                    endpoint = "Endpoint",
                    DOSE = "DOSE",yproj_dodge = 2,
                    exposure_metrics = c("CMAX"),
                    exposure_metric_split = c("quartile"),
                    exposure_distribution ="lineranges",
                    exposure_metric_soc_value = -99,
                    exposure_metric_plac_value = 0,
                    yaxis_position = "right")+
  facet_grid(Endpoint~expname,switch = "x")+
  theme(strip.text.y.right = element_blank(),
        strip.background.y = element_blank())
library(patchwork)
(a | b ) +
  plot_layout(guides = "collect")&amp;
  theme(legend.position = "top")
                  

## End(Not run)
</code></pre>


</div>