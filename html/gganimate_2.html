<div class="container">

<table style="width: 100%;"><tr>
<td>animate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Render a gganim object</h2>

<h3>Description</h3>

<p>This function takes a gganim object and renders it into an animation. The
nature of the animation is dependent on the renderer, but defaults to using
<code>gifski</code> to render it to a gif. The length and framerate is decided on render
time and can be any two combination of <code>nframes</code>, <code>fps</code>, and <code>duration</code>.
Rendering is happening in discrete time units. This means that any event in
the animation is rounded of to the nearest frame (e.g. entering will always
take a whole number of frames). This means that rounding artifacts are
possible when only rendering few frames. To avoid this you can increase the
<code>detail</code> argument. <code>detail</code> will get multiplied to <code>nframes</code> and the
resulting number of frames will get calculated, but only <code>nframes</code> evenly
spaced frames are rendered.
</p>


<h3>Usage</h3>

<pre><code class="language-R">animate(plot, ...)

## S3 method for class 'gganim'
animate(
  plot,
  nframes,
  fps,
  duration,
  detail,
  renderer,
  device,
  ref_frame,
  start_pause,
  end_pause,
  rewind,
  ...
)

## S3 method for class 'gganim'
print(x, ...)

knit_print.gganim(x, options, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>plot, x</code></td>
<td>
<p>A <code>gganim</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed on to the device.
For available device arguments, see <code>grDevices::png()</code> or <code>grDevices::svg()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nframes</code></td>
<td>
<p>The number of frames to render (default <code>100</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fps</code></td>
<td>
<p>The framerate of the animation in frames/sec (default <code>10</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>duration</code></td>
<td>
<p>The length of the animation in seconds (unset by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detail</code></td>
<td>
<p>The number of additional frames to calculate, per frame (default <code>1</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>renderer</code></td>
<td>
<p>The function used to render the generated frames into an
animation. Gets a vector of paths to images along with the framerate. (by
default it will use <code>gifski_renderer()</code> if gifski is installed. If not it
will use <code>magick_renderer()</code> if magick is installed and then <code>av_renderer()</code>
if av is installed. If all fails it will use the <code>file_renderer()</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device</code></td>
<td>
<p>The device to use for rendering the single frames. Possible
values are <code>'png'</code>, <code>'ragg_png'</code> (requires the ragg package), <code>'jpeg'</code>,
<code>'tiff'</code>, <code>'bmp'</code>, <code>'svg'</code>, and <code>'svglite'</code> (requires the svglite package).
(default <code>'png'</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_frame</code></td>
<td>
<p>The frame to use for fixing dimensions of the plot, e.g. the
space available for axis text. Defaults to the first frame. Negative values
counts backwards (-1 is the last frame) (default <code>1</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_pause, end_pause</code></td>
<td>
<p>Number of times to repeat the first and last
frame in the animation (default is <code>0</code> for both)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rewind</code></td>
<td>
<p>Should the animation roll back in the end (default <code>FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>chunk options for the currently executing chunk</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>print.gganim</code>()  is an alias for <code>animate()</code> in the same way as
<code>print.ggplot()</code> is an alias for <code>plot.ggplot()</code>. This ensures that gganimate
behaves ggplot2-like and produces the animation when the object is printed.
The <code>plot()</code> method is different and produces a single frame for inspection
(by default frame 50 out of 100).
</p>
<p>Animations can be saved to disk using <code>anim_save()</code> in much the same way
ggsave() works for static plots.
</p>


<h3>Value</h3>

<p>The return value of the renderer function
</p>


<h3>Defaults</h3>

<p>It is possible to overwrite the defaults used by gganimate for the animation
by setting them with <code>options()</code> (prefixed with <code>gganimate.</code>. As an example,
if you would like to change the default nframes to 50 you would call
<code>options(gganimate.nframes = 50)</code>. In order to set default device arguments
(those you would normally pass through with <code>...</code>) you should use the
<code>gganimate.dev_args</code> options and provide a list of arguments e.g.
<code>options(gganimate.dev_args = list(width = 800, height = 600))</code> Defaults set
this way can still be overridden by giving arguments directly to <code>animate()</code>.
</p>
<p><strong>knitr Support:</strong> <br>
It is possible to specify the arguments to <code>animate()</code> in the chunk options
when using <code>gganimate</code> with <code>knitr</code>. Arguments specified in this way will
have precedence over defaults, but not over arguments specified directly in
<code>animate()</code>. The arguments should be provided as a list to the <code>gganimate</code>
chunk option, e.g. <code style="white-space: pre;">⁠{r, gganimate = list(nframes = 50, fps = 20)}⁠</code>. A few
build-in knitr options have relevance for animation and will be used unless
given specifically in the <code>gganimate</code> list option. The native knitr options
supported are:
</p>

<ul>
<li> <p><code>dev</code>: will set <code>device</code>
</p>
</li>
<li> <p><code>dev.args</code>: will set additional arguments to the device (<code>...</code>)
</p>
</li>
<li> <p><code>fig.width</code>, <code>fig.height</code>, <code>fig.asp</code>, <code>fig.dim</code>: will set <code>width</code> and
<code>height</code> of the device.
</p>
</li>
</ul>
<h3>Label variables</h3>

<p>All plots have a certain set of variables available for string literal
interpolation within plot labels. These are:
</p>

<ul>
<li> <p><strong>frame</strong> gives you the frame index for the current frame
</p>
</li>
<li> <p><strong>nframes</strong> gives you the total number of frames in the animation
</p>
</li>
<li> <p><strong>progress</strong> gives you the progress of the animation at the current frame
(equal to <code>frame/nframes</code>)
</p>
</li>
<li> <p><strong>data</strong> gives you the layer data for the current frame (as a list of data
frames)
</p>
</li>
</ul>
<p>Further, the transition and view in use can also make variables available.
Consult the documentation for these for more detail.
</p>


<h3>Examples</h3>

<pre><code class="language-R">anim &lt;- ggplot(mtcars, aes(mpg, disp)) +
  geom_point(aes(color = gear)) +
  transition_states(gear, transition_length = 2, state_length = 1) +
  enter_fade() +
  exit_fade()

## Not run: 
# Explicitly animate using default (same as just printing the animation)
animate(anim)

# Change duration and framerate
animate(anim, fps = 20, duration = 15)

# Make the animation pause at the end and then rewind
animate(anim, nframes = 100, end_pause = 10, rewind = TRUE)

# Use a different renderer
animate(anim, renderer = file_renderer('~/animation/'))[1:6]

# Specify device dimensions and/or resolution
animate(anim, height = 2, width = 3, units = "in", res = 150)

## End(Not run)

</code></pre>


</div>