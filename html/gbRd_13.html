<div class="container">

<table style="width: 100%;"><tr>
<td>Rd_help2txt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Extract selected help sections as text.
</h2>

<h3>Description</h3>

<p>Extract selected help sections as text.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Rd_help2txt(x, topic, pkgname = "", help_type = "text",
               verbose = FALSE, try.all.packages = FALSE,
               keep_section = TRUE, omit_sec_header = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the help object. Its class may be "Rd", string or
"help_files_with_topic".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topic</code></td>
<td>
<p>passed on to <code>Rd_fun</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pkgname</code></td>
<td>
<p>passed on to <code>Rd_fun</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>help_type</code></td>
<td>
<p>passed on to <code>Rd_fun</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>passed on to <code>Rd_fun</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>try.all.packages</code></td>
<td>
<p>passed on to <code>Rd_fun</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_section</code></td>
<td>
<p>the section to keep. If it is a
character vector of length at least one, the sections listed in it
(plus <code style="white-space: pre;">⁠\title⁠</code> and <code style="white-space: pre;">⁠\name⁠</code>) are kept in the result, the rest are
dropped. Otherwise all sections are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omit_sec_header</code></td>
<td>
<p>whether to omit or not the section header</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Basically, this function calls <code>Rd_fun</code> to get an Rd object
containing the required help sections, then converts them to text with
<code>tools::Rd2txt</code>. At this point however unwanted sections may be
present since <code>tools::Rd2txt</code> requires <code style="white-space: pre;">⁠\title⁠</code> and <code style="white-space: pre;">⁠\name⁠</code>.
If <code style="white-space: pre;">⁠\title⁠</code> is not an element of <code>keep_section</code>, it should be
dropped. Other header information is dropped if <code>omit_sec_header
    = TRUE</code>.  The way this is done is crude and based on inspection. It
would be better done using the Rd object but then I might need to,
effectively reprogram <code>Rd2txt</code>.
</p>
<p>FIXME: The above was done for version R-2.10 (I think), see if a more
modular version is available in current versions of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.
Also, it is tested only with <code>help_type="text"</code>.
</p>
<p>FIXME: Arguments whose description is marked "passed on to
<code>Rd_fun</code>" could be replaced by a "..." argument.
</p>


<h3>Value</h3>

<p>A character vector containing the text of the selected help sections.
</p>


<h3>Note</h3>

<p>In R-2.12.0 the function <code>tools::Rd2txt</code> acquired a <code>fragment</code>
argument. So, <code>tools::Rd2txt</code> now works with fragments and can be
used directly in many cases.
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov</p>


<h3>Examples</h3>

<pre><code class="language-R"># 1st arg is the name of a function
Rd_help2txt("data.frame",keep_section="\\arguments")

Rd_help2txt("seq",keep_section="\\examples")
Rd_help2txt("seq",keep_section="\\examples",omit_sec_header=TRUE)
</code></pre>


</div>