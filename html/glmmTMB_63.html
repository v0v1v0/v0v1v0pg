<div class="container">

<table style="width: 100%;"><tr>
<td>get_cor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>translate vector of correlation parameters to correlation values</h2>

<h3>Description</h3>

<p>translate vector of correlation parameters to correlation values
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_cor(theta, return_val = c("vec", "mat"))

put_cor(C, input_val = c("mat", "vec"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>vector of internal correlation parameters (elements of scaled Cholesky factor, in <em>row-major</em> order)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_val</code></td>
<td>
<p>return a vector of correlation values from the lower triangle ("vec"), or the full correlation matrix ("mat")?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>C</code></td>
<td>
<p>a correlation matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input_val</code></td>
<td>
<p>input a vector of correlation values from the lower triangle ("vec"), or the full correlation matrix ("mat")?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions follow the definition at <a href="http://kaskr.github.io/adcomp/classdensity_1_1UNSTRUCTURED__CORR__t.html">http://kaskr.github.io/adcomp/classdensity_1_1UNSTRUCTURED__CORR__t.html</a>:
if <code class="reqn">L</code> is the lower-triangular matrix with 1 on the diagonal and the correlation parameters in the lower triangle, then the correlation matrix is defined as <code class="reqn">\Sigma = D^{-1/2} L L^\top D^{-1/2}</code>, where <code class="reqn">D = \textrm{diag}(L L^\top)</code>. For a single correlation parameter <code class="reqn">\theta_0</code>, this works out to <code class="reqn">\rho = \theta_0/\sqrt{1+\theta_0^2}</code>. The <code>get_cor</code> function returns the elements of the lower triangle of the correlation matrix, in column-major order.
</p>


<h3>Value</h3>

<p>a vector of correlation values (<code>get_cor</code>) or glmmTMB scaled-correlation parameters (<code>put_cor</code>)
</p>


<h3>Examples</h3>

<pre><code class="language-R">th0 &lt;- 0.5
stopifnot(all.equal(get_cor(th0),th0/sqrt(1+th0^2)))
set.seed(101)
C &lt;- get_cor(rnorm(21), return_val = "mat")
## test: round-trip
stopifnot(all.equal(get_cor(put_cor(C), return_val = "mat"), C))
</code></pre>


</div>