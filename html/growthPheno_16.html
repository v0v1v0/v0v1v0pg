<div class="container">

<table style="width: 100%;"><tr>
<td>byIndv4Times_GRsDiff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adds, to a <code>data.frame</code>, the growth rates calculated for consecutive times 
for individuals in a <code>data.frame</code> in long format by differencing 
response values.</h2>

<h3>Description</h3>

<p>Uses <code>AGRdiff</code>, <code>PGR</code> and 
<code>RGRdiff</code> to calculate growth rates continuously 
over time for the <code>response</code> by differencing pairs of pairs 
of <code>response</code> values  and 
stores the results in <code>data</code>. The subsets are those values 
with the same levels combinations of the <code>factor</code>s listed in 
<code>individuals</code>. 
</p>
<p>If <code>avail.time.diffs</code> is <code>FALSE</code>, the differences between 
consecutive time values are  calculated. For this, it is assumed that  
the same first <code>times</code> value is present in <code>data</code> for all 
<code>individuals</code>.</p>


<h3>Usage</h3>

<pre><code class="language-R">byIndv4Times_GRsDiff(data, responses, 
                     individuals = "Snapshot.ID.Tag", times = "DAP", 
                     which.rates = c("AGR","PGR","RGR"), 
                     suffices.rates=NULL, sep.rates = ".", 
                     avail.times.diffs = FALSE, ntimes2span = 2)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A <code>data.frame</code> containing the columns for which 
growth rates are to be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>responses</code></td>
<td>
<p>A <code>character</code> giving the names of the columns in 
<code>data</code> for which growth rates are to be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>individuals</code></td>
<td>
<p>A <code>character</code> giving the name(s) of the 
<code>factor</code>(s) that define the subsets of <code>response</code> 
that correspond to the <code>response</code> values for an individual 
(e.g. plant, pot, cart, plot or unit) for which growth rates are 
to be calculated continuously. If the columns corresponding to 
<code>individuals</code> are not <code>factor</code>(s) then they will 
be coerced to <code>factor</code>(s). The subsets are formed using 
<code>split</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>A <code>character</code> giving the name of the column in 
<code>data</code> containing the times at which the data was 
collected, either as a <code>numeric</code>, <code>factor</code>, 
or <code>character</code>. It will be used in calculating the 
growth rates. If a <code>factor</code> or <code>character</code>, 
the values should be numerics stored as characters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which.rates</code></td>
<td>
<p>A <code>character</code> giving the growth rates that are 
to be calculated. It should be a combination of one or more of 
<code>"AGR"</code>, <code>"PGR"</code> and <code>"RGR"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suffices.rates</code></td>
<td>
<p>A <code>character</code> giving the characters to be 
appended to the names of the responses to provide the names of the 
columns containing the calculated growth rates. The order of the 
suffices in <code>suffices.rates</code> should correspond to the order 
of the elements of <code>which.rates</code>. If <code>NULL</code>, the values 
of <code>which.rates</code> are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep.rates</code></td>
<td>
<p>A <code>character</code> giving the character(s) to be used 
to separate the <code>suffices.rates</code> value from a <code>response</code> 
value in constructing the name for a new rate. For no separator, 
set to <code>""</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avail.times.diffs</code></td>
<td>
<p>A <code>logical</code> indicating whether there is an 
appropriate column of <code>times</code> diffserences that can be used as 
the denominator in computing the growth rates. If <code>TRUE</code>, it will 
be assumed that the name of the column is the value of  <code>times</code> 
with <code>.diffs</code> appended. If <code>FALSE</code>, a column, whose 
column name will be the value of <code>times</code> with <code>.diffs</code> 
appended, will be formed and saved in the result, overwriting any 
existing columns with the constructed name in <code>data</code>. It will 
be calculated using the values of times in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntimes2span</code></td>
<td>
<p>A <code>numeric</code> giving the number of values in 
<code>times</code> to span in calculating growth rates by differencing. 
Each growth rate is calculated as the difference in the values of 
one of the <code>responses</code> for pairs of <code>times</code> values that 
are spanned by <code>ntimes2span</code> <code>times</code> values divided by 
the difference between this pair of <code>times</code> values. For 
<code>ntimes2span</code> set to 2, a growth rate is the  
difference between consecutive pairs of values of one of the 
<code>responses</code> divided by the difference between consecutive 
pairs of <code>times</code> values.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>data.frame</code> containing  <code>data</code> to which has been 
added i) a column for the differences between the <code>times</code>, 
if it is not already in <code>data</code>, and (ii) columns with growth rates. 
The name of the column for <code>times</code> differences will be the value 
of <code>times</code> with <code>".diffs"</code> appended. The name for each of 
the growth-rate columns will be either the value of <code>response</code> 
with one of <code>".AGR"</code>, <code>".PGR"</code> or <code>"RGR"</code>, or the 
corresponding value from <code>suffices.rates</code> appended. Each growth 
rate will be positioned at observation 
<code>ceiling(ntimes2span + 1) / 2</code> relative to the two times from 
which the growth rate is calculated.</p>


<h3>Author(s)</h3>

<p>Chris Brien</p>


<h3>See Also</h3>

<p><code>smoothSpline</code>, <code>byIndv4Times_SplinesGRs</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(exampleData)
longi.dat &lt;- byIndv4Times_GRsDiff(data = longi.dat, 
                                  response = "sPSA", 
                                  individuals = "Snapshot.ID.Tag", 
                                  times = "DAP", 
                                  which.rates=c("AGR", "RGR"), 
                                  avail.times.diffs = TRUE)
</code></pre>


</div>