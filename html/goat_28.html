<div class="container">

<table style="width: 100%;"><tr>
<td>rankscore</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>compute rank^2 scores and rescale these between 0~1000 (with further precision captured by decimals)</h2>

<h3>Description</h3>

<p>rank^2 can yield huge values, e.g. a large genelist of N=50000 genes would imply max gene score = 50000^2 = 2.5e+09.
Thus we rescale these scores between 0~1000 so downstream applications (e.g. sum of 10000 gene scores) don't explode to huge numbers.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rankscore(x, sort1, sort2, sort3, colname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>data.frame to sort (i.e. the genelist)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort1</code></td>
<td>
<p>numeric vector of length <code>nrow(x)</code> to sort by first/primarily (descending order, higher value gets better result score)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort2</code></td>
<td>
<p>numeric vector of length <code>nrow(x)</code> to sort by for breaking ties (descending order, higher value gets better result score)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort3</code></td>
<td>
<p>numeric vector of length <code>nrow(x)</code> to sort by for breaking ties (descending order, higher value gets better result score)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colname</code></td>
<td>
<p>name for result column in <code>x</code>  (overwritten if already exists)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data.frame <code>x</code> with added column <code>colname</code>, containing gene scores between 0 and 1000
</p>


<h3>Examples</h3>

<pre><code class="language-R">  x = data.frame(gene=c(1, 2, 3, 4, 5),
                 pvalue=c(0.01, 1, 1, 0.1, 1),
                 effectsize=c(-2, 0.25, 0.5, 1, 0.25))
  print(x, row.names = FALSE)
  print(rankscore(x, sort1 = -1*x$pvalue, sort2 = abs(x$effectsize),
        sort3 = x$gene, colname="score") |&gt;
    arrange(desc(score)), row.names = FALSE)
</code></pre>


</div>