<div class="container">

<table style="width: 100%;"><tr>
<td>survReport</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Survival Report</h2>

<h3>Description</h3>

<p>Generate a Survival Report with Kaplan-Meier Estimates
</p>


<h3>Usage</h3>

<pre><code class="language-R">survReport(
  formula,
  data = NULL,
  subset = NULL,
  na.action = na.retain,
  ylab = NULL,
  what = c("S", "1-S"),
  conf = c("diffbands", "bands", "bars", "none"),
  cause = NULL,
  panel = "surv",
  subpanel = NULL,
  head = NULL,
  tail = NULL,
  h = 3,
  w = 4.5,
  multi = FALSE,
  markevent = TRUE,
  mfrow = NULL,
  y.n.risk = 0,
  mylim = NULL,
  bot = 2,
  aehaz = TRUE,
  times = NULL,
  append = FALSE,
  opts = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula with survival (<code>Surv</code>) objects on the left hand side and an optional stratification factor on the right (or <code>1</code> if none).  The survival object component variables should be labeled; these labels are used for graph annotation.  If any of the <code>Surv</code> objects are competing risk objects (see <code>Surv</code>), event labels come from the factor levels in the variable that was the second argument to <code>Surv</code>, and the first factor level must correspond to right-censored observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>optional subsetting criteria</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>function for handling <code>NA</code>s while creating a data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>character. Passed to <code>survplot.npsurv</code> as the <code>ylab</code> argument.  Constructed by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p><code>"S"</code> (the default) to plot survival functions or <code>"1-S"</code> to plot cumulative incidence functions.  If any of the survival time objects on the left hand side are competing risk objects, the default is <code>"1-S"</code> and you may not change it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>character. See <code>survplot.npsurv</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cause</code></td>
<td>
<p>character vector or list.  If a vector, every <code>Surv</code> term on the left hand side of <code>formula</code> will have cumulative incidence plotted for all causes that appear in <code>cause</code>.  If a list, the list elements must correspond to the <code>Surv</code> terms in order, and specify which causes to display from the corresponding <code>Surv</code> object.  When <code>cause</code> is a list and one of its elements contains more than one character string, or when <code>cause</code> is a vector and for one <code>Surv</code> object it matches multiple causes, <code>survReport</code> produces more plots than there are <code>Surv</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>panel</code></td>
<td>
<p>character string.  Name of panel, which goes into file base names and figure labels for cross-referencing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subpanel</code></td>
<td>
<p>character string.  If calling <code>dReport</code> more than once for the same type of chart (categorical or continuous), specify <code>subpanel</code> to distinguish the multiple calls.  In that case, <code>-subpanel</code> will be appended to <code>panel</code> when creating figure labels and cross-references.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>head</code></td>
<td>
<p>character string.  Specifies initial text in the figure caption, otherwise a default is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tail</code></td>
<td>
<p>optional character string.  Specifies final text in the figure caption, e.g., what might have been put in a footnote in an ordinary text page.  This appears just before any needles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>numeric. Height of plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>numeric. Width of plots in inches.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multi</code></td>
<td>
<p>logical.  If <code>TRUE</code>, multiple figures are produced, otherwise a single figure with a matrix of survival plots is made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markevent</code></td>
<td>
<p>logical.  Applies only if <code>multi=TRUE</code>.  Specify <code>FALSE</code> to not put the event label in the extreme upper left of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mfrow</code></td>
<td>
<p>numeric 2-vector, used if <code>multi=FALSE</code>.  If not specified, default plot matrix layout will be figured.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.n.risk</code></td>
<td>
<p>used if <code>what="1-S"</code>, to specify <code>y</code> coordinate for putting numbers at risk, typically below the <code>x</code>-axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mylim</code></td>
<td>
<p>numeric 2-vector.  Used to force expansion of computed y-axis limits.  See <code>survplot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bot</code></td>
<td>
<p>number of spaces to reserve at bottom of plot for numbers at risk, if <code>what="1-S"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aehaz</code></td>
<td>
<p>logical.  Set to <code>FALSE</code> to not print number of events and hazard rate on plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>numeric vector.  If specified, prints cumulative incidence probabilities at those times on the plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>logical. If <code>TRUE</code> output will be appended instead of overwritten.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opts</code></td>
<td>
<p>list.  A list specifying arguments to <code>survReport</code> and <code>startPlot</code> that override any other arguments.  This is useful when making a long series of <code>survReport</code> calls with the same options, as the options can be defined up front in a list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## See tests directory test.Rnw for a live example
## Not run: 
  set.seed(1)
  n &lt;- 400
  dat &lt;- data.frame(t1=runif(n, 2, 5), t2=runif(n, 2, 5),
                    e1=rbinom(n, 1, .5), e2=rbinom(n, 1, .5),
                    treat=sample(c('a','b'), n, TRUE))
  dat &lt;- upData(dat,
                labels=c(t1='Time to operation',
                         t2='Time to rehospitalization',
                         e1='Operation', e2='Hospitalization',
                         treat='Treatment')
                units=c(t1='year', t2='year'))
  survReport(Surv(t1, e1) + Surv(t2, e2) ~ treat, data=dat)

  dat &lt;- upData(dat, labels=c(t1='Follow-up Time', t2='Time'),
                cause=factor(sample(c('death','MI','censor'), n, TRUE),
                             c('censor', 'MI', 'death')))
  survReport(Surv(t1, cause) ~ treat, cause='death', data=dat)
  survReport(Surv(t1, cause) + Surv(t2, cause) ~ treat,
             cause=list(c('death', 'MI'), 'death'), data=dat)
  # Two plots for t1, one plot for t2

## End(Not run)
</code></pre>


</div>