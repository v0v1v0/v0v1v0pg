<div class="container">

<table style="width: 100%;"><tr>
<td>opt_footnote_spec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Option to specify the formatting of footnote marks</h2>

<h3>Description</h3>

<p>Modify the way footnote marks are formatted. This can be performed for those
footnote marks that alight to the targeted text in cells in various locations
in the table or the footnote marks that appear in the table footer. A simple
specification string can be provided for either or both types of marks in
<code>opt_footnote_spec()</code> . This function serves as a shortcut for using either
of <code>tab_options(footnotes.spec_ref = {spec})</code> or
<code>tab_options(footnotes.spec_ftr = {spec})</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">opt_footnote_spec(data, spec_ref = NULL, spec_ftr = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">⁠obj:&lt;gt_tbl&gt;⁠</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code>gt()</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec_ref, spec_ftr</code></td>
<td>
<p><em>Specifications for formatting of footnote marks</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Specification of the footnote marks when behaving as footnote references
and as marks in the footer section of the table. This is a string
containing spec characters. The default is the spec string <code>"^i"</code>, which is
superscript text set in italics.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Specification rules for the formatting of footnote marks</h3>

<p>A footnote spec consists of a string containing control characters for
formatting. Not every type of formatting makes sense for footnote marks so
the specification is purposefully constrained to the following:
</p>

<ul>
<li>
<p> as superscript text (with the <code>"^"</code> control character) or regular-sized
text residing on the baseline
</p>
</li>
<li>
<p> bold text (with <code>"b"</code>), italicized text (with <code>"i"</code>), or unstyled text
(don't use either of the <code>"b"</code> or <code>"i"</code> control characters)
</p>
</li>
<li>
<p> enclosure in parentheses (use <code>"("</code> / <code>")"</code>) or square brackets (with
<code>"["</code> / <code>"]"</code>)
</p>
</li>
<li>
<p> a period following the mark (using <code>"."</code>); this is most commonly used in
the table footer
</p>
</li>
</ul>
<p>With the aforementioned control characters we could, for instance, format
the footnote marks to be superscript text in bold type with <code>"^b"</code>. We might
want the marks in the footer to be regular-sized text in parentheses, so the
spec could be either <code>"()"</code> or <code>"(x)"</code> (you can optionally use <code>"x"</code> as a
helpful placeholder for the marks).
</p>


<h3>Examples</h3>

<p>Use a modified version of <code>sp500</code> the dataset to create a <strong>gt</strong> table with
row labels. We'll add two footnotes using the <code>tab_footnote()</code> function. We
can call <code>opt_footnote_spec()</code> to specify that the marks of the footnote
reference should be superscripts in bold, and, the marks in the footer
section should be enclosed in parentheses.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::filter(date &gt;= "1987-10-14" &amp; date &lt;= "1987-10-25") |&gt;
  dplyr::select(date, open, close, volume) |&gt;
  dplyr::mutate(difference = close - open) |&gt;
  dplyr::mutate(change = (close - open) / open) |&gt;
  dplyr::mutate(day = vec_fmt_datetime(date, format = "E")) |&gt;
  dplyr::arrange(-dplyr::row_number()) |&gt;
  gt(rowname_col = "date") |&gt;
  fmt_currency() |&gt;
  fmt_number(columns = volume, suffixing = TRUE) |&gt;
  fmt_percent(columns = change) |&gt;
  cols_move_to_start(columns = day) |&gt;
  cols_width(
    stub() ~ px(130),
    day ~ px(50),
    everything() ~ px(100)
  ) |&gt;
  tab_footnote(
    footnote = "Commerce report on trade deficit.",
    locations = cells_stub(rows = 1)
  ) |&gt;
  tab_footnote(
    footnote = "Black Monday market crash, representing the greatest
    one-day percentage decline in U.S. stock market history.",
    locations = cells_body(columns = change, rows = change &lt; -0.15)
  ) |&gt;
  opt_footnote_spec(spec_ref = "^xb", spec_ftr = "(x)")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_footnote_spec_1.png" alt="This image of a table was generated from the first code example in the `opt_footnote_spec()` help file." style="width:100%;"><h3>Function ID</h3>

<p>10-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code>opt_align_table_header()</code>,
<code>opt_all_caps()</code>,
<code>opt_css()</code>,
<code>opt_footnote_marks()</code>,
<code>opt_horizontal_padding()</code>,
<code>opt_interactive()</code>,
<code>opt_row_striping()</code>,
<code>opt_stylize()</code>,
<code>opt_table_font()</code>,
<code>opt_table_lines()</code>,
<code>opt_table_outline()</code>,
<code>opt_vertical_padding()</code>
</p>


</div>