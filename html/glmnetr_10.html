<div class="container">

<table style="width: 100%;"><tr>
<td>cv.stepreg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross validation informed stepwise regression model fit.</h2>

<h3>Description</h3>

<p>Cross validation informed stepwise regression model fit.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cv.stepreg(
  xs_cv,
  start_cv = NULL,
  y_cv,
  event_cv,
  family = "cox",
  steps_n = 0,
  folds_n = 10,
  method = "loglik",
  seed = NULL,
  foldid = NULL,
  stratified = 1,
  track = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xs_cv</code></td>
<td>
<p>predictor input - an n by p matrix, where n (rows) is sample size, and p (columns) 
the number of predictors.  Must be in matrix form for complete data, no NA's, no Inf's, etc.,
and not a data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_cv</code></td>
<td>
<p>start time, Cox model only - class numeric of length same as number of patients (n)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_cv</code></td>
<td>
<p>output vector: time, or stop time for Cox model, Y_ 0 or 1 for binomal (logistic), numeric for gaussian. 
#' Must be a vector of length same as number of sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event_cv</code></td>
<td>
<p>event indicator, 1 for event, 0 for census, Cox model only.
Must be a numeric vector of length same as sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>model family, "cox", "binomial" or "gaussian"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>steps_n</code></td>
<td>
<p>Maximun number of steps done in stepwise regression fitting.  If 0, then takes the value rank(xs_cv).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folds_n</code></td>
<td>
<p>number of folds for cross validation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>method for choosing model in stepwise procedure, "loglik" or "concordance".
Other procedures use the "loglik".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>a seed for set.seed() to assure one can get the same results twice.  If NULL 
the program will generate a random seed.  Whether specified or NULL, the seed is stored in the output
object for future reference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>foldid</code></td>
<td>
<p>a vector of integers to associate each record to a fold.  The integers should be between 1 and folds_n.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratified</code></td>
<td>
<p>folds are to be constructed stratified on an indicator outcome 
1 (default) for yes, 0 for no.  Pertains to event variable for "cox" and y_ for 
"binomial" family.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>track</code></td>
<td>
<p>indicate whether or not to update progress in the console.  Default of
0 suppresses these updates.  The option of 1 provides these updates.  
In fitting clinical data with non full rank design matrix we have found some 
R-packages to take a very long time.  Therefore we allow the user to track the 
program progress and judge whether things are 
moving forward or if the process should be stopped.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>cross validation infomred stepwise regression model fit tuned by number of model terms or p-value for inclusion.
</p>


<h3>See Also</h3>

<p><code>predict.cv.stepreg</code> , <code>summary.cv.stepreg</code>, <code>stepreg</code> , <code>aicreg</code> , <code>nested.glmnetr</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(955702213)
sim.data=glmnetr.simdata(nrows=1000, ncols=100, beta=c(0,1,1))
# this gives a more interesting case but takes longer to run
xs=sim.data$xs           
# this will work numerically as an example 
xs=sim.data$xs[,c(2,3,50:55)] 
dim(xs)
y_=sim.data$yt 
event=sim.data$event
# for this example we use small numbers for steps_n and folds_n to shorten run time 
cv.stepreg.fit = cv.stepreg(xs, NULL, y_, event, steps_n=10, folds_n=3, track=0)
summary(cv.stepreg.fit)

</code></pre>


</div>