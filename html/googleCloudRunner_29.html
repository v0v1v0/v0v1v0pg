<div class="container">

<table style="width: 100%;"><tr>
<td>cr_buildstep_targets</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Buildstep to run a targets pipeline on Cloud Build</h2>

<h3>Description</h3>

<p>This is a buildstep to help upload a targets pipeline, see cr_build_targets for examples and suggested workflow
</p>


<h3>Usage</h3>

<pre><code class="language-R">cr_buildstep_targets(
  task_args = NULL,
  tar_make = "targets::tar_make()",
  task_image = "gcr.io/gcer-public/targets",
  id = "target pipeline"
)

cr_buildstep_targets_setup(bucket_folder)

cr_buildstep_targets_teardown(bucket_folder, last_id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>task_args</code></td>
<td>
<p>If not NULL, a named list of additional arguments to send to cr_buildstep_r when its executing the tar_make command (such as environment arguments or waitFor ids)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tar_make</code></td>
<td>
<p>The R script that will run in the <code>tar_make()</code> step. Modify to include custom settings</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>task_image</code></td>
<td>
<p>An existing Docker image that will be used to run your targets workflow after the targets meta has been downloaded from Google Cloud Storage</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>The id of the buildstep.  In linkcr_buildstep_targets_multi this is used along with <code>waitFor</code> to determine the order of execution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bucket_folder</code></td>
<td>
<p>The Google Cloud Storage bucket and folder the target metadata will be saved to, e.g. <code>gs://my-bucket/my_target_project</code>   You can also pass in build substitution variables such as <code>"${_MY_BUCKET}"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>last_id</code></td>
<td>
<p>The final buildstep that needs to complete before the upload.  If left NULL then will default to the last tar_target step.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Other Cloud Buildsteps: 
<code>cr_buildstep_bash()</code>,
<code>cr_buildstep_decrypt()</code>,
<code>cr_buildstep_df()</code>,
<code>cr_buildstep_docker()</code>,
<code>cr_buildstep_edit()</code>,
<code>cr_buildstep_extract()</code>,
<code>cr_buildstep_gcloud()</code>,
<code>cr_buildstep_gitsetup()</code>,
<code>cr_buildstep_mailgun()</code>,
<code>cr_buildstep_nginx_setup()</code>,
<code>cr_buildstep_packagetests()</code>,
<code>cr_buildstep_pkgdown()</code>,
<code>cr_buildstep_run()</code>,
<code>cr_buildstep_r()</code>,
<code>cr_buildstep_secret()</code>,
<code>cr_buildstep_slack()</code>,
<code>cr_buildstep()</code>
</p>


</div>